{"ast":null,"code":"import _slicedToArray from\"/Users/mac/Desktop/esgrown/node_modules/@babel/runtime/helpers/esm/slicedToArray\";import React,{useEffect,useState}from'react';import{Spinner}from'react-bootstrap';import axios from'axios';import GenServiceCard from'./gen_service_card';var EASService=function EASService(){var _useState=useState(true),_useState2=_slicedToArray(_useState,2),spinner=_useState2[0],setSpinner=_useState2[1];var _useState3=useState([]),_useState4=_slicedToArray(_useState3,2),data=_useState4[0],setData=_useState4[1];var _useState5=useState(1),_useState6=_slicedToArray(_useState5,2),counter=_useState6[0],setCounter=_useState6[1];var _useState7=useState([]),_useState8=_slicedToArray(_useState7,2),chunk=_useState8[0],setChunk=_useState8[1];var chunkify=function chunkify(arr,size){var currentChunk;if(counter==1){currentChunk=arr.slice(0,size);setSpinner(false);return currentChunk;}else{currentChunk=arr.slice(counter,counter+=size);setSpinner(false);return currentChunk;}};var loadMore=function loadMore(){setCounter(counter+1);setChunk(chunkify(data,3));};//get data from api\nuseEffect(function(){var user=JSON.parse(sessionStorage.getItem('key'));axios.get(\"https://jsonplaceholder.typicode.com/posts\").then(function(res){console.log(res.data);setData(res.data);setChunk(chunkify(res.data,3));}).catch(function(err){return console.log(err);});// axios.get(`http://localhost:5000/servicecontenteas/`)\n//     .then(res => {\n//         if (user.sub_status_eas === 'active') {\n//             // get user level of education\n//             //make a call to the intended study api and get all stored intended study\n//             // if user level of education == res.data.level of edu && intended study == res.data.intended study\n//             // setData(res.data.subjects)\n//when he clicks on any of the subjects, make an api call to get content for each subject\n//         }\n//         setSpinner(false);\n//     })\n//     .catch(err => console.log(err))\n},[]);return(// <div className=\"container\">\n//     <div className=\"row\">\n//         <div className=\"col col-lg-10 col-sm-6\"\n//             style={{ width: '100%', height: '100%', boxShadow: '0px 0px 5px 5px rgba(0,0,0,0.15)', background: '#ffffff', padding: '20px', borderRadius: '10px', overflow: 'scroll', overflowX: 'hidden' }}>\n//             <div className=\"\">\n//                 <div>\n//                     {spinner ? <Spinner animation=\"grow\" /> : data.map((data) => {\n//                         return (\n//                             <div className=\"container\">\n//                                 <div className=\"row\">\n//                                     <div className=\"col-md-12\" style={{ width: '100%', height: '100%' }}>\n//                                         <div className=\"card\" style={{ fontFamily: 'Roboto,sans-serif', boxShadow: '0px 0px 5px 5px rgba(0,0,0,0.15)', marginBottom: '10px' }}>\n//                                             <div className=\"card-content\" style={{ padding: '10px' }}>\n//                                                 {\n//                                                     data.media ? data.media.split('/')[0] === \"data:image\" ? <img src={data.media} style={{ width: '100%' }} /> : <video src={data.media} controls style={{ width: '100%' }}></video> : ''\n//                                                 }\n//                                                 <h6 style={{ marginTop: '10px' }}>Title: {data.title}</h6>\n//                                                 <p>{data.body}</p>\n//                                             </div>\n//                                         </div>\n//                                     </div>\n//                                 </div>\n//                             </div>\n//                         )\n//                     })}\n//                 </div>\n//             </div>\n//         </div>\n//     </div>\n// </div>\nReact.createElement(React.Fragment,null,spinner?React.createElement(\"div\",{className:\"d-flex justify-content-center\"},React.createElement(\"i\",{className:\"fa fa-spinner fa-spin\"})):chunk.map(function(data){return React.createElement(GenServiceCard,{data:data});}),React.createElement(\"div\",{className:\"d-flex justify-content-center\",style:{cursor:'pointer'}},React.createElement(\"span\",{onClick:loadMore},\" MORE...\"))));};export default EASService;","map":{"version":3,"sources":["/Users/mac/Desktop/esgrown/src/components/ind_dashboard_components/services-components/service-cards/easservice.js"],"names":["React","useEffect","useState","Spinner","axios","GenServiceCard","EASService","spinner","setSpinner","data","setData","counter","setCounter","chunk","setChunk","chunkify","arr","size","currentChunk","slice","loadMore","user","JSON","parse","sessionStorage","getItem","get","then","res","console","log","catch","err","map","cursor"],"mappings":"6GAAA,MAAOA,CAAAA,KAAP,EAAgBC,SAAhB,CAA2BC,QAA3B,KAA2C,OAA3C,CACA,OAASC,OAAT,KAAwB,iBAAxB,CACA,MAAOC,CAAAA,KAAP,KAAkB,OAAlB,CACA,MAAOC,CAAAA,cAAP,KAA2B,oBAA3B,CAMA,GAAMC,CAAAA,UAAU,CAAG,QAAbA,CAAAA,UAAa,EAAM,eAESJ,QAAQ,CAAC,IAAD,CAFjB,wCAEdK,OAFc,eAELC,UAFK,8BAGGN,QAAQ,CAAC,EAAD,CAHX,yCAGdO,IAHc,eAGRC,OAHQ,8BAIOR,QAAQ,CAAC,CAAD,CAJf,yCAIhBS,OAJgB,eAIPC,UAJO,8BAKKV,QAAQ,CAAC,EAAD,CALb,yCAKdW,KALc,eAKPC,QALO,eAOrB,GAAMC,CAAAA,QAAQ,CAAG,QAAXA,CAAAA,QAAW,CAACC,GAAD,CAAMC,IAAN,CAAe,CAC5B,GAAIC,CAAAA,YAAJ,CACA,GAAIP,OAAO,EAAI,CAAf,CAAkB,CACdO,YAAY,CAAGF,GAAG,CAACG,KAAJ,CAAU,CAAV,CAAaF,IAAb,CAAf,CACAT,UAAU,CAAC,KAAD,CAAV,CACA,MAAOU,CAAAA,YAAP,CACH,CAJD,IAIO,CACHA,YAAY,CAAGF,GAAG,CAACG,KAAJ,CAAUR,OAAV,CAAmBA,OAAO,EAAIM,IAA9B,CAAf,CACAT,UAAU,CAAC,KAAD,CAAV,CACA,MAAOU,CAAAA,YAAP,CAEH,CACJ,CAZD,CAcA,GAAME,CAAAA,QAAQ,CAAG,QAAXA,CAAAA,QAAW,EAAM,CACnBR,UAAU,CAACD,OAAO,CAAG,CAAX,CAAV,CACAG,QAAQ,CAACC,QAAQ,CAACN,IAAD,CAAO,CAAP,CAAT,CAAR,CACH,CAHD,CAIA;AACAR,SAAS,CAAC,UAAM,CACZ,GAAMoB,CAAAA,IAAI,CAAGC,IAAI,CAACC,KAAL,CAAWC,cAAc,CAACC,OAAf,CAAuB,KAAvB,CAAX,CAAb,CAEArB,KAAK,CAACsB,GAAN,+CACKC,IADL,CACU,SAAAC,GAAG,CAAI,CACTC,OAAO,CAACC,GAAR,CAAYF,GAAG,CAACnB,IAAhB,EACAC,OAAO,CAACkB,GAAG,CAACnB,IAAL,CAAP,CACAK,QAAQ,CAACC,QAAQ,CAACa,GAAG,CAACnB,IAAL,CAAW,CAAX,CAAT,CAAR,CAEH,CANL,EAMOsB,KANP,CAMa,SAAAC,GAAG,QAAIH,CAAAA,OAAO,CAACC,GAAR,CAAYE,GAAZ,CAAJ,EANhB,EAQA;AACA;AAEA;AACA;AACA;AACA;AACA;AACgB;AAChB;AAGA;AACA;AACA;AACH,CA1BQ,CA0BN,EA1BM,CAAT,CA4BA,MACI;AACA;AACA;AACA;AACA;AACA;AACA;AAEA;AACA;AACA;AACA;AACA;AACA;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,oBAAC,KAAD,CAAO,QAAP,MAEQzB,OAAO,CAAG,2BAAK,SAAS,CAAC,+BAAf,EAA+C,yBAAG,SAAS,CAAC,uBAAb,EAA/C,CAAH,CAEHM,KAAK,CAACoB,GAAN,CAAU,SAACxB,IAAD,CAAU,CAChB,MACI,qBAAC,cAAD,EAAgB,IAAI,CAAEA,IAAtB,EADJ,CAGH,CAJD,CAJZ,CAUI,2BAAK,SAAS,CAAC,+BAAf,CAA+C,KAAK,CAAE,CAAEyB,MAAM,CAAE,SAAV,CAAtD,EACI,4BAAM,OAAO,CAAEd,QAAf,aADJ,CAVJ,CAjCJ,EAgDH,CAtGD,CAwGA,cAAed,CAAAA,UAAf","sourcesContent":["import React, { useEffect, useState } from 'react';\nimport { Spinner } from 'react-bootstrap';\nimport axios from 'axios';\nimport GenServiceCard from './gen_service_card';\n\n\n\n\n\nconst EASService = () => {\n\n    const [spinner, setSpinner] = useState(true)\n    const [data, setData] = useState([])\n    let [counter, setCounter] = useState(1)\n    const [chunk, setChunk] = useState([]);\n\n    const chunkify = (arr, size) => {\n        let currentChunk\n        if (counter == 1) {\n            currentChunk = arr.slice(0, size);\n            setSpinner(false);\n            return currentChunk\n        } else {\n            currentChunk = arr.slice(counter, counter += size);\n            setSpinner(false);\n            return currentChunk\n\n        }\n    }\n\n    const loadMore = () => {\n        setCounter(counter + 1);\n        setChunk(chunkify(data, 3));\n    }\n    //get data from api\n    useEffect(() => {\n        const user = JSON.parse(sessionStorage.getItem('key'));\n\n        axios.get(`https://jsonplaceholder.typicode.com/posts`)\n            .then(res => {\n                console.log(res.data)\n                setData(res.data)\n                setChunk(chunkify(res.data, 3));\n\n            }).catch(err => console.log(err));\n\n        // axios.get(`http://localhost:5000/servicecontenteas/`)\n        //     .then(res => {\n\n        //         if (user.sub_status_eas === 'active') {\n        //             // get user level of education\n        //             //make a call to the intended study api and get all stored intended study\n        //             // if user level of education == res.data.level of edu && intended study == res.data.intended study\n        //             // setData(res.data.subjects)\n                        //when he clicks on any of the subjects, make an api call to get content for each subject\n        //         }\n\n\n        //         setSpinner(false);\n        //     })\n        //     .catch(err => console.log(err))\n    }, []);\n\n    return (\n        // <div className=\"container\">\n        //     <div className=\"row\">\n        //         <div className=\"col col-lg-10 col-sm-6\"\n        //             style={{ width: '100%', height: '100%', boxShadow: '0px 0px 5px 5px rgba(0,0,0,0.15)', background: '#ffffff', padding: '20px', borderRadius: '10px', overflow: 'scroll', overflowX: 'hidden' }}>\n        //             <div className=\"\">\n        //                 <div>\n        //                     {spinner ? <Spinner animation=\"grow\" /> : data.map((data) => {\n\n        //                         return (\n        //                             <div className=\"container\">\n        //                                 <div className=\"row\">\n        //                                     <div className=\"col-md-12\" style={{ width: '100%', height: '100%' }}>\n        //                                         <div className=\"card\" style={{ fontFamily: 'Roboto,sans-serif', boxShadow: '0px 0px 5px 5px rgba(0,0,0,0.15)', marginBottom: '10px' }}>\n        //                                             <div className=\"card-content\" style={{ padding: '10px' }}>\n\n        //                                                 {\n        //                                                     data.media ? data.media.split('/')[0] === \"data:image\" ? <img src={data.media} style={{ width: '100%' }} /> : <video src={data.media} controls style={{ width: '100%' }}></video> : ''\n        //                                                 }\n        //                                                 <h6 style={{ marginTop: '10px' }}>Title: {data.title}</h6>\n        //                                                 <p>{data.body}</p>\n        //                                             </div>\n        //                                         </div>\n        //                                     </div>\n        //                                 </div>\n        //                             </div>\n        //                         )\n        //                     })}\n        //                 </div>\n        //             </div>\n        //         </div>\n        //     </div>\n        // </div>\n        <React.Fragment>\n            {\n                spinner ? <div className=\"d-flex justify-content-center\"><i className=\"fa fa-spinner fa-spin\"></i></div>\n                    :\n                    chunk.map((data) => {\n                        return (\n                            <GenServiceCard data={data} />\n                        )\n                    })\n            }\n            <div className=\"d-flex justify-content-center\" style={{ cursor: 'pointer' }}>\n                <span onClick={loadMore}> MORE...</span>\n            </div>\n        </React.Fragment>\n    );\n}\n\nexport default EASService;\n"]},"metadata":{},"sourceType":"module"}