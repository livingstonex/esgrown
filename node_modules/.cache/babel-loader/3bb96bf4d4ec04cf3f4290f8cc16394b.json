{"ast":null,"code":"import _defineProperty from\"/Users/mac/Desktop/esgrown/node_modules/@babel/runtime/helpers/esm/defineProperty\";import _classCallCheck from\"/Users/mac/Desktop/esgrown/node_modules/@babel/runtime/helpers/esm/classCallCheck\";import _createClass from\"/Users/mac/Desktop/esgrown/node_modules/@babel/runtime/helpers/esm/createClass\";import _possibleConstructorReturn from\"/Users/mac/Desktop/esgrown/node_modules/@babel/runtime/helpers/esm/possibleConstructorReturn\";import _getPrototypeOf from\"/Users/mac/Desktop/esgrown/node_modules/@babel/runtime/helpers/esm/getPrototypeOf\";import _inherits from\"/Users/mac/Desktop/esgrown/node_modules/@babel/runtime/helpers/esm/inherits\";import React,{Component}from'react';import{Button,Form,FormGroup,Label,Input,Modal,ModalHeader,ModalBody,ModalFooter,InputGroup,InputGroupAddon,InputGroupText}from'reactstrap';import axios from'axios';var EasUpdateForm=/*#__PURE__*/function(_Component){_inherits(EasUpdateForm,_Component);function EasUpdateForm(){var _getPrototypeOf2;var _this;_classCallCheck(this,EasUpdateForm);for(var _len=arguments.length,args=new Array(_len),_key=0;_key<_len;_key++){args[_key]=arguments[_key];}_this=_possibleConstructorReturn(this,(_getPrototypeOf2=_getPrototypeOf(EasUpdateForm)).call.apply(_getPrototypeOf2,[this].concat(args)));_this.state={levelOfEducation:'',intendedStudy:'',sub_status:false,user_id:'',message:'',LOE:true,FIS:true};_this.handleUpdate=function(props){var _this$state=_this.state,levelOfEducation=_this$state.levelOfEducation,intendedStudy=_this$state.intendedStudy;var id=_this.state.user_id;var data={levelofeducation:levelOfEducation,field_of_intended_study:intendedStudy};//make axios request to update db\naxios.post(\"http://localhost:5000/subscriptioneas/update/\".concat(id),data).then(function(response){if(response.status===200){_this.setState({message:'Subscription details updated successful'});}}).catch(function(err){return console.log(err.message);});};_this.changeHandler=function(event){var name=event.target.name;var value=event.target.value;_this.setState(_defineProperty({},name,value));};return _this;}_createClass(EasUpdateForm,[{key:\"componentDidMount\",//get values to be updated\nvalue:function componentDidMount(){var _this2=this;var userData=JSON.parse(sessionStorage.getItem('key'));this.setState({user_id:userData.id});axios.get(\"http://localhost:5000/subscriptioneas/\".concat(userData.id)).then(function(res){return _this2.setState({levelOfEducation:res.data[0].levelofeducation,intendedStudy:res.data[0].field_of_intended_study,sub_status:res.data[0].sub_status});}).catch(function(err){return err.message;});}},{key:\"render\",value:function render(){var _this3=this;var _this$props=this.props,isOpen=_this$props.isOpen,toggle=_this$props.toggle;var sub_statusColor=this.state.sub_status==='active'?'#97ba0d':'#e68723';var buttonText=this.state.sub_status==='active'?'PAID':'PAY';return React.createElement(\"div\",null,React.createElement(Modal,{isOpen:isOpen,toggle:toggle,centered:true},React.createElement(ModalHeader,null,React.createElement(\"div\",{style:{float:'left'}},React.createElement(\"p\",{style:{font:'verdana',fontSize:18}},\"Education Advisory Services Subscription\")),React.createElement(\"div\",{style:{float:'right',marginLeft:300,marginTop:-45,paddingRight:0}},React.createElement(Button,{style:{float:'right',backgroundColor:sub_statusColor,color:'white',border:sub_statusColor}},buttonText))),React.createElement(ModalBody,null,React.createElement(Form,null,React.createElement(Label,{for:\"levelOfEducation\"},\"Level Of Education\"),React.createElement(InputGroup,null,React.createElement(Input,{type:\"select\",name:\"levelOfEducation\",value:this.state.levelOfEducation,onChange:this.changeHandler,disabled:this.state.LOE},React.createElement(\"option\",null,\"Level of Education\"),React.createElement(\"option\",{value:\"degree\"},\"Degree\"),React.createElement(\"option\",{value:\"masters\"},\"Masters\"),React.createElement(\"option\",{value:\"phd\"},\"Ph.D\")),React.createElement(InputGroupAddon,{addonType:\"append\"},React.createElement(Button,{style:{background:'lightgrey',border:'none'},onClick:function onClick(){return _this3.setState({LOE:!_this3.state.LOE});}},\"edit\"))),React.createElement(\"br\",null),React.createElement(Label,{for:\"intendedStudy\"},\"Field Of Intended Study\"),React.createElement(InputGroup,null,React.createElement(Input,{type:\"text\",name:\"intendedStudy\",value:this.state.intendedStudy,onChange:this.changeHandler,disabled:this.state.FIS}),React.createElement(InputGroupAddon,{addonType:\"append\"},React.createElement(Button,{style:{background:'lightgrey',border:'none'},onClick:function onClick(){return _this3.setState({FIS:!_this3.state.FIS});}},\"edit\"))))),React.createElement(ModalFooter,null,this.state.message==='Subscription details updated successful'?React.createElement(\"span\",{style:{color:'green'}},this.state.message):React.createElement(\"span\",{style:{color:'red'}},this.state.message),' ','',React.createElement(Button,{style:{background:'#1c8496',border:'#1c8496',color:'white'},onClick:this.handleUpdate},\"Update\"))));}}]);return EasUpdateForm;}(Component);export default EasUpdateForm;","map":{"version":3,"sources":["/Users/mac/Desktop/esgrown/src/components/ind_dashboard_components/subscription-pages/eas/eas_sub_page/eas_sub_page.js"],"names":["React","Component","Button","Form","FormGroup","Label","Input","Modal","ModalHeader","ModalBody","ModalFooter","InputGroup","InputGroupAddon","InputGroupText","axios","EasUpdateForm","state","levelOfEducation","intendedStudy","sub_status","user_id","message","LOE","FIS","handleUpdate","props","id","data","levelofeducation","field_of_intended_study","post","then","response","status","setState","catch","err","console","log","changeHandler","event","name","target","value","userData","JSON","parse","sessionStorage","getItem","get","res","isOpen","toggle","sub_statusColor","buttonText","float","font","fontSize","marginLeft","marginTop","paddingRight","backgroundColor","color","border","background"],"mappings":"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","sourcesContent":["import React, { Component } from 'react';\nimport {\n    Button,\n    Form, FormGroup,\n    Label, Input,\n    Modal, ModalHeader,\n    ModalBody, ModalFooter,\n    InputGroup, InputGroupAddon,\n    InputGroupText,\n} from 'reactstrap';\nimport axios from 'axios';\n\nclass EasUpdateForm extends Component {\n\n    state = {\n        levelOfEducation: '',\n        intendedStudy: '',\n        sub_status: false,\n        user_id: '',\n        message: '',\n        LOE: true,\n        FIS: true\n    }\n\n\n    handleUpdate = (props) => {\n\n        const { levelOfEducation, intendedStudy } = this.state;\n\n        const id = this.state.user_id;\n\n\n        const data = {\n            levelofeducation: levelOfEducation,\n            field_of_intended_study: intendedStudy\n        }\n\n\n        //make axios request to update db\n        axios.post(`http://localhost:5000/subscriptioneas/update/${id}`, data)\n            .then(response => {\n                if (response.status === 200) {\n                    this.setState({ message: 'Subscription details updated successful' })\n                }\n            })\n            .catch(err => console.log(err.message))\n\n\n    }\n\n\n    //get values to be updated\n    componentDidMount() {\n        const userData = JSON.parse(sessionStorage.getItem('key'));\n\n        this.setState({ user_id: userData.id });\n\n\n        axios.get(`http://localhost:5000/subscriptioneas/${userData.id}`)\n            .then(res => this.setState({\n                levelOfEducation: res.data[0].levelofeducation,\n                intendedStudy: res.data[0].field_of_intended_study,\n                sub_status: res.data[0].sub_status\n\n            }))\n\n            .catch(err => err.message)\n\n    }\n\n\n\n    changeHandler = event => {\n\n        const name = event.target.name;\n\n        const value = event.target.value;\n\n        this.setState({ [name]: value });\n    }\n\n\n    render() {\n        const { isOpen, toggle } = this.props;\n\n        const sub_statusColor = this.state.sub_status === 'active' ? '#97ba0d':'#e68723'  ;\n\n        const buttonText = this.state.sub_status === 'active' ? 'PAID' : 'PAY';\n\n\n        return (\n\n            <div>\n                <Modal isOpen={isOpen} toggle={toggle} centered>\n                    <ModalHeader>\n                        <div style={{ float: 'left' }}><p style={{ font: 'verdana', fontSize: 18 }}>Education Advisory Services Subscription</p></div>\n                        <div style={{ float: 'right', marginLeft: 300, marginTop: -45, paddingRight: 0 }}><Button style={{ float: 'right', backgroundColor: sub_statusColor, color: 'white', border: sub_statusColor }}>{buttonText}</Button></div>\n                    </ModalHeader>\n                    <ModalBody>\n                        <Form>\n                            {/* <FormGroup>\n                                <Label for=\"levelOfEducation\">Level Of Education</Label>\n                                <Input type=\"text\"\n                                    name=\"levelOfEducation\"\n                                    value={this.state.levelOfEducation}\n                                    onChange={this.changeHandler}\n                                />\n                            </FormGroup> */}\n                            <Label for=\"levelOfEducation\">Level Of Education</Label>\n                            <InputGroup>\n                                <Input type=\"select\"\n                                    name=\"levelOfEducation\"\n                                    value={this.state.levelOfEducation}\n                                    onChange={this.changeHandler}\n                                    disabled={this.state.LOE}\n                                >\n                                    <option>Level of Education</option>\n                                    <option value=\"degree\">Degree</option>\n                                    <option value=\"masters\">Masters</option>\n                                    <option value=\"phd\">Ph.D</option>\n                                </Input>\n                                <InputGroupAddon addonType=\"append\">\n                                    <Button style={{ background: 'lightgrey', border: 'none' }} onClick={() => this.setState({ LOE: !this.state.LOE })}>edit</Button>\n                                </InputGroupAddon>\n                            </InputGroup>\n                            <br />\n                            <Label for=\"intendedStudy\">Field Of Intended Study</Label>\n                            <InputGroup>\n                                <Input type=\"text\"\n                                    name=\"intendedStudy\"\n                                    value={this.state.intendedStudy}\n                                    onChange={this.changeHandler}\n                                    disabled={this.state.FIS}\n                                />\n                                <InputGroupAddon addonType=\"append\">\n                                    <Button style={{ background: 'lightgrey', border: 'none' }} onClick={() => this.setState({ FIS: !this.state.FIS })}>edit</Button>\n                                </InputGroupAddon>\n                            </InputGroup>\n\n                            {/* <FormGroup>\n                                <Label for=\"intendedStudy\">Field Of Intended Study</Label>\n                                <Input type=\"text\"\n                                    name=\"intendedStudy\"\n                                    value={this.state.intendedStudy}\n                                    onChange={this.changeHandler}\n                                />\n                            </FormGroup> */}\n                        </Form>\n                    </ModalBody>\n                    <ModalFooter>\n                        {this.state.message === 'Subscription details updated successful' ? <span style={{ color: 'green' }}>{this.state.message}</span> : <span style={{ color: 'red' }}>{this.state.message}</span>}\n                        {' '}{''}\n                        <Button style={{ background: '#1c8496', border:'#1c8496', color: 'white' }} onClick={this.handleUpdate}>Update</Button>\n                    </ModalFooter>\n                </Modal>\n            </div>\n        )\n\n    }\n}\n\n\nexport default EasUpdateForm;\n"]},"metadata":{},"sourceType":"module"}