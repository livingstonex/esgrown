{"ast":null,"code":"import _slicedToArray from\"/Users/mac/Desktop/esgrown/node_modules/@babel/runtime/helpers/esm/slicedToArray\";import React,{useEffect,useState}from'react';import axios from'axios';import{Spinner,Accordion,Button,Card}from'react-bootstrap';var Contentlog=function Contentlog(){var _useState=useState([]),_useState2=_slicedToArray(_useState,2),data=_useState2[0],setData=_useState2[1];var _useState3=useState([]),_useState4=_slicedToArray(_useState3,2),user=_useState4[0],setUser=_useState4[1];var _useState5=useState(true),_useState6=_slicedToArray(_useState5,2),spinner=_useState6[0],setSpinner=_useState6[1];useEffect(function(){var user=JSON.parse(sessionStorage.getItem('key'));setUser(user);axios.get(\"http://localhost:5000/corpservicecontent/corp/\".concat(user.id)).then(function(res){console.log(res.data);setData(res.data);setSpinner(false);}).catch(function(err){console.log(err);});},[]);return React.createElement(React.Fragment,null,React.createElement(Card,{style:{padding:'5px',height:'800px',overflow:'scroll',marginRight:'20px'},className:\"col col-lg-5 col-sm-6\"},spinner?React.createElement(Spinner,{animation:\"grow\"}):data.length===0?React.createElement(\"div\",{className:\"d-flex justify-content-center\",style:{fontSize:'25px',fontFamily:'quicksand',color:'grey'}},\"No Content Yet\"):React.createElement(Accordion,{defaultActiveKey:\"0\"},data.map(function(data){return React.createElement(Card,null,React.createElement(Card.Header,null,React.createElement(Accordion.Toggle,{as:Button,variant:\"link\",eventKey:data._id},data.title,React.createElement(\"br\",null),React.createElement(\"small\",{style:{fontSize:'13px'}},\"Published: \",data.is_published?\"true\":\"false\"))),React.createElement(Accordion.Collapse,{eventKey:data._id},React.createElement(Card.Body,null,data.content,data.media?data.media.split(';')[0].split(':')[1].split('/')[0]==\"image\"?React.createElement(\"img\",{src:data.media,style:{height:'100px'}}):React.createElement(\"video\",{src:data.media,controls:true,style:{height:'100px'}}):'')));}))));};export default Contentlog;","map":{"version":3,"sources":["/Users/mac/Desktop/esgrown/src/components/corp_dashboard_components/services/content_rm/components/content_log.js"],"names":["React","useEffect","useState","axios","Spinner","Accordion","Button","Card","Contentlog","data","setData","user","setUser","spinner","setSpinner","JSON","parse","sessionStorage","getItem","get","id","then","res","console","log","catch","err","padding","height","overflow","marginRight","length","fontSize","fontFamily","color","map","_id","title","is_published","content","media","split"],"mappings":"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","sourcesContent":["import React, { useEffect, useState } from 'react';\nimport axios from 'axios';\nimport { Spinner, Accordion, Button, Card } from 'react-bootstrap';\n\n\n\n\nconst Contentlog = () => {\n\n    const [data, setData] = useState([]);\n    const [user, setUser] = useState([]);\n    const [spinner, setSpinner] = useState(true);\n\n    useEffect(() => { \n        const user = JSON.parse(sessionStorage.getItem('key'));\n        setUser(user)\n\n        axios.get(`http://localhost:5000/corpservicecontent/corp/${user.id}`)\n            .then(res => {\n                console.log(res.data)\n                setData(res.data);\n                setSpinner(false)\n            })\n            .catch(err => {\n                console.log(err);\n            });\n    }, []);\n    \n    return (\n        <>\n            <Card style={{ padding: '5px', height: '800px', overflow: 'scroll', marginRight: '20px' }} className=\"col col-lg-5 col-sm-6\">\n                {/* <h6 style={{ textAlign: 'center' }}>{title}</h6> */}\n                {spinner ? <Spinner animation=\"grow\" /> : data.length === 0 ? <div className=\"d-flex justify-content-center\" style={{fontSize:'25px',fontFamily: 'quicksand',color:'grey'}}>No Content Yet</div> :\n                    <Accordion defaultActiveKey=\"0\">\n                        {data.map(data => {\n                            return (\n                                <Card>\n                                    <Card.Header>\n                                        <Accordion.Toggle as={Button} variant=\"link\" eventKey={data._id}>\n                                            {data.title}<br /><small style={{ fontSize: '13px' }}>Published: {data.is_published ? \"true\" : \"false\"}</small>\n                                        </Accordion.Toggle>\n                                    </Card.Header>\n                                    <Accordion.Collapse eventKey={data._id}>\n                                        <Card.Body>\n                                            {data.content}\n                                            {\n                                                data.media ? data.media.split(';')[0].split(':')[1].split('/')[0] == \"image\" ? <img src={data.media} style={{ height: '100px' }} /> : <video src={data.media} controls style={{ height: '100px' }}></video> : ''\n                                            }\n                                        </Card.Body>\n\n                                    </Accordion.Collapse>\n                                </Card>\n                            )\n                        })}\n                    </Accordion>\n                    \n                }\n            </Card>\n        </>\n    );\n}\nexport default Contentlog;\n"]},"metadata":{},"sourceType":"module"}