{"ast":null,"code":"import _defineProperty from\"/Users/mac/Desktop/esgrown/node_modules/@babel/runtime/helpers/esm/defineProperty\";import _objectSpread from\"/Users/mac/Desktop/esgrown/node_modules/@babel/runtime/helpers/esm/objectSpread2\";import _slicedToArray from\"/Users/mac/Desktop/esgrown/node_modules/@babel/runtime/helpers/esm/slicedToArray\";import React,{useState,useEffect}from'react';import axios from'axios';import{Spinner,Modal}from'react-bootstrap';import{Card,CardContent}from'@material-ui/core';import JobIdFunc from'../../../../gen_job_id';var CreateJob=function CreateJob(_ref){var show=_ref.show,onHide=_ref.onHide,closeModal=_ref.closeModal;useEffect(function(){var user=JSON.parse(sessionStorage.getItem('key'));setUser(user);var id=JobIdFunc();setJobsData({title:'',email:'',start_date:'',dead_line:'',erd:'',desc:'',job_id:id});},[]);var _useState=useState(''),_useState2=_slicedToArray(_useState,2),companyName=_useState2[0],setCompanyName=_useState2[1];var _useState3=useState({title:'',email:'',start_date:'',dead_line:'',erd:'',desc:'',job_id:''}),_useState4=_slicedToArray(_useState3,2),jobsData=_useState4[0],setJobsData=_useState4[1];var _useState5=useState(false),_useState6=_slicedToArray(_useState5,2),spinner=_useState6[0],setSpinner=_useState6[1];console.log(jobsData);var _useState7=useState(),_useState8=_slicedToArray(_useState7,2),user=_useState8[0],setUser=_useState8[1];var handleChange=function handleChange(e){var value=e.target.value;var name=e.target.name;setJobsData(_objectSpread({},jobsData,_defineProperty({},name,value)));};console.log(jobsData.job_id);// const setCompany = (e) => {\n//     setCompanyName(e.target.value);\n// };\n//send data to server\nvar createJob=function createJob(){setSpinner(true);var submitData={company_name:user.name,jobs:jobsData,company_id:user.id};//post job to server\naxios.post(\"http://localhost:5000/jobs/add\",submitData).then(function(res){console.log(res.data);if(res.data){setSpinner(false);closeModal();}}).catch(function(err){return console.log(err);});setJobsData({title:'',email:'',start_date:'',dead_line:'',erd:'',desc:''});setCompanyName('');};return React.createElement(React.Fragment,null,React.createElement(Modal,{show:show,onHide:onHide,centered:true,style:{marginTop:'60px',marginBottom:'70px'}},React.createElement(\"div\",{className:\"container\"},React.createElement(\"div\",{className:\"row mt-3\"},React.createElement(\"div\",{className:\"col\"},React.createElement(\"label\",{style:{fontWeight:'bold'}},\"Job Title\"),React.createElement(\"input\",{type:\"text\",name:\"title\",value:jobsData.title,onChange:handleChange,placeholder:\"Job Title\",className:\"form-control\",required:true}))),React.createElement(\"div\",{className:\"row mt-3\"},React.createElement(\"div\",{className:\"col\"},React.createElement(\"label\",{style:{fontWeight:'bold'}},\"Email\"),React.createElement(\"input\",{type:\"email\",name:\"email\",value:jobsData.email,onChange:handleChange,placeholder:\"Email to apply to\",className:\"form-control\",required:true}))),React.createElement(\"div\",{className:\"row mt-3\"},React.createElement(\"div\",{className:\"col\"},React.createElement(\"label\",{style:{fontWeight:'bold'}},\"Start Date\"),React.createElement(\"input\",{type:\"date\",name:\"start_date\",value:jobsData.startDate,onChange:handleChange,placeholder:\"when applications begin\",className:\"form-control\",required:true}))),React.createElement(\"div\",{className:\"row mt-3\"},React.createElement(\"div\",{className:\"col\"},React.createElement(\"label\",{style:{fontWeight:'bold'}},\"Dead Line\"),React.createElement(\"input\",{type:\"date\",name:\"dead_line\",value:jobsData.dead_line,onChange:handleChange,placeholder:\"Dead line\",className:\"form-control\",required:true}))),React.createElement(\"div\",{className:\"row mt-3\"},React.createElement(\"div\",{className:\"col\"},React.createElement(\"label\",{style:{fontWeight:'bold'}},\"Expected Resumption Date \"),React.createElement(\"input\",{type:\"date\",name:\"erd\",value:jobsData.erd,onChange:handleChange,placeholder:\"ERD\",className:\"form-control\",required:true}))),React.createElement(\"div\",{className:\"row mt-3\"},React.createElement(\"div\",{className:\"col\"},React.createElement(\"label\",{style:{fontWeight:'bold'}},\"Job Description\"),React.createElement(\"textarea\",{type:\"text\",name:\"desc\",rows:\"3\",value:jobsData.desc,onChange:handleChange,placeholder:\"Job Description\",className:\"form-control\",required:true}))),React.createElement(Modal.Footer,null,React.createElement(\"div\",{className:\"row mt-2 mb-4\"},React.createElement(\"div\",{className:\"col\"},React.createElement(\"button\",{className:\"btn w-100 border-0\",style:{background:'#21A5E7',color:'white'},onClick:createJob},spinner?React.createElement(Spinner,{as:\"span\",animation:\"grow\",size:\"sm\",role:\"status\",\"aria-hidden\":\"true\"}):\"Create Job\")))))),React.createElement(\"br\",null),React.createElement(\"br\",null));};export default CreateJob;","map":{"version":3,"sources":["/Users/mac/Desktop/esgrown/src/components/corp_dashboard_components/job/components/create-job.js"],"names":["React","useState","useEffect","axios","Spinner","Modal","Card","CardContent","JobIdFunc","CreateJob","show","onHide","closeModal","user","JSON","parse","sessionStorage","getItem","setUser","id","setJobsData","title","email","start_date","dead_line","erd","desc","job_id","companyName","setCompanyName","jobsData","spinner","setSpinner","console","log","handleChange","e","value","target","name","createJob","submitData","company_name","jobs","company_id","post","then","res","data","catch","err","marginTop","marginBottom","fontWeight","startDate","background","color"],"mappings":"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","sourcesContent":["import React, { useState, useEffect } from 'react';\nimport axios from 'axios';\nimport { Spinner, Modal } from 'react-bootstrap';\nimport { Card, CardContent } from '@material-ui/core';\nimport JobIdFunc from '../../../../gen_job_id';\n\n\n\n\n\nconst CreateJob = ({ show, onHide, closeModal }) => {\n\n\n    useEffect(() => {\n        const user = JSON.parse(sessionStorage.getItem('key'));\n        setUser(user);\n        const id = JobIdFunc();\n        setJobsData({\n            title: '',\n            email: '',\n            start_date: '',\n            dead_line: '',\n            erd: '',\n            desc: '',\n            job_id: id\n        })\n\n    }, [])\n\n    const [companyName, setCompanyName] = useState('');\n\n    const [jobsData, setJobsData] = useState({\n        title: '',\n        email: '',\n        start_date: '',\n        dead_line: '',\n        erd: '',\n        desc: '',\n        job_id: ''\n    });\n\n    const [spinner, setSpinner] = useState(false);\n    console.log(jobsData)\n    \n\n    const [user, setUser] = useState()\n\n\n    const handleChange = (e) => {\n        const value = e.target.value;\n        const name = e.target.name;\n\n        setJobsData({ ...jobsData, [name]: value })\n    };\nconsole.log(jobsData.job_id)\n\n    // const setCompany = (e) => {\n    //     setCompanyName(e.target.value);\n    // };\n\n\n    //send data to server\n    const createJob = () => {\n\n        setSpinner(true)\n\n        const submitData = {\n            company_name: user.name,\n            jobs: jobsData,\n            company_id: user.id\n        }\n\n        //post job to server\n        axios.post(`http://localhost:5000/jobs/add`, submitData)\n            .then(res => {\n                console.log(res.data)\n                if (res.data) {\n                    setSpinner(false);\n                    closeModal();\n                }\n                \n            })\n            .catch(err => console.log(err));\n\n        setJobsData({\n            title: '',\n            email: '',\n            start_date: '',\n            dead_line: '',\n            erd:'',\n            desc: ''\n\n        });\n        setCompanyName('')\n    }\n\n    return (\n        <>\n\n            <Modal show={show} onHide={onHide} centered style={{marginTop:'60px', marginBottom:'70px'}}>\n\n                <div className=\"container\">\n                    {/* <div className=\"row mt-3\">\n                        <div className=\"col\">\n                            <input type=\"hidden\" name=\"jobId\" value={jobsData.jobId} placeholder=\"Company Name\" className=\"form-control\" required />\n                        </div>\n                    </div> */}\n\n                    <div className=\"row mt-3\">\n                        <div className=\"col\">\n                            <label style={{ fontWeight: 'bold' }}>Job Title</label>\n                            <input type=\"text\" name=\"title\" value={jobsData.title} onChange={handleChange} placeholder=\"Job Title\" className=\"form-control\" required />\n                        </div>\n                    </div>\n\n                    <div className=\"row mt-3\">\n                        <div className=\"col\">\n                            <label style={{ fontWeight: 'bold' }}>Email</label>\n                            <input type=\"email\" name=\"email\" value={jobsData.email} onChange={handleChange} placeholder=\"Email to apply to\" className=\"form-control\" required />\n                        </div>\n                    </div>\n\n                    <div className=\"row mt-3\">\n                        <div className=\"col\">\n                            <label style={{ fontWeight: 'bold' }}>Start Date</label>\n                            <input type=\"date\" name=\"start_date\" value={jobsData.startDate} onChange={handleChange} placeholder=\"when applications begin\" className=\"form-control\" required />\n                        </div>\n                    </div>\n\n                    <div className=\"row mt-3\">\n                        <div className=\"col\">\n                            <label style={{ fontWeight: 'bold' }}>Dead Line</label>\n                            <input type=\"date\" name=\"dead_line\" value={jobsData.dead_line} onChange={handleChange} placeholder=\"Dead line\" className=\"form-control\" required />\n                        </div>\n                    </div>\n\n                    <div className=\"row mt-3\">\n                        <div className=\"col\">\n                            <label style={{ fontWeight: 'bold' }}>Expected Resumption Date </label>\n                            <input type=\"date\" name=\"erd\" value={jobsData.erd} onChange={handleChange} placeholder=\"ERD\" className=\"form-control\" required />\n                        </div>\n                    </div>\n\n                    <div className=\"row mt-3\">\n                        <div className=\"col\">\n                            <label style={{ fontWeight: 'bold' }}>Job Description</label>\n                            <textarea type=\"text\" name=\"desc\" rows=\"3\" value={jobsData.desc} onChange={handleChange} placeholder=\"Job Description\" className=\"form-control\" required ></textarea>\n                        </div>\n                    </div>\n                    <Modal.Footer>\n                        <div className=\"row mt-2 mb-4\">\n                            <div className=\"col\">\n                                <button\n                                    className=\"btn w-100 border-0\"\n                                    style={{ background: '#21A5E7', color: 'white' }}\n                                    onClick={createJob}\n                                >\n                                    {spinner ? <Spinner as=\"span\" animation=\"grow\" size=\"sm\" role=\"status\" aria-hidden=\"true\" /> : \"Create Job\"}\n                                </button>\n                            </div>\n                        </div>\n                    </Modal.Footer>\n                </div>\n            </Modal>\n            <br/>\n            <br/>\n        </>\n    );\n}\nexport default CreateJob;"]},"metadata":{},"sourceType":"module"}