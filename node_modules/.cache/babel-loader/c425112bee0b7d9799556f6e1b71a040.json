{"ast":null,"code":"import _defineProperty from\"/Users/mac/Desktop/esgrown/node_modules/@babel/runtime/helpers/esm/defineProperty\";import _classCallCheck from\"/Users/mac/Desktop/esgrown/node_modules/@babel/runtime/helpers/esm/classCallCheck\";import _createClass from\"/Users/mac/Desktop/esgrown/node_modules/@babel/runtime/helpers/esm/createClass\";import _possibleConstructorReturn from\"/Users/mac/Desktop/esgrown/node_modules/@babel/runtime/helpers/esm/possibleConstructorReturn\";import _getPrototypeOf from\"/Users/mac/Desktop/esgrown/node_modules/@babel/runtime/helpers/esm/getPrototypeOf\";import _inherits from\"/Users/mac/Desktop/esgrown/node_modules/@babel/runtime/helpers/esm/inherits\";import React,{Component}from'react';import{Button,Form,FormGroup,Label,Input,Modal,ModalHeader,ModalBody,ModalFooter}from'reactstrap';import axios from'axios';var EfaUpdateForm=/*#__PURE__*/function(_Component){_inherits(EfaUpdateForm,_Component);function EfaUpdateForm(){var _getPrototypeOf2;var _this;_classCallCheck(this,EfaUpdateForm);for(var _len=arguments.length,args=new Array(_len),_key=0;_key<_len;_key++){args[_key]=arguments[_key];}_this=_possibleConstructorReturn(this,(_getPrototypeOf2=_getPrototypeOf(EfaUpdateForm)).call.apply(_getPrototypeOf2,[this].concat(args)));_this.state={levelOfEducation:'',nextIntendedEductionLevel:'',filedOfStudy:'',sub_status:false,user_id:'',message:'',LOE:true,NILE:true};_this.handleUpdate=function(){var data={levelofeducation:_this.state.levelOfEducation,next_intended_education_level:_this.state.nextIntendedEductionLevel,field_of_intended_study:_this.state.filedOfStudy};//make axios request and update\naxios.post(\"http://localhost:5000/subscriptionefa/update/\".concat(_this.state.user_id),data).then(function(response){if(response.status==200){_this.setState({message:'Subscription details updated successful'});}}).catch(function(err){return _this.setState({message:'There was a problem updating your account. Please try again'});});};_this.changeHandler=function(event){var name=event.target.name;var value=event.target.value;_this.setState(_defineProperty({},name,value));};return _this;}_createClass(EfaUpdateForm,[{key:\"componentDidMount\",//make axios call to api and get data to be edited and store in state\nvalue:function componentDidMount(){var _this2=this;var userData=JSON.parse(sessionStorage.getItem('key'));this.setState({user_id:userData.id});axios.get(\"http://localhost:5000/subscriptionefa/\".concat(userData.id)).then(function(response){return _this2.setState({levelOfEducation:response.data[0].levelofeducation,nextIntendedEductionLevel:response.data[0].next_intended_education_level,filedOfStudy:response.data[0].field_of_intended_study,sub_status:response.data[0].sub_status});}).catch(function(err){return console.log(err.message);});}},{key:\"render\",value:function render(){var _this3=this;var _this$props=this.props,isOpen=_this$props.isOpen,toggle=_this$props.toggle;var sub_statusColor=this.state.sub_status===false?'#e68723':'#97ba0d';var buttonText=this.state.sub_status===false?'PAY':'PAID';return React.createElement(\"div\",null,React.createElement(Modal,{isOpen:isOpen,toggle:toggle,onHide:function onHide(){return _this3.setState({messsage:' '});},centered:true},React.createElement(ModalHeader,null,React.createElement(\"div\",{style:{float:'left'}},React.createElement(\"p\",{style:{font:'verdana',fontSize:18}},\"Education Finances Advisory Subscription\")),React.createElement(\"div\",{style:{float:'right',marginLeft:300,marginTop:-45,paddingRight:0}},React.createElement(Button,{style:{float:'right',backgroundColor:sub_statusColor,color:'white',border:sub_statusColor}},buttonText))),React.createElement(ModalBody,null,React.createElement(Form,null,React.createElement(FormGroup,null,React.createElement(\"div\",{className:\"row mt-3\"},React.createElement(\"div\",{className:\"col input-group\"},React.createElement(\"select\",{className:\"form-control\",name:\"levelOfEducation\",value:this.state.levelOfEducation,disabled:this.state.LOE,required:true,onChange:this.changeHandler},React.createElement(\"option\",null,\"Level of Education\"),React.createElement(\"option\",{value:\"degree\"},\"Degree\"),React.createElement(\"option\",{value:\"masters\"},\"Masters\"),React.createElement(\"option\",{value:\"phd\"},\"Ph.D\")),React.createElement(\"div\",{class:\"input-group-prepend\",style:{cursor:'pointer',background:'lightgrey',border:'none'}},React.createElement(\"div\",{class:\"input-group-text\",onClick:function onClick(){return _this3.setState({LOE:!_this3.state.LOE});}},\"edit\"))))),React.createElement(FormGroup,null,React.createElement(\"div\",{className:\"row mt-3\"},React.createElement(\"div\",{className:\"col input-group\"},React.createElement(\"select\",{className:\"form-control\",name:\"nextIntendedEductionLevel\",disabled:this.state.NILE,required:true,onChange:this.changeHandler,value:this.state.nextIntendedEductionLevel},React.createElement(\"option\",null,\"Next Intended Education Level\"),React.createElement(\"option\",{value:\"degree\"},\"Degree\"),React.createElement(\"option\",{value:\"masters\"},\"Masters\"),React.createElement(\"option\",{value:\"phd\"},\"Ph.D\")),React.createElement(\"div\",{class:\"input-group-prepend\",style:{cursor:'pointer',background:'lightgrey',border:'none'}},React.createElement(\"div\",{class:\"input-group-text\",onClick:function onClick(){return _this3.setState({NILE:!_this3.state.NILE});}},\"edit\"))))),React.createElement(FormGroup,null,React.createElement(Label,{for:\"intendedStudy\"},\"Filed Of Study\"),React.createElement(Input,{type:\"text\",name:\"filedOfStudy\",value:this.state.filedOfStudy,onChange:this.changeHandler})))),React.createElement(ModalFooter,null,this.state.message==='Subscription details updated successful'?React.createElement(\"span\",{style:{color:'green'}},this.state.message):React.createElement(\"span\",{style:{color:'red'}},this.state.message),' ',' ',' ',' ',React.createElement(Button,{style:{background:'#1c8496',color:'white'},onClick:this.handleUpdate},\"Update\"),' ')));}}]);return EfaUpdateForm;}(Component);export default EfaUpdateForm;","map":{"version":3,"sources":["/Users/mac/Desktop/esgrown/src/components/ind_dashboard_components/subscription-pages/efa/efa_sub_page/efa_sub_page.js"],"names":["React","Component","Button","Form","FormGroup","Label","Input","Modal","ModalHeader","ModalBody","ModalFooter","axios","EfaUpdateForm","state","levelOfEducation","nextIntendedEductionLevel","filedOfStudy","sub_status","user_id","message","LOE","NILE","handleUpdate","data","levelofeducation","next_intended_education_level","field_of_intended_study","post","then","response","status","setState","catch","err","changeHandler","event","name","target","value","userData","JSON","parse","sessionStorage","getItem","id","get","console","log","props","isOpen","toggle","sub_statusColor","buttonText","messsage","float","font","fontSize","marginLeft","marginTop","paddingRight","backgroundColor","color","border","cursor","background"],"mappings":"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","sourcesContent":["import React, { Component } from 'react';\nimport { Button, Form, FormGroup, Label, Input, Modal, ModalHeader, ModalBody, ModalFooter } from 'reactstrap';\n\n\nimport axios from 'axios';\n\nclass EfaUpdateForm extends Component {\n\n    state = {\n        levelOfEducation: '',\n        nextIntendedEductionLevel: '',\n        filedOfStudy: '',\n        sub_status: false,\n        user_id: '',\n        message: '',\n        LOE: true,\n        NILE: true\n    }\n\n\n    handleUpdate = () => {\n\n        const data = {\n            levelofeducation: this.state.levelOfEducation,\n            next_intended_education_level: this.state.nextIntendedEductionLevel,\n            field_of_intended_study: this.state.filedOfStudy\n        };\n\n        //make axios request and update\n        axios.post(`http://localhost:5000/subscriptionefa/update/${this.state.user_id}`, data)\n            .then(response => {\n                if (response.status == 200) {\n                    this.setState({\n                        message: 'Subscription details updated successful'\n})\n                }\n            })\n            .catch(err => this.setState({ message: 'There was a problem updating your account. Please try again' }))\n\n\n\n    }\n\n\n    //make axios call to api and get data to be edited and store in state\n    componentDidMount() {\n        const userData = JSON.parse(sessionStorage.getItem('key'));\n\n        this.setState({ user_id: userData.id });\n\n        axios.get(`http://localhost:5000/subscriptionefa/${userData.id}`)\n            .then(response => this.setState({\n                levelOfEducation: response.data[0].levelofeducation,\n                nextIntendedEductionLevel: response.data[0].next_intended_education_level,\n                filedOfStudy: response.data[0].field_of_intended_study,\n                sub_status: response.data[0].sub_status\n\n\n            }))\n            .catch(err => console.log(err.message))\n\n    }\n\n\n\n    changeHandler = event => {\n\n        const name = event.target.name;\n\n        const value = event.target.value;\n\n        this.setState({ [name]: value });\n    }\n\n\n    render() {\n\n        const { isOpen, toggle } = this.props;\n\n        const sub_statusColor = this.state.sub_status === false ? '#e68723' : '#97ba0d';\n\n        const buttonText = this.state.sub_status === false ? 'PAY' : 'PAID'\n        return (\n\n            <div>\n\n                <Modal isOpen={isOpen} toggle={toggle} onHide={() => this.setState({ messsage: ' ' })} centered >\n                    <ModalHeader>\n                        <div style={{ float: 'left' }}><p style={{ font: 'verdana', fontSize: 18 }}>Education Finances Advisory Subscription</p></div>\n                        <div style={{ float: 'right', marginLeft: 300, marginTop: -45, paddingRight: 0 }}><Button style={{ float: 'right', backgroundColor: sub_statusColor, color: 'white', border: sub_statusColor }}>{buttonText}</Button></div>\n                    </ModalHeader>\n                    <ModalBody>\n                        <Form>\n                            <FormGroup>\n                                <div className=\"row mt-3\">\n                                    <div className=\"col input-group\">\n                                        <select className=\"form-control\" name=\"levelOfEducation\" value={this.state.levelOfEducation} disabled={this.state.LOE } required onChange={this.changeHandler}>\n                                            <option>Level of Education</option>\n                                            <option value=\"degree\">Degree</option>\n                                            <option value=\"masters\">Masters</option>\n                                            <option value=\"phd\">Ph.D</option>\n                                        </select>\n                                        <div class=\"input-group-prepend\" style={{ cursor: 'pointer', background: 'lightgrey', border: 'none' }}>\n                                            <div class=\"input-group-text\" onClick={() => this.setState({ LOE: !this.state.LOE })}>edit</div>\n                                        </div>\n                                    </div>\n                                </div>\n                            </FormGroup>\n\n                            <FormGroup>\n                                <div className=\"row mt-3\">\n                                    <div className=\"col input-group\">\n                                        <select className=\"form-control\" name=\"nextIntendedEductionLevel\" disabled={this.state.NILE} required onChange={this.changeHandler} value={this.state.nextIntendedEductionLevel}>\n                                            <option>Next Intended Education Level</option>\n                                            <option value=\"degree\">Degree</option>\n                                            <option value=\"masters\">Masters</option>\n                                            <option value=\"phd\">Ph.D</option>\n                                        </select>\n                                        <div class=\"input-group-prepend\" style={{ cursor: 'pointer', background: 'lightgrey', border: 'none' }}>\n                                            <div class=\"input-group-text\" onClick={() => this.setState({ NILE: !this.state.NILE })}>edit</div>\n                                        </div>\n                                    </div>\n                                </div>\n                            </FormGroup>\n\n                            <FormGroup>\n                                <Label for=\"intendedStudy\">Filed Of Study</Label>\n                                <Input type=\"text\"\n                                    name=\"filedOfStudy\"\n                                    value={this.state.filedOfStudy}\n                                    onChange={this.changeHandler}\n                                />\n                            </FormGroup>\n                        </Form>\n                    </ModalBody>\n                    <ModalFooter>\n                        {this.state.message === 'Subscription details updated successful' ? <span style={{ color: 'green' }}>{this.state.message}</span> : <span style={{ color: 'red' }}>{this.state.message}</span>}\n                        {' '}{' '}\n                        {' '}{' '}\n                        <Button style={{ background: '#1c8496', color: 'white' }} onClick={this.handleUpdate}>Update</Button>{' '}\n                    </ModalFooter>\n                </Modal>\n            </div>\n        )\n\n    }\n}\nexport default EfaUpdateForm;\n"]},"metadata":{},"sourceType":"module"}