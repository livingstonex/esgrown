{"ast":null,"code":"import _objectSpread from \"/Users/mac/Desktop/projekte/esgrown/node_modules/@babel/runtime/helpers/esm/objectSpread2\";\nimport _slicedToArray from \"/Users/mac/Desktop/projekte/esgrown/node_modules/@babel/runtime/helpers/esm/slicedToArray\";\nvar _jsxFileName = \"/Users/mac/Desktop/projekte/esgrown/src/components/corp_dashboard_components/staff/components/edit.js\";\nimport React, { useState, useEffect } from 'react';\nimport axios from 'axios';\nimport { Modal, Spinner } from 'react-bootstrap';\n\nconst EditStaff = ({\n  show,\n  onHide,\n  id,\n  user,\n  closeModal\n}) => {\n  const _useState = useState([]),\n        _useState2 = _slicedToArray(_useState, 2),\n        edit = _useState2[0],\n        setEdit = _useState2[1];\n\n  const _useState3 = useState({}),\n        _useState4 = _slicedToArray(_useState3, 2),\n        state = _useState4[0],\n        setState = _useState4[1];\n\n  useEffect(() => {\n    axios.get(`http://localhost:5000/individuals/`).then(res => {\n      if (res.data.length > 0) {\n        const ind = res.data.filter(st => {\n          return st._id === id;\n        });\n        setEdit(ind[0]);\n      }\n    }).catch(err => console.log(err));\n  }, [id]);\n  console.log(edit);\n\n  const onChange = e => {\n    setEdit(_objectSpread({}, edit, {\n      [e.target.name]: e.target.value\n    }));\n  };\n\n  const submitEdit = async () => {\n    const data = {\n      fullname: edit.fullname,\n      email: edit.email\n    };\n\n    try {\n      const res = await axios.post(`http://localhost:5000/individuals/staff/update/${edit._id}`, data);\n      console.log(res.dat);\n      closeModal();\n    } catch (e) {\n      console.log(e);\n    }\n  };\n\n  return React.createElement(React.Fragment, null, React.createElement(Modal, {\n    show: show,\n    onHide: onHide,\n    centered: true,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 56\n    },\n    __self: this\n  }, React.createElement(React.Fragment, null, React.createElement(\"div\", {\n    className: \"container\",\n    style: {\n      background: '#e9ecef'\n    },\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 59\n    },\n    __self: this\n  }, React.createElement(\"div\", {\n    className: \"mt-3\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 60\n    },\n    __self: this\n  }, React.createElement(\"div\", {\n    className: \"row col justify-content-center\",\n    style: {\n      fontSize: '17px'\n    },\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 61\n    },\n    __self: this\n  }, user && user.org_type === \"school\" ? \"Teacher\" : \"Staff\", \" edit\"), React.createElement(\"div\", {\n    className: \"row mt-3\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 63\n    },\n    __self: this\n  }, React.createElement(\"div\", {\n    className: \"col\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 64\n    },\n    __self: this\n  }, React.createElement(\"label\", {\n    style: {\n      fontWeight: 'bold'\n    },\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 65\n    },\n    __self: this\n  }, \"Full Name\"), React.createElement(\"input\", {\n    type: \"text\",\n    value: edit ? edit.fullname : \"\",\n    name: \"fullname\",\n    onChange: onChange,\n    className: \"form-control\",\n    required: true,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 66\n    },\n    __self: this\n  }))), React.createElement(\"div\", {\n    className: \"row mt-3\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 70\n    },\n    __self: this\n  }, React.createElement(\"div\", {\n    className: \"col\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 71\n    },\n    __self: this\n  }, React.createElement(\"label\", {\n    style: {\n      fontWeight: 'bold'\n    },\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 72\n    },\n    __self: this\n  }, \"Email\"), React.createElement(\"input\", {\n    type: \"text\",\n    value: edit ? edit.email : \"\",\n    name: \"email\",\n    onChange: onChange,\n    className: \"form-control\",\n    required: true,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 73\n    },\n    __self: this\n  }))), React.createElement(\"div\", {\n    className: \"row mt-3\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 77\n    },\n    __self: this\n  }, React.createElement(\"div\", {\n    className: \"col\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 78\n    },\n    __self: this\n  }, React.createElement(\"label\", {\n    style: {\n      fontWeight: 'bold'\n    },\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 79\n    },\n    __self: this\n  }, \"Gender\"), React.createElement(\"input\", {\n    type: \"text\",\n    disabled: true,\n    value: edit ? edit.gender : \"\",\n    className: \"form-control\",\n    required: true,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 80\n    },\n    __self: this\n  }))), edit && edit.tic ? React.createElement(\"div\", {\n    className: \"row mt-3\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 85\n    },\n    __self: this\n  }, React.createElement(\"div\", {\n    className: \"col\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 86\n    },\n    __self: this\n  }, React.createElement(\"label\", {\n    style: {\n      fontWeight: 'bold'\n    },\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 87\n    },\n    __self: this\n  }, \"Teacher Identification Code\"), React.createElement(\"input\", {\n    type: \"text\",\n    disabled: true,\n    value: edit.tic,\n    className: \"form-control\",\n    required: true,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 88\n    },\n    __self: this\n  }))) : \"\", React.createElement(\"div\", {\n    className: \"row mt-3\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 95\n    },\n    __self: this\n  }, React.createElement(\"div\", {\n    className: \"col\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 96\n    },\n    __self: this\n  }, React.createElement(\"label\", {\n    style: {\n      fontWeight: 'bold'\n    },\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 97\n    },\n    __self: this\n  }, \"SignUp Date\"), React.createElement(\"input\", {\n    type: \"text\",\n    disabled: true,\n    value: new Date(edit ? edit.createdAt : \"\").toDateString(),\n    className: \"form-control\",\n    required: true,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 98\n    },\n    __self: this\n  })))), React.createElement(\"div\", {\n    className: \"row\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 103\n    },\n    __self: this\n  }, React.createElement(\"div\", {\n    className: \"col\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 104\n    },\n    __self: this\n  }, React.createElement(\"button\", {\n    className: \"btn mb-2 mt-3 w-100 border-0\",\n    style: {\n      background: '#21A5E7',\n      color: 'white'\n    },\n    onClick: submitEdit,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 105\n    },\n    __self: this\n  }, \"Update\")))))));\n};\n\nexport default EditStaff;","map":{"version":3,"sources":["/Users/mac/Desktop/projekte/esgrown/src/components/corp_dashboard_components/staff/components/edit.js"],"names":["React","useState","useEffect","axios","Modal","Spinner","EditStaff","show","onHide","id","user","closeModal","edit","setEdit","state","setState","get","then","res","data","length","ind","filter","st","_id","catch","err","console","log","onChange","e","target","name","value","submitEdit","fullname","email","post","dat","background","fontSize","org_type","fontWeight","gender","tic","Date","createdAt","toDateString","color"],"mappings":"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","sourcesContent":["import React, { useState, useEffect } from 'react';\nimport axios from 'axios';\nimport { Modal, Spinner } from 'react-bootstrap';\n\n\n\n\nconst EditStaff = ({ show, onHide, id, user, closeModal }) => {\n\n    const [edit, setEdit] = useState([]);\n    const [state, setState] = useState({\n        \n    })\n\n    useEffect(() => {\n        axios.get(`http://localhost:5000/individuals/`)\n            .then(res => {\n                if (res.data.length > 0) {\n                    const ind = res.data.filter(st => {\n                        return st._id === id\n                    })\n                    setEdit(ind[0])\n                }\n            })\n            .catch(err => console.log(err));\n    }, [id])\n\n    console.log(edit)\n\n   const onChange = (e) => {\n       setEdit({\n           ...edit,\n           [e.target.name]: e.target.value\n       })\n    }\n\n    const submitEdit = async() => {\n\n        const data = {\n            fullname: edit.fullname,\n            email: edit.email\n        }\n        try {\n            const res = await axios.post(`http://localhost:5000/individuals/staff/update/${edit._id}`, data);\n            console.log(res.dat);\n            closeModal()\n\n        } catch (e) {\n           console.log(e) \n        }\n\n    }\n\n    return (\n        <>\n            <Modal show={show} onHide={onHide} centered>\n\n                <>\n                    <div className=\"container\" style={{ background: '#e9ecef' }} >\n                        <div className=\"mt-3\">\n                            <div className=\"row col justify-content-center\" style={{ fontSize: '17px' }}>{user && user.org_type === \"school\" ? \"Teacher\" : \"Staff\"} edit</div>\n\n                            <div className=\"row mt-3\">\n                                <div className=\"col\">\n                                    <label style={{ fontWeight: 'bold' }}>Full Name</label>\n                                    <input type=\"text\" value={edit ? edit.fullname : \"\"} name=\"fullname\" onChange={onChange} className=\"form-control\" required />\n                                </div>\n                            </div>\n\n                            <div className=\"row mt-3\">\n                                <div className=\"col\">\n                                    <label style={{ fontWeight: 'bold' }}>Email</label>\n                                    <input type=\"text\" value={edit ? edit.email : \"\"} name=\"email\" onChange={onChange} className=\"form-control\" required />\n                                </div>\n                            </div>\n\n                            <div className=\"row mt-3\">\n                                <div className=\"col\">\n                                    <label style={{ fontWeight: 'bold' }}>Gender</label>\n                                    <input type=\"text\" disabled value={edit ? edit.gender : \"\"} className=\"form-control\" required />\n                                </div>\n                            </div>\n                            {\n                                edit && edit.tic ?\n                                <div className=\"row mt-3\">\n                                    <div className=\"col\">\n                                        <label style={{ fontWeight: 'bold' }}>Teacher Identification Code</label>\n                                        <input type=\"text\" disabled value={edit.tic} className=\"form-control\" required />\n                                    </div>\n                                </div>\n                                : \"\"\n                            }\n\n\n                            <div className=\"row mt-3\">\n                                <div className=\"col\">\n                                    <label style={{ fontWeight: 'bold' }}>SignUp Date</label>\n                                    <input type=\"text\" disabled value={new Date(edit ? edit.createdAt : \"\").toDateString()} className=\"form-control\" required />\n                                </div>\n                            </div>\n\n                        </div>\n                        <div className=\"row\">\n                            <div className=\"col\">\n                                <button\n                                    className=\"btn mb-2 mt-3 w-100 border-0\"\n                                    style={{ background: '#21A5E7', color: 'white' }}\n                                    onClick={submitEdit}\n                                >\n                                    Update\n                                </button>\n                            </div>\n                        </div>\n                    </div>\n                </>\n            </Modal>\n        </>\n    );\n}\n\nexport default EditStaff;"]},"metadata":{},"sourceType":"module"}