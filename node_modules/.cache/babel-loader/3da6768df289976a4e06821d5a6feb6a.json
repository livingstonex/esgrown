{"ast":null,"code":"import _slicedToArray from\"/Users/mac/Desktop/esgrown/node_modules/@babel/runtime/helpers/esm/slicedToArray\";import React,{useState,useEffect}from'react';import axios from'axios';import{Spinner,Accordion,Button,Card}from'react-bootstrap';var Activity=function Activity(){var _useState=useState(),_useState2=_slicedToArray(_useState,2),user=_useState2[0],setUser=_useState2[1];var _useState3=useState([]),_useState4=_slicedToArray(_useState3,2),admins=_useState4[0],setAdmin=_useState4[1];var _useState5=useState(true),_useState6=_slicedToArray(_useState5,2),spinner=_useState6[0],setSpinner=_useState6[1];var _useState7=useState([]),_useState8=_slicedToArray(_useState7,2),exActivity=_useState8[0],setExActivity=_useState8[1];var _useState9=useState([]),_useState10=_slicedToArray(_useState9,2),easActivity=_useState10[0],setEasActivity=_useState10[1];var _useState11=useState([]),_useState12=_slicedToArray(_useState11,2),efaActivity=_useState12[0],setEfaActivity=_useState12[1];var _useState13=useState([]),_useState14=_slicedToArray(_useState13,2),lmActivity=_useState14[0],setLmActivity=_useState14[1];var _useState15=useState([]),_useState16=_slicedToArray(_useState15,2),rmActivity=_useState16[0],setRmActivity=_useState16[1];useEffect(function(){var user=JSON.parse(sessionStorage.getItem(\"key\"));setUser(user);axios.post(\"http://localhost:5000/admin/admins/\".concat(user.country)).then(function(res){if(res.data){setAdmin(res.data);setSpinner(false);}}).catch(function(err){return console.log(err);});},[]);var getActivity=function getActivity(e){var id=e.target.getAttribute('data-id');console.log(id);//get exercises\naxios.get(\"http://localhost:5000/excercise/activity/\".concat(id)).then(function(res){if(res.data){setExActivity(res.data);}}).catch(function(err){return console.log(err);});//get EAS\naxios.get(\"http://localhost:5000/servicecontenteas/activity/\".concat(id)).then(function(res){if(res.data){setEasActivity(res.data);}}).catch(function(err){return console.log(err);});//get EFA\naxios.get(\"http://localhost:5000/servicecontentefa/activity/\".concat(id)).then(function(res){if(res.data){setEfaActivity(res.data);}}).catch(function(err){return console.log(err);});// get LM \naxios.get(\"http://localhost:5000/servicecontentlm/activity/\".concat(id)).then(function(res){if(res.data){setLmActivity(res.data);}}).catch(function(err){return console.log(err);});// get RM \naxios.get(\"http://localhost:5000/servicecontentlm/activity/\".concat(id)).then(function(res){if(res.data){setRmActivity(res.data);}}).catch(function(err){return console.log(err);});};return React.createElement(React.Fragment,null,spinner?React.createElement(Spinner,{as:\"span\",animation:\"grow\",size:\"sm\",role:\"status\",\"aria-hidden\":\"true\"}):React.createElement(\"div\",{className:\"container mt-5\"},React.createElement(\"div\",{className:\"d-flex justify-content-center\"},React.createElement(\"h5\",{style:{fontFamily:'quicksand',color:'grey'}},\"Admins Activities\")),React.createElement(\"div\",{className:\"row\"},admins.map(function(ad){return React.createElement(\"div\",{className:\"col col-lg-4 col-sm-6\",style:{padding:'5px'}},React.createElement(Accordion,{defaultActiveKey:\"0\"},React.createElement(Card,null,React.createElement(Card.Header,{style:{textAlign:'center'},\"data-id\":ad._id,onClick:getActivity},React.createElement(Accordion.Toggle,{as:Button,\"data-id\":ad._id,onClick:getActivity,variant:\"link\",eventKey:ad._id},ad.name,\" \",\" \",\" \",\" \",React.createElement(\"br\",null),React.createElement(\"small\",null,ad.country))),React.createElement(Accordion.Collapse,{eventKey:ad._id},React.createElement(Card.Body,null,exActivity.length>0?React.createElement(React.Fragment,null,React.createElement(\"p\",null,React.createElement(\"u\",null,\"Exercises\")),React.createElement(\"ul\",null,exActivity.map(function(ac){return React.createElement(React.Fragment,null,React.createElement(\"li\",null,ac.title));}))):\"\",easActivity.length>0?React.createElement(React.Fragment,null,React.createElement(\"p\",null,React.createElement(\"u\",null,\"EAS\")),React.createElement(\"ul\",null,easActivity.map(function(ac){return React.createElement(React.Fragment,null,React.createElement(\"li\",null,ac.title));}))):\"\",efaActivity.length>0?React.createElement(React.Fragment,null,React.createElement(\"p\",null,React.createElement(\"u\",null,\"EFA\")),React.createElement(\"ul\",null,efaActivity.map(function(ac){return React.createElement(React.Fragment,null,React.createElement(\"li\",null,ac.title));}))):\"\",lmActivity.length>0?React.createElement(React.Fragment,null,React.createElement(\"p\",null,React.createElement(\"u\",null,\"LM\")),React.createElement(\"ul\",null,lmActivity.map(function(ac){return React.createElement(React.Fragment,null,React.createElement(\"li\",null,ac.title));}))):\"\",rmActivity.length>0?React.createElement(React.Fragment,null,React.createElement(\"p\",null,React.createElement(\"u\",null,\"RM\")),React.createElement(\"ul\",null,rmActivity.map(function(ac){return React.createElement(React.Fragment,null,React.createElement(\"li\",null,ac.title));}))):\"\")))));}))));};export default Activity;","map":{"version":3,"sources":["/Users/mac/Desktop/esgrown/src/components/admin/dashboards/country-admin/components/activity.js"],"names":["React","useState","useEffect","axios","Spinner","Accordion","Button","Card","Activity","user","setUser","admins","setAdmin","spinner","setSpinner","exActivity","setExActivity","easActivity","setEasActivity","efaActivity","setEfaActivity","lmActivity","setLmActivity","rmActivity","setRmActivity","JSON","parse","sessionStorage","getItem","post","country","then","res","data","catch","err","console","log","getActivity","e","id","target","getAttribute","get","fontFamily","color","map","ad","padding","textAlign","_id","name","length","ac","title"],"mappings":"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","sourcesContent":["import React, { useState, useEffect } from 'react';\nimport axios from 'axios';\nimport { Spinner, Accordion, Button, Card } from 'react-bootstrap';\n\n\n\n\nconst Activity = () => {\n\n    const [user, setUser] = useState();\n    const [admins, setAdmin] = useState([]);\n    const [spinner, setSpinner] = useState(true);\n    const [exActivity, setExActivity] = useState([]);\n    const [easActivity, setEasActivity] = useState([]);\n    const [efaActivity, setEfaActivity] = useState([]);\n    const [lmActivity, setLmActivity] = useState([]);\n    const [rmActivity, setRmActivity] = useState([]);\n\n\n\n\n\n    useEffect(() => {\n        const user = JSON.parse(sessionStorage.getItem(\"key\"));\n        setUser(user)\n\n        axios.post(`http://localhost:5000/admin/admins/${user.country}`)\n            .then(res => {\n                if (res.data) {\n                    setAdmin(res.data);\n                    setSpinner(false)\n                }\n            })\n            .catch(err => console.log(err));\n\n    }, [])\n\n    const getActivity = (e) => {\n        const id = e.target.getAttribute('data-id');\n\n        console.log(id)\n\n        //get exercises\n        axios.get(`http://localhost:5000/excercise/activity/${id}`)\n            .then(res => {\n                if (res.data) {\n                    setExActivity(res.data)\n                }\n            })\n            .catch(err => console.log(err));\n        //get EAS\n        axios.get(`http://localhost:5000/servicecontenteas/activity/${id}`)\n            .then(res => {\n                if (res.data) {\n                    setEasActivity(res.data)\n                }\n            }).catch(err => console.log(err));\n        //get EFA\n        axios.get(`http://localhost:5000/servicecontentefa/activity/${id}`)\n            .then(res => {\n                if (res.data) {\n                    setEfaActivity(res.data)\n                }\n            }).catch(err => console.log(err));\n\n        // get LM \n        axios.get(`http://localhost:5000/servicecontentlm/activity/${id}`)\n            .then(res => {\n                if (res.data) {\n                    setLmActivity(res.data)\n                }\n            }).catch(err => console.log(err));\n\n        // get RM \n        axios.get(`http://localhost:5000/servicecontentlm/activity/${id}`)\n            .then(res => {\n                if (res.data) {\n                    setRmActivity(res.data)\n                }\n            }).catch(err => console.log(err));\n    }\n\n    return (\n        <>\n            {\n                spinner ? <Spinner as=\"span\" animation=\"grow\" size=\"sm\" role=\"status\" aria-hidden=\"true\" /> :\n                    <div className=\"container mt-5\">\n                        <div className=\"d-flex justify-content-center\"><h5 style={{fontFamily:'quicksand', color:'grey'}}>Admins Activities</h5></div>\n                        <div className=\"row\">\n\n                            {admins.map(ad => {\n\n                                return (\n                                    <div className=\"col col-lg-4 col-sm-6\" style={{ padding: '5px' }}>\n\n                                        <Accordion defaultActiveKey=\"0\">\n                                            <Card>\n                                                <Card.Header style={{ textAlign: 'center' }} data-id={ad._id} onClick={getActivity}>\n                                                    <Accordion.Toggle as={Button} data-id={ad._id} onClick={getActivity} variant=\"link\" eventKey={ad._id}>\n                                                        {ad.name} {\" \"}{\" \"} <br /><small>{ad.country}</small>\n                                                    </Accordion.Toggle>\n                                                </Card.Header>\n                                                <Accordion.Collapse eventKey={ad._id}>\n                                                    <Card.Body>\n                                                        {exActivity.length > 0 ?\n                                                            <>\n                                                                <p><u>Exercises</u></p>\n                                                                <ul>\n                                                                    {exActivity.map(ac => {\n                                                                        return (\n                                                                            <>\n                                                                                <li>{ac.title}</li>\n                                                                            </>\n                                                                        );\n                                                                    })}\n                                                                </ul>\n                                                            </>\n                                                            : \"\"\n                                                        }\n                                                        {easActivity.length > 0 ?\n                                                            <>\n                                                                <p><u>EAS</u></p>\n                                                                <ul>\n                                                                    {easActivity.map(ac => {\n                                                                        return (\n                                                                            <>\n                                                                                <li>{ac.title}</li>\n                                                                            </>\n                                                                        );\n                                                                    })}\n                                                                </ul>\n\n                                                            </>\n                                                            : \"\"\n                                                        }\n                                                        {efaActivity.length > 0 ?\n                                                            <>\n                                                                <p><u>EFA</u></p>\n                                                                <ul>\n                                                                    {efaActivity.map(ac => {\n                                                                        return (\n                                                                            <>\n                                                                                <li>{ac.title}</li>\n                                                                            </>\n                                                                        );\n                                                                    })}\n                                                                </ul>\n                                                            </>\n                                                            : \"\"}\n                                                        {lmActivity.length > 0 ?\n                                                            <>\n                                                                <p><u>LM</u></p>\n                                                                <ul>\n                                                                    {lmActivity.map(ac => {\n                                                                        return (\n                                                                            <>\n                                                                                <li>{ac.title}</li>\n                                                                            </>\n                                                                        );\n                                                                    })}\n                                                                </ul>\n                                                            </>\n                                                            : \"\"}\n                                                        {rmActivity.length > 0 ?\n                                                            <>\n                                                                <p><u>RM</u></p>\n                                                                <ul>\n                                                                    {rmActivity.map(ac => {\n                                                                        return (\n                                                                            <>\n                                                                                <li>{ac.title}</li>\n                                                                            </>\n                                                                        );\n                                                                    })}\n                                                                </ul>\n                                                            </>\n                                                            : \"\"}\n\n\n                                                    </Card.Body>\n                                                </Accordion.Collapse>\n                                            </Card>\n                                        </Accordion>\n                                    </div>\n                                );\n                            })}\n\n                        </div>\n                    </div>\n            }\n        </>\n    );\n}\nexport default Activity;"]},"metadata":{},"sourceType":"module"}