{"ast":null,"code":"import _slicedToArray from \"/Users/mac/Desktop/projekte/esgrown/node_modules/@babel/runtime/helpers/esm/slicedToArray\";\nvar _jsxFileName = \"/Users/mac/Desktop/projekte/esgrown/src/components/ind_dashboard_components/exercises/exercise.js\";\nimport React, { useState, useEffect } from 'react';\nimport axios from 'axios';\nimport { Card, CardActionArea, Typography, CardContent, CardActions } from '@material-ui/core';\nimport { Spinner } from 'react-bootstrap';\nimport QuestionComponentRM from './questionscomponent';\nimport QuestionComponentLM from './questionscomponent';\n\nconst Exercises = () => {\n  const _useState = useState(true),\n        _useState2 = _slicedToArray(_useState, 2),\n        spinner = _useState2[0],\n        setSpinner = _useState2[1];\n\n  const _useState3 = useState([]),\n        _useState4 = _slicedToArray(_useState3, 2),\n        RMExercise = _useState4[0],\n        setRMExercise = _useState4[1];\n\n  const _useState5 = useState(''),\n        _useState6 = _slicedToArray(_useState5, 2),\n        RMSubStatus = _useState6[0],\n        setRMSubStatus = _useState6[1];\n\n  const _useState7 = useState([]),\n        _useState8 = _slicedToArray(_useState7, 2),\n        LMExercise = _useState8[0],\n        setLMExercise = _useState8[1];\n\n  const _useState9 = useState(''),\n        _useState10 = _slicedToArray(_useState9, 2),\n        LMSubStatus = _useState10[0],\n        setLMSubStatus = _useState10[1];\n\n  const _useState11 = useState([]),\n        _useState12 = _slicedToArray(_useState11, 2),\n        questions = _useState12[0],\n        setQuestions = _useState12[1];\n\n  const _useState13 = useState(false),\n        _useState14 = _slicedToArray(_useState13, 2),\n        displayQuestions = _useState14[0],\n        setDisplayQuestions = _useState14[1];\n\n  const _useState15 = useState(''),\n        _useState16 = _slicedToArray(_useState15, 2),\n        duration = _useState16[0],\n        setDuration = _useState16[1];\n\n  const _useState17 = useState(''),\n        _useState18 = _slicedToArray(_useState17, 2),\n        exerciseId = _useState18[0],\n        setExerciseId = _useState18[1];\n\n  const _useState19 = useState(''),\n        _useState20 = _slicedToArray(_useState19, 2),\n        currentService = _useState20[0],\n        setCurrentService = _useState20[1];\n\n  const _useState21 = useState(true),\n        _useState22 = _slicedToArray(_useState21, 2),\n        qspinner = _useState22[0],\n        setQSpinner = _useState22[1]; //get all exercises and filter for rm and lm\n\n\n  useEffect(() => {\n    //rm exercises\n    axios.get(`http://localhost:5000/excercise`).then(res => {\n      const rm = res.data.filter(r => {\n        return r.service === \"RM\";\n      });\n      setRMExercise(rm);\n      setSpinner(false);\n    }).catch(err => console.log(err)); //lm exercise\n\n    axios.get(`http://localhost:5000/excercise`).then(res => {\n      const lm = res.data.filter(r => {\n        return r.service === \"LM\";\n      });\n      setLMExercise(lm);\n      setSpinner(false);\n    }).catch(err => console.log(err));\n  }, []); //check service the user is subscribed to \n\n  useEffect(() => {\n    //lm sub status\n    const userData = JSON.parse(sessionStorage.getItem('key'));\n    console.log(userData.id);\n    axios.get(`http://localhost:5000/subscriptionlm/${userData.id}`).then(res => {\n      console.log(res.data);\n      setLMSubStatus(res.data[0].sub_status);\n    }).catch(err => console.log(err)); //rm sub status\n\n    axios.get(`http://localhost:5000/subscriptionrm/${userData.id}`).then(res => {\n      console.log('RM ' + res.data[0].sub_status);\n      setRMSubStatus(res.data[0].sub_status);\n    }).catch(err => console.log(err));\n  }, []);\n\n  const getQuestions = e => {\n    const id = e.target.id;\n    setExerciseId(id);\n    setCurrentService(e.target.getAttribute('data-service'));\n    setDuration(e.target.getAttribute('data-duration'));\n    setDisplayQuestions(true);\n  };\n\n  return React.createElement(React.Fragment, null, React.createElement(\"div\", {\n    className: \"container\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 113\n    },\n    __self: this\n  }, React.createElement(\"div\", {\n    className: \"row\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 114\n    },\n    __self: this\n  }, React.createElement(\"div\", {\n    className: \"col col-lg-12 col-sm-6\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 115\n    },\n    __self: this\n  }, React.createElement(\"br\", {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 116\n    },\n    __self: this\n  }), React.createElement(Card, {\n    className: \"\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 117\n    },\n    __self: this\n  }, React.createElement(CardContent, {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 119\n    },\n    __self: this\n  }, React.createElement(Typography, {\n    gutterBottom: true,\n    variant: \"\",\n    component: \"h5\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 120\n    },\n    __self: this\n  }, \"Recruitment Management\", React.createElement(\"hr\", {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 122\n    },\n    __self: this\n  })), spinner ? React.createElement(Spinner, {\n    animation: \"grow\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 124\n    },\n    __self: this\n  }) : RMSubStatus === \"active\" ? RMExercise.map(r => {\n    return React.createElement(\"ul\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 126\n      },\n      __self: this\n    }, React.createElement(\"li\", {\n      className: `ui floating message`,\n      \"data-service\": \"RM\",\n      \"data-duration\": r.duration,\n      onClick: getQuestions,\n      id: r._id,\n      style: {\n        cursor: 'pointer',\n        fontSize: '18px',\n        fontStyle: 'itallic'\n      },\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 127\n      },\n      __self: this\n    }, r.title, React.createElement(\"br\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 127\n      },\n      __self: this\n    }), React.createElement(\"small\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 127\n      },\n      __self: this\n    }, \"Duration: \", r.duration, \" minutes\")));\n  }) : RMExercise.map(r => {\n    return React.createElement(\"ul\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 132\n      },\n      __self: this\n    }, React.createElement(\"li\", {\n      id: r._id,\n      style: {\n        cursor: 'pointer'\n      },\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 133\n      },\n      __self: this\n    }, r.title));\n  })), React.createElement(CardActions, {\n    style: {\n      background: '#e9ecef'\n    },\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 140\n    },\n    __self: this\n  }, React.createElement(\"small\", {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 141\n    },\n    __self: this\n  }, \"Note: You are only allowed to take a test only once\")))), displayQuestions && currentService == 'RM' ? React.createElement(\"div\", {\n    style: {\n      marginBottom: '200px',\n      marginTop: '50px'\n    },\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 146\n    },\n    __self: this\n  }, React.createElement(QuestionComponentRM, {\n    duration: duration,\n    exerciseId: exerciseId,\n    service: currentService,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 147\n    },\n    __self: this\n  })) : '', React.createElement(\"div\", {\n    className: \"col col-lg-12 col-sm-6\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 152\n    },\n    __self: this\n  }, React.createElement(\"br\", {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 153\n    },\n    __self: this\n  }), React.createElement(Card, {\n    className: \"\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 154\n    },\n    __self: this\n  }, React.createElement(CardContent, {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 156\n    },\n    __self: this\n  }, React.createElement(Typography, {\n    gutterBottom: true,\n    variant: \"\",\n    component: \"h5\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 157\n    },\n    __self: this\n  }, \"Recruitment Management\", React.createElement(\"hr\", {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 159\n    },\n    __self: this\n  })), spinner ? React.createElement(Spinner, {\n    animation: \"grow\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 161\n    },\n    __self: this\n  }) : LMSubStatus === \"active\" ? LMExercise.map(r => {\n    return React.createElement(\"ul\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 163\n      },\n      __self: this\n    }, React.createElement(\"li\", {\n      className: `ui floating message`,\n      \"data-service\": \"LM\",\n      \"data-duration\": r.duration,\n      onClick: getQuestions,\n      id: r._id,\n      style: {\n        cursor: 'pointer',\n        fontSize: '18px',\n        fontStyle: 'itallic'\n      },\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 164\n      },\n      __self: this\n    }, r.title, React.createElement(\"br\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 164\n      },\n      __self: this\n    }), React.createElement(\"small\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 164\n      },\n      __self: this\n    }, \"Duration: \", r.duration, \" minutes\")));\n  }) : LMExercise.map(r => {\n    return React.createElement(\"ul\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 169\n      },\n      __self: this\n    }, React.createElement(\"li\", {\n      id: r._id,\n      style: {\n        cursor: 'pointer'\n      },\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 170\n      },\n      __self: this\n    }, r.title));\n  })), React.createElement(CardActions, {\n    style: {\n      background: '#e9ecef'\n    },\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 177\n    },\n    __self: this\n  }, React.createElement(\"small\", {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 178\n    },\n    __self: this\n  }, \"Note: You are only allowed to take a test only once\")))), displayQuestions && currentService == 'LM' ? React.createElement(\"div\", {\n    style: {\n      marginBottom: '200px',\n      marginTop: '50px'\n    },\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 183\n    },\n    __self: this\n  }, React.createElement(QuestionComponentLM, {\n    duration: duration,\n    exerciseId: exerciseId,\n    service: currentService,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 184\n    },\n    __self: this\n  })) : '')));\n};\n\nexport default Exercises;","map":{"version":3,"sources":["/Users/mac/Desktop/projekte/esgrown/src/components/ind_dashboard_components/exercises/exercise.js"],"names":["React","useState","useEffect","axios","Card","CardActionArea","Typography","CardContent","CardActions","Spinner","QuestionComponentRM","QuestionComponentLM","Exercises","spinner","setSpinner","RMExercise","setRMExercise","RMSubStatus","setRMSubStatus","LMExercise","setLMExercise","LMSubStatus","setLMSubStatus","questions","setQuestions","displayQuestions","setDisplayQuestions","duration","setDuration","exerciseId","setExerciseId","currentService","setCurrentService","qspinner","setQSpinner","get","then","res","rm","data","filter","r","service","catch","err","console","log","lm","userData","JSON","parse","sessionStorage","getItem","id","sub_status","getQuestions","e","target","getAttribute","map","_id","cursor","fontSize","fontStyle","title","background","marginBottom","marginTop"],"mappings":"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","sourcesContent":["import React, { useState, useEffect } from 'react';\nimport axios from 'axios';\nimport { Card, CardActionArea, Typography, CardContent, CardActions } from '@material-ui/core';\nimport { Spinner } from 'react-bootstrap';\nimport QuestionComponentRM from './questionscomponent';\nimport QuestionComponentLM from './questionscomponent';\n\n\n\n\n\n\nconst Exercises = () => {\n\n\n\n    const [spinner, setSpinner] = useState(true)\n\n    const [RMExercise, setRMExercise] = useState([]);\n    const [RMSubStatus, setRMSubStatus] = useState('');\n\n    const [LMExercise, setLMExercise] = useState([]);\n    const [LMSubStatus, setLMSubStatus] = useState('');\n\n    const [questions, setQuestions] = useState([]);\n    const [displayQuestions, setDisplayQuestions] = useState(false)\n\n    const [duration, setDuration] = useState('');\n    const [exerciseId, setExerciseId] = useState('');\n    const [currentService, setCurrentService] = useState('')\n    const [qspinner, setQSpinner] = useState(true);\n\n\n\n\n\n    //get all exercises and filter for rm and lm\n    useEffect(() => {\n\n        //rm exercises\n        axios.get(`http://localhost:5000/excercise`)\n            .then(res => {\n\n                const rm = res.data.filter((r) => {\n                    return r.service === \"RM\"\n                })\n                setRMExercise(rm)\n                setSpinner(false)\n            })\n            .catch(err => console.log(err));\n\n\n        //lm exercise\n        axios.get(`http://localhost:5000/excercise`)\n            .then(res => {\n\n                const lm = res.data.filter((r) => {\n                    return r.service === \"LM\"\n                })\n                setLMExercise(lm)\n                setSpinner(false)\n            })\n            .catch(err => console.log(err))\n\n\n\n    }, []);\n\n\n    //check service the user is subscribed to \n    useEffect(() => {\n\n        //lm sub status\n        const userData = JSON.parse(sessionStorage.getItem('key'))\n\n        console.log(userData.id)\n\n        axios.get(`http://localhost:5000/subscriptionlm/${userData.id}`)\n            .then(res => {\n\n                    console.log(res.data)\n                    setLMSubStatus(res.data[0].sub_status)\n\n                \n            })\n            .catch(err => console.log(err));\n\n        //rm sub status\n        axios.get(`http://localhost:5000/subscriptionrm/${userData.id}`)\n            .then(res => {\n                console.log('RM ' + res.data[0].sub_status)\n\n                setRMSubStatus(res.data[0].sub_status);\n            })\n            .catch(err => console.log(err))\n\n\n    }, [])\n\n    const getQuestions = (e) => {\n\n        const id = e.target.id;\n        setExerciseId(id)\n        setCurrentService(e.target.getAttribute('data-service'));\n        setDuration(e.target.getAttribute('data-duration'));\n        setDisplayQuestions(true)\n\n    }\n\n\n    return (\n        <>\n            <div className=\"container\">\n                <div className=\"row\">\n                    <div className=\"col col-lg-12 col-sm-6\">\n                        <br />\n                        <Card className=\"\">\n\n                            <CardContent>\n                                <Typography gutterBottom variant=\"\" component=\"h5\">\n                                    Recruitment Management\n                                        <hr />\n                                </Typography>\n                                {spinner ? <Spinner animation=\"grow\" /> : RMSubStatus === \"active\" ? RMExercise.map(r => {\n                                    return (\n                                        <ul>\n                                            <li className={`ui floating message`} data-service=\"RM\" data-duration={r.duration} onClick={getQuestions} id={r._id} style={{ cursor: 'pointer', fontSize: '18px', fontStyle: 'itallic' }}>{r.title}<br /><small>Duration: {r.duration} minutes</small></li>\n                                        </ul>\n                                    );\n                                }) : RMExercise.map(r => {\n                                    return (\n                                        <ul>\n                                            <li id={r._id} style={{ cursor: 'pointer' }}>{r.title}</li>\n                                        </ul>\n                                    );\n                                })}\n                            </CardContent>\n\n\n                            <CardActions style={{ background: '#e9ecef' }}>\n                                <small>Note: You are only allowed to take a test only once</small>\n                            </CardActions>\n                        </Card>\n                    </div>\n                    {displayQuestions && currentService == 'RM' ?\n                        <div style={{ marginBottom: '200px', marginTop: '50px' }}>\n                            <QuestionComponentRM duration={duration} exerciseId={exerciseId} service={currentService} />\n                        </div>\n                        : ''}\n\n\n                    <div className=\"col col-lg-12 col-sm-6\">\n                        <br />\n                        <Card className=\"\">\n\n                            <CardContent>\n                                <Typography gutterBottom variant=\"\" component=\"h5\">\n                                    Recruitment Management\n                                        <hr />\n                                </Typography>\n                                {spinner ? <Spinner animation=\"grow\" /> : LMSubStatus === \"active\" ? LMExercise.map(r => {\n                                    return (\n                                        <ul>\n                                            <li className={`ui floating message`} data-service=\"LM\" data-duration={r.duration} onClick={getQuestions} id={r._id} style={{ cursor: 'pointer', fontSize: '18px', fontStyle: 'itallic' }}>{r.title}<br /><small>Duration: {r.duration} minutes</small></li>\n                                        </ul>\n                                    );\n                                }) : LMExercise.map(r => {\n                                    return (\n                                        <ul>\n                                            <li id={r._id} style={{ cursor: 'pointer' }}>{r.title}</li>\n                                        </ul>\n                                    );\n                                })}\n                            </CardContent>\n\n\n                            <CardActions style={{ background: '#e9ecef' }}>\n                                <small>Note: You are only allowed to take a test only once</small>\n                            </CardActions>\n                        </Card>\n                    </div>\n                    {displayQuestions && currentService == 'LM' ?\n                        <div style={{ marginBottom: '200px', marginTop: '50px' }}>\n                            <QuestionComponentLM duration={duration} exerciseId={exerciseId} service={currentService} />\n                        </div>\n                        : ''}\n\n                </div>\n            </div>\n\n        </>\n\n    );\n\n}\nexport default Exercises;"]},"metadata":{},"sourceType":"module"}