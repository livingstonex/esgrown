{"ast":null,"code":"import _defineProperty from\"/Users/mac/Desktop/esgrown/node_modules/@babel/runtime/helpers/esm/defineProperty\";import _objectSpread from\"/Users/mac/Desktop/esgrown/node_modules/@babel/runtime/helpers/esm/objectSpread2\";import _slicedToArray from\"/Users/mac/Desktop/esgrown/node_modules/@babel/runtime/helpers/esm/slicedToArray\";import React,{useState}from\"react\";import{Link}from\"react-router-dom\";import axios from\"axios\";import{AuthContext}from\"../AuthContext\";import{Container,Col,Row,Form,Button,Jumbotron,Spinner}from\"react-bootstrap\";var AdminLogin=function AdminLogin(){var _useState=useState(false),_useState2=_slicedToArray(_useState,2),spinner=_useState2[0],setSpinner=_useState2[1];var _useState3=useState('email','password'),_useState4=_slicedToArray(_useState3,2),data=_useState4[0],setData=_useState4[1];var handleChange=function handleChange(e){var name=e.target.name;var value=e.target.value;setData(_objectSpread({},data,_defineProperty({},name,value)));};var styles={'background-color':'skyblue','opacity':'0.8','font-family':'verdana','color':'white'};var formStyle={'border':'1px solid skyblue','border-radius':'5px'};return React.createElement(AuthContext.Consumer,null,function(context){return React.createElement(\"div\",null,React.createElement(Container,null,React.createElement(\"br\",null),React.createElement(\"br\",null),React.createElement(\"br\",null),React.createElement(Row,null,React.createElement(\"br\",null),React.createElement(Col,{className:\"col-xl-6 col-lg-6 col-md-6 col-sm-12 col-12\"},React.createElement(Container,null,React.createElement(Jumbotron,{className:\"jumbo\",style:styles},React.createElement(\"h6\",null,\"Align education knowledge and skills needs for success;\",context.state.name,React.createElement(\"br\",null),\"Access Education that equips you for life success;\",React.createElement(\"br\",null),React.createElement(\"br\",null),\"Access industry that needs knowledge and skills you have gained;\",React.createElement(\"br\",null),React.createElement(\"br\",null),\"Build efficient workforce that meet your business knowledge and skill needs;\",React.createElement(\"br\",null),React.createElement(\"br\",null),\"Management staff performance and lots more with\"),React.createElement(\"h3\",null,\"ESGROWN\")))),React.createElement(Col,{className:\"col-xl-2 col-lg-2 col-md-1 col-sm-0 col-0\"}),React.createElement(Col,{className:\"col-xl-4 col-lg-4 col-md-5 col-sm-12 col-12\"},React.createElement(Container,{style:formStyle},React.createElement(\"br\",null),React.createElement(\"label\",{style:{'fontWeight':'bold'}},\"Admin Sign In \"),React.createElement(Form,null,React.createElement(Form.Group,{controlId:\"formBasicEmail\"},React.createElement(Form.Label,null,\"Username:\"),React.createElement(Form.Control,{type:\"email\",name:\"username\",required:true,placeholder:\"Enter Username\",onChange:handleChange,value:data.email}),React.createElement(Form.Text,{className:\"text-muted\"})),React.createElement(Form.Group,{controlId:\"formBasicPassword\"},React.createElement(Form.Label,null,\"Password:\"),React.createElement(Form.Control,{type:\"password\",name:\"password\",required:true,placeholder:\"Password\",onChange:handleChange,value:data.password})),React.createElement(Button,{variant:\"primary\",onClick:function onClick(){setSpinner(true);var username=data.username;var password=data.password;var loginData={username:username,password:password};//check login details\naxios.post(\"http://localhost:5000/admin/login\",loginData).then(function(res){if(res.data!=='failed'){context.setUserAuthData(true);console.log(res.data);var user={name:res.data.name,privilege:res.data.privilege,email:res.data.email,tutor_level:res.data.tutor_level,role:res.data.role,country:res.data.country,id:res.data._id,isLogged:true,status:\"ADMIN\"};sessionStorage.setItem(\"key\",JSON.stringify(user));setSpinner(false);window.location=\"/frontier\";}else{setSpinner(false);alert(\" Wrong login details, please try again\");}}).catch(function(err){return console.log(err);});}},spinner?React.createElement(Spinner,{animation:\"grow\"}):'Sign In'),React.createElement(\"br\",null),React.createElement(\"br\",null),React.createElement(\"br\",null)),React.createElement(\"br\",null)))),React.createElement(\"br\",null),React.createElement(\"br\",null)));});};export default AdminLogin;","map":{"version":3,"sources":["/Users/mac/Desktop/esgrown/src/components/admin_login.js"],"names":["React","useState","Link","axios","AuthContext","Container","Col","Row","Form","Button","Jumbotron","Spinner","AdminLogin","spinner","setSpinner","data","setData","handleChange","e","name","target","value","styles","formStyle","context","state","email","password","username","loginData","post","then","res","setUserAuthData","console","log","user","privilege","tutor_level","role","country","id","_id","isLogged","status","sessionStorage","setItem","JSON","stringify","window","location","alert","catch","err"],"mappings":"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","sourcesContent":["import React, { useState } from \"react\";\nimport { Link } from \"react-router-dom\";\nimport axios from \"axios\";\nimport { AuthContext } from \"../AuthContext\";\n\nimport { Container, Col, Row, Form, Button, Jumbotron, Spinner } from \"react-bootstrap\";\n\n\n\n\n\nconst AdminLogin = () => {\n\n    const [spinner, setSpinner] = useState(false)\n    const [data, setData] = useState('email', 'password');\n\n    const handleChange = (e) => {\n        const name = e.target.name;\n        const value = e.target.value;\n\n        setData({\n            ...data,\n            [name]: value\n        })\n\n    }\n\n\n    const styles = {\n        'background-color': 'skyblue',\n        'opacity': '0.8',\n        'font-family': 'verdana',\n        'color': 'white',\n    };\n    const formStyle = {\n        'border': '1px solid skyblue',\n        'border-radius': '5px'\n    };\n\n    return (\n        <AuthContext.Consumer>\n            {\n                (context) => (\n                    <div>\n                        <Container>\n                            <br />\n                            <br />\n                            <br />\n                            <Row>\n                                <br />\n                                <Col className=\"col-xl-6 col-lg-6 col-md-6 col-sm-12 col-12\" >\n                                    <Container>\n                                        <Jumbotron className=\"jumbo\" style={styles}>\n\n                                            <h6>Align education knowledge and skills needs for success;\n                                                        {context.state.name}\n\n                                                <br />\n                                                        Access Education that equips you for life success;\n                                                        <br />\n                                                <br />\n                                                        Access industry that needs knowledge and skills you have gained;\n                                                        <br /><br />\n                                                        Build efficient workforce that meet your business knowledge and skill needs;\n                                                        <br /><br />\n                                                        Management staff performance and lots more with\n                                                    </h6>\n                                            <h3>ESGROWN</h3>\n                                        </Jumbotron>\n                                    </Container>\n                                </Col>\n                                <Col className=\"col-xl-2 col-lg-2 col-md-1 col-sm-0 col-0\"></Col>\n                                <Col className=\"col-xl-4 col-lg-4 col-md-5 col-sm-12 col-12\"  >\n                                    <Container style={formStyle} >\n                                        <br />\n                                        <label style={{ 'fontWeight': 'bold' }}>Admin Sign In </label>\n                                        <Form >\n                                            <Form.Group controlId=\"formBasicEmail\">\n                                                <Form.Label>Username:</Form.Label>\n                                                <Form.Control type=\"email\" name=\"username\" required placeholder=\"Enter Username\" onChange={handleChange} value={data.email} />\n                                                <Form.Text className=\"text-muted\">\n                                                </Form.Text>\n                                            </Form.Group>\n                                            <Form.Group controlId=\"formBasicPassword\">\n                                                <Form.Label>Password:</Form.Label>\n                                                <Form.Control type=\"password\" name=\"password\" required placeholder=\"Password\" onChange={handleChange} value={data.password} />\n                                            </Form.Group>\n\n                                            <Button variant=\"primary\" onClick={() => {\n                                                setSpinner(true)\n\n                                                const username = data.username;\n                                                const password = data.password;\n\n\n                                                const loginData = {\n                                                    username: username,\n                                                    password: password\n                                                }\n\n\n                                                //check login details\n                                                axios.post(`http://localhost:5000/admin/login`, loginData)\n                                                    .then(res => {\n                                                        if (res.data !== 'failed') {\n                                                            context.setUserAuthData(true);\n                                                            console.log(res.data)\n                                                            const user = {\n                                                                name: res.data.name,\n                                                                privilege: res.data.privilege,\n                                                                email: res.data.email,\n                                                                tutor_level:res.data.tutor_level,\n                                                                role: res.data.role,\n                                                                country: res.data.country,\n                                                                id:res.data._id,\n                                                                isLogged: true,\n                                                                status: \"ADMIN\"\n                                                            }\n                                                            sessionStorage.setItem(\"key\", JSON.stringify(user));\n\n                                                            setSpinner(false)\n                                                            window.location = \"/frontier\";\n\n                                                        } else {\n                                                            setSpinner(false)\n                                                            alert(\" Wrong login details, please try again\");\n\n\n                                                        }\n\n\n                                                    })\n                                                    .catch(err => console.log(err))\n                                            }\n                                            }>\n                                                {spinner ? <Spinner animation=\"grow\" /> : 'Sign In'}\n                                            </Button>\n                                            <br />\n                                            <br />\n                                            <br />\n                                        </Form>\n                                        <br />\n                                    </Container>\n                                </Col>\n                            </Row>\n\n                            <br />\n                            <br />\n                        </Container>\n                    </div>\n                )\n            }\n        </AuthContext.Consumer>\n    );\n}\n\nexport default AdminLogin;"]},"metadata":{},"sourceType":"module"}