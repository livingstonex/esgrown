{"ast":null,"code":"var _jsxFileName = \"/Users/mac/Desktop/projekte/esgrown/src/components/ind_dashboard_components/subscription-pages/efa/efa_sub_page/efa_sub_page.js\";\nimport React, { Component } from 'react';\nimport { Button, Form, FormGroup, Label, Input, Modal, ModalHeader, ModalBody, ModalFooter } from 'reactstrap';\nimport axios from 'axios';\n\nclass EfaUpdateForm extends Component {\n  constructor(...args) {\n    super(...args);\n    this.state = {\n      levelOfEducation: '',\n      nextIntendedEductionLevel: '',\n      filedOfStudy: '',\n      sub_status: false,\n      user_id: '',\n      message: '',\n      LOE: true,\n      NILE: true\n    };\n\n    this.handleUpdate = () => {\n      const data = {\n        levelofeducation: this.state.levelOfEducation,\n        next_intended_education_level: this.state.nextIntendedEductionLevel,\n        field_of_intended_study: this.state.filedOfStudy\n      }; //make axios request and update\n\n      axios.post(`http://localhost:5000/subscriptionefa/update/${this.state.user_id}`, data).then(response => {\n        if (response.status == 200) {\n          this.setState({\n            message: 'Subscription details updated successful'\n          });\n        }\n      }).catch(err => this.setState({\n        message: 'There was a problem updating your account. Please try again'\n      }));\n    };\n\n    this.changeHandler = event => {\n      const name = event.target.name;\n      const value = event.target.value;\n      this.setState({\n        [name]: value\n      });\n    };\n  }\n\n  //make axios call to api and get data to be edited and store in state\n  componentDidMount() {\n    const userData = JSON.parse(sessionStorage.getItem('key'));\n    this.setState({\n      user_id: userData.id\n    });\n    axios.get(`http://localhost:5000/subscriptionefa/${userData.id}`).then(response => this.setState({\n      levelOfEducation: response.data[0].levelofeducation,\n      nextIntendedEductionLevel: response.data[0].next_intended_education_level,\n      filedOfStudy: response.data[0].field_of_intended_study,\n      sub_status: response.data[0].sub_status\n    })).catch(err => console.log(err.message));\n  }\n\n  render() {\n    const _this$props = this.props,\n          isOpen = _this$props.isOpen,\n          toggle = _this$props.toggle;\n    const sub_statusColor = this.state.sub_status === false ? '#e68723' : '#97ba0d';\n    const buttonText = this.state.sub_status === false ? 'PAY' : 'PAID';\n    return React.createElement(\"div\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 85\n      },\n      __self: this\n    }, React.createElement(Modal, {\n      isOpen: isOpen,\n      toggle: toggle,\n      onHide: () => this.setState({\n        messsage: ' '\n      }),\n      centered: true,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 87\n      },\n      __self: this\n    }, React.createElement(ModalHeader, {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 88\n      },\n      __self: this\n    }, React.createElement(\"div\", {\n      style: {\n        float: 'left'\n      },\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 89\n      },\n      __self: this\n    }, React.createElement(\"p\", {\n      style: {\n        font: 'verdana',\n        fontSize: 18\n      },\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 89\n      },\n      __self: this\n    }, \"Education Finances Advisory Subscription\")), React.createElement(\"div\", {\n      style: {\n        float: 'right',\n        marginLeft: 300,\n        marginTop: -45,\n        paddingRight: 0\n      },\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 90\n      },\n      __self: this\n    }, React.createElement(Button, {\n      style: {\n        float: 'right',\n        backgroundColor: sub_statusColor,\n        color: 'white',\n        border: sub_statusColor\n      },\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 90\n      },\n      __self: this\n    }, buttonText))), React.createElement(ModalBody, {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 92\n      },\n      __self: this\n    }, React.createElement(Form, {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 93\n      },\n      __self: this\n    }, React.createElement(FormGroup, {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 94\n      },\n      __self: this\n    }, React.createElement(\"div\", {\n      className: \"row mt-3\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 95\n      },\n      __self: this\n    }, React.createElement(\"div\", {\n      className: \"col input-group\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 96\n      },\n      __self: this\n    }, React.createElement(\"select\", {\n      className: \"form-control\",\n      name: \"levelOfEducation\",\n      value: this.state.levelOfEducation,\n      disabled: this.state.LOE,\n      required: true,\n      onChange: this.changeHandler,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 97\n      },\n      __self: this\n    }, React.createElement(\"option\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 98\n      },\n      __self: this\n    }, \"Level of Education\"), React.createElement(\"option\", {\n      value: \"degree\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 99\n      },\n      __self: this\n    }, \"Degree\"), React.createElement(\"option\", {\n      value: \"masters\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 100\n      },\n      __self: this\n    }, \"Masters\"), React.createElement(\"option\", {\n      value: \"phd\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 101\n      },\n      __self: this\n    }, \"Ph.D\")), React.createElement(\"div\", {\n      class: \"input-group-prepend\",\n      style: {\n        cursor: 'pointer',\n        background: 'lightgrey',\n        border: 'none'\n      },\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 103\n      },\n      __self: this\n    }, React.createElement(\"div\", {\n      class: \"input-group-text\",\n      onClick: () => this.setState({\n        LOE: !this.state.LOE\n      }),\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 104\n      },\n      __self: this\n    }, \"edit\"))))), React.createElement(FormGroup, {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 110\n      },\n      __self: this\n    }, React.createElement(\"div\", {\n      className: \"row mt-3\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 111\n      },\n      __self: this\n    }, React.createElement(\"div\", {\n      className: \"col input-group\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 112\n      },\n      __self: this\n    }, React.createElement(\"select\", {\n      className: \"form-control\",\n      name: \"nextIntendedEductionLevel\",\n      disabled: this.state.NILE,\n      required: true,\n      onChange: this.changeHandler,\n      value: this.state.nextIntendedEductionLevel,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 113\n      },\n      __self: this\n    }, React.createElement(\"option\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 114\n      },\n      __self: this\n    }, \"Next Intended Education Level\"), React.createElement(\"option\", {\n      value: \"degree\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 115\n      },\n      __self: this\n    }, \"Degree\"), React.createElement(\"option\", {\n      value: \"masters\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 116\n      },\n      __self: this\n    }, \"Masters\"), React.createElement(\"option\", {\n      value: \"phd\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 117\n      },\n      __self: this\n    }, \"Ph.D\")), React.createElement(\"div\", {\n      class: \"input-group-prepend\",\n      style: {\n        cursor: 'pointer',\n        background: 'lightgrey',\n        border: 'none'\n      },\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 119\n      },\n      __self: this\n    }, React.createElement(\"div\", {\n      class: \"input-group-text\",\n      onClick: () => this.setState({\n        NILE: !this.state.NILE\n      }),\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 120\n      },\n      __self: this\n    }, \"edit\"))))), React.createElement(FormGroup, {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 126\n      },\n      __self: this\n    }, React.createElement(Label, {\n      for: \"intendedStudy\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 127\n      },\n      __self: this\n    }, \"Filed Of Study\"), React.createElement(Input, {\n      type: \"text\",\n      name: \"filedOfStudy\",\n      value: this.state.filedOfStudy,\n      onChange: this.changeHandler,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 128\n      },\n      __self: this\n    })))), React.createElement(ModalFooter, {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 136\n      },\n      __self: this\n    }, this.state.message === 'Subscription details updated successful' ? React.createElement(\"span\", {\n      style: {\n        color: 'green'\n      },\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 137\n      },\n      __self: this\n    }, this.state.message) : React.createElement(\"span\", {\n      style: {\n        color: 'red'\n      },\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 137\n      },\n      __self: this\n    }, this.state.message), ' ', ' ', ' ', ' ', React.createElement(Button, {\n      style: {\n        background: '#1c8496',\n        color: 'white'\n      },\n      onClick: this.handleUpdate,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 140\n      },\n      __self: this\n    }, \"Update\"), ' ')));\n  }\n\n}\n\nexport default EfaUpdateForm;","map":{"version":3,"sources":["/Users/mac/Desktop/projekte/esgrown/src/components/ind_dashboard_components/subscription-pages/efa/efa_sub_page/efa_sub_page.js"],"names":["React","Component","Button","Form","FormGroup","Label","Input","Modal","ModalHeader","ModalBody","ModalFooter","axios","EfaUpdateForm","state","levelOfEducation","nextIntendedEductionLevel","filedOfStudy","sub_status","user_id","message","LOE","NILE","handleUpdate","data","levelofeducation","next_intended_education_level","field_of_intended_study","post","then","response","status","setState","catch","err","changeHandler","event","name","target","value","componentDidMount","userData","JSON","parse","sessionStorage","getItem","id","get","console","log","render","props","isOpen","toggle","sub_statusColor","buttonText","messsage","float","font","fontSize","marginLeft","marginTop","paddingRight","backgroundColor","color","border","cursor","background"],"mappings":"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","sourcesContent":["import React, { Component } from 'react';\nimport { Button, Form, FormGroup, Label, Input, Modal, ModalHeader, ModalBody, ModalFooter } from 'reactstrap';\n\n\nimport axios from 'axios';\n\nclass EfaUpdateForm extends Component {\n\n    state = {\n        levelOfEducation: '',\n        nextIntendedEductionLevel: '',\n        filedOfStudy: '',\n        sub_status: false,\n        user_id: '',\n        message: '',\n        LOE: true,\n        NILE: true\n    }\n\n\n    handleUpdate = () => {\n\n        const data = {\n            levelofeducation: this.state.levelOfEducation,\n            next_intended_education_level: this.state.nextIntendedEductionLevel,\n            field_of_intended_study: this.state.filedOfStudy\n        };\n\n        //make axios request and update\n        axios.post(`http://localhost:5000/subscriptionefa/update/${this.state.user_id}`, data)\n            .then(response => {\n                if (response.status == 200) {\n                    this.setState({\n                        message: 'Subscription details updated successful'\n})\n                }\n            })\n            .catch(err => this.setState({ message: 'There was a problem updating your account. Please try again' }))\n\n\n\n    }\n\n\n    //make axios call to api and get data to be edited and store in state\n    componentDidMount() {\n        const userData = JSON.parse(sessionStorage.getItem('key'));\n\n        this.setState({ user_id: userData.id });\n\n        axios.get(`http://localhost:5000/subscriptionefa/${userData.id}`)\n            .then(response => this.setState({\n                levelOfEducation: response.data[0].levelofeducation,\n                nextIntendedEductionLevel: response.data[0].next_intended_education_level,\n                filedOfStudy: response.data[0].field_of_intended_study,\n                sub_status: response.data[0].sub_status\n\n\n            }))\n            .catch(err => console.log(err.message))\n\n    }\n\n\n\n    changeHandler = event => {\n\n        const name = event.target.name;\n\n        const value = event.target.value;\n\n        this.setState({ [name]: value });\n    }\n\n\n    render() {\n\n        const { isOpen, toggle } = this.props;\n\n        const sub_statusColor = this.state.sub_status === false ? '#e68723' : '#97ba0d';\n\n        const buttonText = this.state.sub_status === false ? 'PAY' : 'PAID'\n        return (\n\n            <div>\n\n                <Modal isOpen={isOpen} toggle={toggle} onHide={() => this.setState({ messsage: ' ' })} centered >\n                    <ModalHeader>\n                        <div style={{ float: 'left' }}><p style={{ font: 'verdana', fontSize: 18 }}>Education Finances Advisory Subscription</p></div>\n                        <div style={{ float: 'right', marginLeft: 300, marginTop: -45, paddingRight: 0 }}><Button style={{ float: 'right', backgroundColor: sub_statusColor, color: 'white', border: sub_statusColor }}>{buttonText}</Button></div>\n                    </ModalHeader>\n                    <ModalBody>\n                        <Form>\n                            <FormGroup>\n                                <div className=\"row mt-3\">\n                                    <div className=\"col input-group\">\n                                        <select className=\"form-control\" name=\"levelOfEducation\" value={this.state.levelOfEducation} disabled={this.state.LOE } required onChange={this.changeHandler}>\n                                            <option>Level of Education</option>\n                                            <option value=\"degree\">Degree</option>\n                                            <option value=\"masters\">Masters</option>\n                                            <option value=\"phd\">Ph.D</option>\n                                        </select>\n                                        <div class=\"input-group-prepend\" style={{ cursor: 'pointer', background: 'lightgrey', border: 'none' }}>\n                                            <div class=\"input-group-text\" onClick={() => this.setState({ LOE: !this.state.LOE })}>edit</div>\n                                        </div>\n                                    </div>\n                                </div>\n                            </FormGroup>\n\n                            <FormGroup>\n                                <div className=\"row mt-3\">\n                                    <div className=\"col input-group\">\n                                        <select className=\"form-control\" name=\"nextIntendedEductionLevel\" disabled={this.state.NILE} required onChange={this.changeHandler} value={this.state.nextIntendedEductionLevel}>\n                                            <option>Next Intended Education Level</option>\n                                            <option value=\"degree\">Degree</option>\n                                            <option value=\"masters\">Masters</option>\n                                            <option value=\"phd\">Ph.D</option>\n                                        </select>\n                                        <div class=\"input-group-prepend\" style={{ cursor: 'pointer', background: 'lightgrey', border: 'none' }}>\n                                            <div class=\"input-group-text\" onClick={() => this.setState({ NILE: !this.state.NILE })}>edit</div>\n                                        </div>\n                                    </div>\n                                </div>\n                            </FormGroup>\n\n                            <FormGroup>\n                                <Label for=\"intendedStudy\">Filed Of Study</Label>\n                                <Input type=\"text\"\n                                    name=\"filedOfStudy\"\n                                    value={this.state.filedOfStudy}\n                                    onChange={this.changeHandler}\n                                />\n                            </FormGroup>\n                        </Form>\n                    </ModalBody>\n                    <ModalFooter>\n                        {this.state.message === 'Subscription details updated successful' ? <span style={{ color: 'green' }}>{this.state.message}</span> : <span style={{ color: 'red' }}>{this.state.message}</span>}\n                        {' '}{' '}\n                        {' '}{' '}\n                        <Button style={{ background: '#1c8496', color: 'white' }} onClick={this.handleUpdate}>Update</Button>{' '}\n                    </ModalFooter>\n                </Modal>\n            </div>\n        )\n\n    }\n}\nexport default EfaUpdateForm;\n"]},"metadata":{},"sourceType":"module"}