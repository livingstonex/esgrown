{"ast":null,"code":"import _objectSpread from \"/Users/mac/Desktop/projekte/esgrown/node_modules/@babel/runtime/helpers/esm/objectSpread2\";\nimport _slicedToArray from \"/Users/mac/Desktop/projekte/esgrown/node_modules/@babel/runtime/helpers/esm/slicedToArray\";\nvar _jsxFileName = \"/Users/mac/Desktop/projekte/esgrown/src/components/admin/dashboards/country-admin/components/create-admin.js\";\nimport React, { useState, useEffect } from 'react';\nimport axios from 'axios';\nimport { Card, CardContent, FormLabel, FormControl, FormGroup, FormControlLabel, FormHelperText, Checkbox } from '@material-ui/core';\nimport { Spinner, Col } from 'react-bootstrap';\nimport Privileges from './privileges';\nimport SeniorPrivileges from './senior';\nimport JuniorPrivileges from './junior';\n\nconst CreateAdmin = () => {\n  const _useState = useState(false),\n        _useState2 = _slicedToArray(_useState, 2),\n        spinner = _useState2[0],\n        setSpinner = _useState2[1];\n\n  const _useState3 = useState(''),\n        _useState4 = _slicedToArray(_useState3, 2),\n        user = _useState4[0],\n        setUser = _useState4[1];\n\n  const _useState5 = useState(),\n        _useState6 = _slicedToArray(_useState5, 2),\n        adminTutorLevel = _useState6[0],\n        setAdminTutorLevel = _useState6[1];\n\n  const _useState7 = useState({\n    mathematics: false,\n    physics: false,\n    chemistry: false,\n    biology: false,\n    geography: false,\n    economics: false,\n    accounting: false,\n    history: false,\n    generalKnowledge: false\n  }),\n        _useState8 = _slicedToArray(_useState7, 2),\n        seniorTutorPrivilege = _useState8[0],\n        setSeniorTutorPrivilege = _useState8[1];\n\n  const _useState9 = useState({\n    mathematics: false,\n    socialStudies: false,\n    integratedScience: false,\n    businessStudies: false,\n    generalKnowledge: false,\n    history: false\n  }),\n        _useState10 = _slicedToArray(_useState9, 2),\n        juniorTutorPrivilege = _useState10[0],\n        setJuniorTutorPrivilege = _useState10[1];\n\n  const _useState11 = useState(''),\n        _useState12 = _slicedToArray(_useState11, 2),\n        adminType = _useState12[0],\n        setAdminType = _useState12[1];\n\n  const _useState13 = useState({\n    name: '',\n    email: '',\n    username: '',\n    password: '',\n    country: '',\n    usertype: ''\n  }),\n        _useState14 = _slicedToArray(_useState13, 2),\n        state = _useState14[0],\n        setState = _useState14[1];\n\n  const _useState15 = useState({\n    EAS: false,\n    EFA: false,\n    LM: false,\n    RM: false,\n    LMExercise: false,\n    RMExercise: false,\n    AllServices: false,\n    AllExercises: false\n  }),\n        _useState16 = _slicedToArray(_useState15, 2),\n        privilege = _useState16[0],\n        setPrivilege = _useState16[1];\n\n  useEffect(() => {\n    const user = JSON.parse(sessionStorage.getItem(\"key\"));\n    setUser(user);\n  }, []); //set privileges check box state\n\n  const getPrivileges = event => {\n    setPrivilege(_objectSpread({}, privilege, {\n      [event.target.name]: event.target.checked\n    }));\n  }; //handle other form state\n\n\n  const handleChange = e => {\n    const name = e.target.name;\n    const value = e.target.value;\n    setState(_objectSpread({}, state, {\n      [name]: value\n    }));\n  }; //set admin type to determine privileges to show\n\n\n  const adminUserType = e => {\n    setAdminType(e.target.value);\n  };\n\n  const tutorLevel = e => {\n    setAdminTutorLevel(e.target.value);\n  }; //tutor senior privileges checkbox state\n\n\n  const getTutorPrivileges = event => {\n    setSeniorTutorPrivilege(_objectSpread({}, seniorTutorPrivilege, {\n      [event.target.name]: event.target.checked\n    }));\n  }; // tutor junior privileges checkbox state\n\n\n  const getJuniorTutorPrivileges = event => {\n    setJuniorTutorPrivilege(_objectSpread({}, juniorTutorPrivilege, {\n      [event.target.name]: event.target.checked\n    }));\n  }; //check username to prevent duplicates\n\n\n  const checkUsername = e => {\n    const u = e.target.value;\n    axios.post(`http://localhost:5000/admin/check/username/${u}`).then(res => {\n      if (res.data.length > 0) {\n        alert(`username ${u} has been taken`);\n      }\n    }).catch(err => console.log(err));\n  }; //send data to server\n\n\n  const create = () => {\n    setSpinner(true);\n    const assignedPrivileges = Object.keys(privilege).filter(pri => {\n      return privilege[pri] === true;\n    });\n    const assignedSeniorTutorPrivileges = Object.keys(seniorTutorPrivilege).filter(tutor => {\n      return seniorTutorPrivilege[tutor] === true;\n    });\n    const assignedJuniorTutorPrivileges = Object.keys(juniorTutorPrivilege).filter(tutor => {\n      return juniorTutorPrivilege[tutor] === true;\n    });\n    let privileges;\n\n    if (adminType === \"Admin\") {\n      privileges = assignedPrivileges;\n    } else if (adminType === \"Tutor\" && adminTutorLevel === \"Senior\") {\n      privileges = assignedSeniorTutorPrivileges;\n    } else if (adminType === \"Tutor\" && adminTutorLevel === \"Junior\") {\n      privileges = assignedJuniorTutorPrivileges;\n    }\n\n    const data = {\n      name: state.name,\n      email: state.email,\n      username: state.username,\n      password: state.password,\n      country: user.country,\n      role: adminType === \"Tutor\" ? \"Tutor\" : \"Admin\",\n      tutor_level: adminTutorLevel ? adminTutorLevel : null,\n      privilege: privileges\n    };\n    console.log(data);\n    axios.post(`http://localhost:5000/admin/add`, data).then(res => {\n      console.log(res.data);\n\n      if (res.data) {\n        alert('Admin created successfully');\n        setState({\n          name: '',\n          email: '',\n          username: '',\n          password: ''\n        });\n        setSpinner(false);\n      }\n    }).catch(err => {\n      console.log(err);\n      setSpinner(false);\n    });\n    setPrivilege({\n      EAS: false,\n      EFA: false,\n      LM: false,\n      RM: false,\n      LMExercise: false,\n      RMExercise: false,\n      AllServices: false,\n      AllExercises: false\n    });\n  };\n\n  return React.createElement(React.Fragment, null, React.createElement(\"div\", {\n    className: \"container mt-5\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 194\n    },\n    __self: this\n  }, React.createElement(\"div\", {\n    className: \"row\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 195\n    },\n    __self: this\n  }, React.createElement(Col, {\n    md: {\n      span: 12,\n      offset: 3\n    },\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 196\n    },\n    __self: this\n  }, React.createElement(Card, {\n    className: \"col col-sm-6 col-md-offset-3\",\n    style: {\n      background: '#E1E1E1'\n    },\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 197\n    },\n    __self: this\n  }, React.createElement(CardContent, {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 198\n    },\n    __self: this\n  }, React.createElement(\"div\", {\n    className: \"row mt-3\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 199\n    },\n    __self: this\n  }, React.createElement(\"div\", {\n    className: \"col\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 200\n    },\n    __self: this\n  }, React.createElement(\"label\", {\n    style: {\n      fontWeight: 'bold'\n    },\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 201\n    },\n    __self: this\n  }, \"Full Name\"), React.createElement(\"input\", {\n    type: \"text\",\n    name: \"name\",\n    value: state.name,\n    onChange: handleChange,\n    placeholder: \"Admin Full Name\",\n    className: \"form-control\",\n    required: true,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 202\n    },\n    __self: this\n  }))), React.createElement(\"div\", {\n    className: \"row mt-3\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 206\n    },\n    __self: this\n  }, React.createElement(\"div\", {\n    className: \"col\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 207\n    },\n    __self: this\n  }, React.createElement(\"label\", {\n    style: {\n      fontWeight: 'bold'\n    },\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 208\n    },\n    __self: this\n  }, \"Username\"), React.createElement(\"input\", {\n    type: \"text\",\n    name: \"username\",\n    value: state.username,\n    onChange: handleChange,\n    onBlur: checkUsername,\n    placeholder: \"userName\",\n    className: \"form-control\",\n    required: true,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 209\n    },\n    __self: this\n  }))), React.createElement(\"div\", {\n    className: \"row mt-3\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 213\n    },\n    __self: this\n  }, React.createElement(\"div\", {\n    className: \"col\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 214\n    },\n    __self: this\n  }, React.createElement(\"label\", {\n    style: {\n      fontWeight: 'bold'\n    },\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 215\n    },\n    __self: this\n  }, \"Password\"), React.createElement(\"input\", {\n    type: \"password\",\n    name: \"password\",\n    value: state.password,\n    onChange: handleChange,\n    placeholder: \"Password\",\n    className: \"form-control\",\n    required: true,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 216\n    },\n    __self: this\n  }))), React.createElement(\"div\", {\n    className: \"row mt-3\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 220\n    },\n    __self: this\n  }, React.createElement(\"div\", {\n    className: \"col\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 221\n    },\n    __self: this\n  }, React.createElement(\"label\", {\n    style: {\n      fontWeight: 'bold'\n    },\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 222\n    },\n    __self: this\n  }, \"Email\"), React.createElement(\"input\", {\n    type: \"email\",\n    name: \"email\",\n    value: state.email,\n    onChange: handleChange,\n    placeholder: \"email\",\n    className: \"form-control\",\n    required: true,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 223\n    },\n    __self: this\n  }))), React.createElement(\"div\", {\n    className: \"row mt-3\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 226\n    },\n    __self: this\n  }, React.createElement(\"div\", {\n    className: \"col\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 227\n    },\n    __self: this\n  }, React.createElement(\"label\", {\n    style: {\n      fontWeight: 'bold'\n    },\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 228\n    },\n    __self: this\n  }, \"Amin Type\"), React.createElement(\"select\", {\n    onChange: adminUserType,\n    className: \"form-control\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 229\n    },\n    __self: this\n  }, React.createElement(\"option\", {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 230\n    },\n    __self: this\n  }, \"Select Admin Type\"), React.createElement(\"option\", {\n    value: \"Admin\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 231\n    },\n    __self: this\n  }, \"Admin\"), React.createElement(\"option\", {\n    value: \"Tutor\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 232\n    },\n    __self: this\n  }, \"Tutor\")))), React.createElement(\"div\", {\n    className: \"row mt-3\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 238\n    },\n    __self: this\n  }, React.createElement(\"div\", {\n    className: \"col\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 239\n    },\n    __self: this\n  }, React.createElement(\"label\", {\n    style: {\n      fontWeight: 'bold'\n    },\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 240\n    },\n    __self: this\n  }, \"Country\"), React.createElement(\"input\", {\n    type: \"text\",\n    name: \"country\",\n    value: user.country,\n    disabled: true,\n    className: \"form-control\",\n    required: true,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 241\n    },\n    __self: this\n  }))), adminType === \"Tutor\" ? React.createElement(\"div\", {\n    className: \"row mt-3\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 246\n    },\n    __self: this\n  }, React.createElement(\"div\", {\n    className: \"col\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 247\n    },\n    __self: this\n  }, React.createElement(\"label\", {\n    style: {\n      fontWeight: 'bold'\n    },\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 248\n    },\n    __self: this\n  }, \"Level\"), React.createElement(\"select\", {\n    onChange: tutorLevel,\n    className: \"form-control\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 249\n    },\n    __self: this\n  }, React.createElement(\"option\", {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 250\n    },\n    __self: this\n  }, \"Select Tutor Level\"), React.createElement(\"option\", {\n    value: \"Junior\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 251\n    },\n    __self: this\n  }, \"Basic (Primary / Junior Sec.)\"), React.createElement(\"option\", {\n    value: \"Senior\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 252\n    },\n    __self: this\n  }, \"Post Basic ( Senior Sec.)\")))) : adminType === \"Admin\" ? React.createElement(\"div\", {\n    className: \"row mt-3\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 257\n    },\n    __self: this\n  }, React.createElement(\"div\", {\n    className: \"col\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 258\n    },\n    __self: this\n  }, React.createElement(FormControl, {\n    component: \"fieldset\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 259\n    },\n    __self: this\n  }, React.createElement(FormLabel, {\n    component: \"legend\",\n    style: {\n      fontWeight: 'bold'\n    },\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 260\n    },\n    __self: this\n  }, \"Assign Privileges\"), Privileges.map(pri => {\n    return React.createElement(React.Fragment, null, React.createElement(FormGroup, {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 264\n      },\n      __self: this\n    }, React.createElement(FormControlLabel, {\n      control: React.createElement(Checkbox, {\n        checked: privilege.name,\n        onChange: getPrivileges,\n        name: pri.name,\n        value: pri.value,\n        color: \"primary\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 266\n        },\n        __self: this\n      }),\n      label: pri.label,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 265\n      },\n      __self: this\n    })));\n  })))) : \"\", adminTutorLevel === \"Senior\" ? React.createElement(\"div\", {\n    className: \"row mt-3\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 281\n    },\n    __self: this\n  }, React.createElement(\"div\", {\n    className: \"col\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 282\n    },\n    __self: this\n  }, React.createElement(FormControl, {\n    component: \"fieldset\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 283\n    },\n    __self: this\n  }, React.createElement(FormLabel, {\n    component: \"legend\",\n    style: {\n      fontWeight: 'bold'\n    },\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 284\n    },\n    __self: this\n  }, \"Assign Tutor Privileges\"), SeniorPrivileges.map(tp => {\n    return React.createElement(React.Fragment, null, React.createElement(FormGroup, {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 289\n      },\n      __self: this\n    }, React.createElement(FormControlLabel, {\n      control: React.createElement(Checkbox, {\n        checked: seniorTutorPrivilege.name,\n        onChange: getTutorPrivileges,\n        name: tp.name,\n        value: tp.value,\n        color: \"primary\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 291\n        },\n        __self: this\n      }),\n      label: tp.label,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 290\n      },\n      __self: this\n    })));\n  })))) : adminTutorLevel === \"Junior\" ? React.createElement(\"div\", {\n    className: \"row mt-3\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 309\n    },\n    __self: this\n  }, React.createElement(\"div\", {\n    className: \"col\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 310\n    },\n    __self: this\n  }, React.createElement(FormControl, {\n    component: \"fieldset\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 311\n    },\n    __self: this\n  }, React.createElement(FormLabel, {\n    component: \"legend\",\n    style: {\n      fontWeight: 'bold'\n    },\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 312\n    },\n    __self: this\n  }, \"Assign Tutor Privileges\"), JuniorPrivileges.map(tp => {\n    return React.createElement(React.Fragment, null, React.createElement(FormGroup, {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 317\n      },\n      __self: this\n    }, React.createElement(FormControlLabel, {\n      control: React.createElement(Checkbox, {\n        checked: juniorTutorPrivilege.name,\n        onChange: getJuniorTutorPrivileges,\n        name: tp.name,\n        value: tp.value,\n        color: \"primary\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 319\n        },\n        __self: this\n      }),\n      label: tp.label,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 318\n      },\n      __self: this\n    })));\n  })))) : \"\", React.createElement(\"div\", {\n    className: \"row mt-3\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 337\n    },\n    __self: this\n  }, React.createElement(\"div\", {\n    className: \"col\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 338\n    },\n    __self: this\n  }, React.createElement(\"button\", {\n    className: \"btn border-0\",\n    style: {\n      background: '#21A5E7',\n      color: 'white',\n      float: 'right'\n    },\n    onClick: create,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 339\n    },\n    __self: this\n  }, spinner ? React.createElement(Spinner, {\n    as: \"span\",\n    animation: \"grow\",\n    size: \"sm\",\n    role: \"status\",\n    \"aria-hidden\": \"true\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 344\n    },\n    __self: this\n  }) : \"Create\")))))))));\n};\n\nexport default CreateAdmin;","map":{"version":3,"sources":["/Users/mac/Desktop/projekte/esgrown/src/components/admin/dashboards/country-admin/components/create-admin.js"],"names":["React","useState","useEffect","axios","Card","CardContent","FormLabel","FormControl","FormGroup","FormControlLabel","FormHelperText","Checkbox","Spinner","Col","Privileges","SeniorPrivileges","JuniorPrivileges","CreateAdmin","spinner","setSpinner","user","setUser","adminTutorLevel","setAdminTutorLevel","mathematics","physics","chemistry","biology","geography","economics","accounting","history","generalKnowledge","seniorTutorPrivilege","setSeniorTutorPrivilege","socialStudies","integratedScience","businessStudies","juniorTutorPrivilege","setJuniorTutorPrivilege","adminType","setAdminType","name","email","username","password","country","usertype","state","setState","EAS","EFA","LM","RM","LMExercise","RMExercise","AllServices","AllExercises","privilege","setPrivilege","JSON","parse","sessionStorage","getItem","getPrivileges","event","target","checked","handleChange","e","value","adminUserType","tutorLevel","getTutorPrivileges","getJuniorTutorPrivileges","checkUsername","u","post","then","res","data","length","alert","catch","err","console","log","create","assignedPrivileges","Object","keys","filter","pri","assignedSeniorTutorPrivileges","tutor","assignedJuniorTutorPrivileges","privileges","role","tutor_level","span","offset","background","fontWeight","map","label","tp","color","float"],"mappings":"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","sourcesContent":["import React, { useState, useEffect } from 'react';\nimport axios from 'axios';\nimport { Card, CardContent, FormLabel, FormControl, FormGroup, FormControlLabel, FormHelperText, Checkbox } from '@material-ui/core';\nimport { Spinner, Col } from 'react-bootstrap';\nimport Privileges from './privileges';\nimport SeniorPrivileges from './senior';\nimport JuniorPrivileges from './junior';\n\n\nconst CreateAdmin = () => {\n\n\n\n    const [spinner, setSpinner] = useState(false);\n    const [user, setUser] = useState('');\n    const [adminTutorLevel, setAdminTutorLevel] = useState();\n    const [seniorTutorPrivilege, setSeniorTutorPrivilege] = useState({\n        mathematics: false,\n        physics: false,\n        chemistry: false,\n        biology: false,\n        geography: false,\n        economics: false,\n        accounting: false,\n        history: false,\n        generalKnowledge: false\n    });\n    const [juniorTutorPrivilege, setJuniorTutorPrivilege] = useState({\n            mathematics: false,\n            socialStudies: false,\n            integratedScience: false,\n            businessStudies: false,\n            generalKnowledge: false,\n            history: false\n    });\n    const [adminType, setAdminType] = useState('');\n\n    const [state, setState] = useState(\n        {\n            name: '',\n            email: '',\n            username: '',\n            password: '',\n            country: '',\n            usertype: ''\n        }\n\n    );\n\n    const [privilege, setPrivilege] = useState({\n        EAS: false,\n        EFA: false,\n        LM: false,\n        RM: false,\n        LMExercise: false,\n        RMExercise: false,\n        AllServices: false,\n        AllExercises: false\n    });\n\n    useEffect(() => {\n        const user = JSON.parse(sessionStorage.getItem(\"key\"));\n        setUser(user)\n    }, []);\n\n    //set privileges check box state\n    const getPrivileges = event => {\n        setPrivilege({ ...privilege, [event.target.name]: event.target.checked });\n    };\n\n    //handle other form state\n    const handleChange = (e) => {\n        const name = e.target.name;\n        const value = e.target.value;\n\n        setState({\n            ...state,\n            [name]: value\n        })\n    }\n\n    //set admin type to determine privileges to show\n    const adminUserType = e => {\n\n        setAdminType(e.target.value);\n\n    }\n    const tutorLevel = e => {\n        setAdminTutorLevel(e.target.value)\n\n    }\n\n    //tutor senior privileges checkbox state\n    const getTutorPrivileges = event => {\n        setSeniorTutorPrivilege({ ...seniorTutorPrivilege, [event.target.name]: event.target.checked });\n    };\n    // tutor junior privileges checkbox state\n    const getJuniorTutorPrivileges = event => {\n        setJuniorTutorPrivilege({ ...juniorTutorPrivilege, [event.target.name]: event.target.checked });\n    };\n\n    //check username to prevent duplicates\n    const checkUsername = (e) => {\n        const u = e.target.value;\n\n        axios.post(`http://localhost:5000/admin/check/username/${u}`)\n            .then(res => {\n                if (res.data.length > 0) {\n                    alert(`username ${u} has been taken`)\n                }\n            })\n            .catch(err => console.log(err))\n    }\n\n    //send data to server\n    const create = () => {\n        setSpinner(true);\n\n        const assignedPrivileges = Object.keys(privilege).filter(pri => {\n            return privilege[pri] === true;\n        })\n        const assignedSeniorTutorPrivileges = Object.keys(seniorTutorPrivilege).filter(tutor => {\n            return seniorTutorPrivilege[tutor] === true;\n        });\n\n        const assignedJuniorTutorPrivileges = Object.keys(juniorTutorPrivilege).filter(tutor => {\n            return juniorTutorPrivilege[tutor] === true;\n        });\n        \n        let privileges;\n\n        if (adminType === \"Admin\") {\n\n            privileges = assignedPrivileges\n\n        } else if (adminType === \"Tutor\" && adminTutorLevel === \"Senior\") {\n\n            privileges = assignedSeniorTutorPrivileges;\n\n        } else if (adminType === \"Tutor\" && adminTutorLevel === \"Junior\") {\n\n            privileges = assignedJuniorTutorPrivileges;\n        }\n\n\n        const data = {\n            name: state.name,\n            email: state.email,\n            username: state.username,\n            password: state.password,\n            country: user.country,\n            role: adminType === \"Tutor\" ? \"Tutor\" : \"Admin\",\n            tutor_level: adminTutorLevel ? adminTutorLevel : null,\n            privilege: privileges\n\n        }\n\n        console.log(data);\n\n        axios.post(`http://localhost:5000/admin/add`, data)\n            .then(res => {\n                console.log(res.data);\n                if (res.data) {\n                    alert('Admin created successfully')\n                    setState({\n                        name: '',\n                        email: '',\n                        username: '',\n                        password: '',\n                    })\n                    setSpinner(false)\n                }\n            })\n            .catch(err => {\n                console.log(err);\n                setSpinner(false)\n\n            })\n\n        setPrivilege({\n            EAS: false,\n            EFA: false,\n            LM: false,\n            RM: false,\n            LMExercise: false,\n            RMExercise: false,\n            AllServices: false,\n            AllExercises: false\n        })\n    }\n\n    return (\n        <>\n            <div className=\"container mt-5\">\n                <div className=\"row\">\n                    <Col md={{ span: 12, offset: 3 }}>\n                        <Card className=\"col col-sm-6 col-md-offset-3\" style={{ background: '#E1E1E1' }}>\n                            <CardContent>\n                                <div className=\"row mt-3\">\n                                    <div className=\"col\">\n                                        <label style={{ fontWeight: 'bold' }}>Full Name</label>\n                                        <input type=\"text\" name=\"name\" value={state.name} onChange={handleChange} placeholder=\"Admin Full Name\" className=\"form-control\" required />\n                                    </div>\n                                </div>\n\n                                <div className=\"row mt-3\">\n                                    <div className=\"col\">\n                                        <label style={{ fontWeight: 'bold' }}>Username</label>\n                                        <input type=\"text\" name=\"username\" value={state.username} onChange={handleChange} onBlur={checkUsername} placeholder=\"userName\" className=\"form-control\" required />\n                                    </div>\n                                </div>\n\n                                <div className=\"row mt-3\">\n                                    <div className=\"col\">\n                                        <label style={{ fontWeight: 'bold' }}>Password</label>\n                                        <input type=\"password\" name=\"password\" value={state.password} onChange={handleChange} placeholder=\"Password\" className=\"form-control\" required />\n                                    </div>\n                                </div>\n\n                                <div className=\"row mt-3\">\n                                    <div className=\"col\">\n                                        <label style={{ fontWeight: 'bold' }}>Email</label>\n                                        <input type=\"email\" name=\"email\" value={state.email} onChange={handleChange} placeholder=\"email\" className=\"form-control\" required />\n                                    </div>\n                                </div>\n                                <div className=\"row mt-3\">\n                                    <div className=\"col\">\n                                        <label style={{ fontWeight: 'bold' }}>Amin Type</label>\n                                        <select onChange={adminUserType} className=\"form-control\">\n                                            <option >Select Admin Type</option>\n                                            <option value=\"Admin\">Admin</option>\n                                            <option value=\"Tutor\">Tutor</option>\n                                        </select>\n                                    </div>\n                                </div>\n\n\n                                <div className=\"row mt-3\">\n                                    <div className=\"col\">\n                                        <label style={{ fontWeight: 'bold' }}>Country</label>\n                                        <input type=\"text\" name=\"country\" value={user.country} disabled className=\"form-control\" required />\n                                    </div>\n                                </div>\n\n                                {adminType === \"Tutor\" ?\n                                    <div className=\"row mt-3\">\n                                        <div className=\"col\">\n                                            <label style={{ fontWeight: 'bold' }}>Level</label>\n                                            <select onChange={tutorLevel} className=\"form-control\">\n                                                <option>Select Tutor Level</option>\n                                                <option value=\"Junior\">Basic (Primary / Junior Sec.)</option>\n                                                <option value=\"Senior\">Post Basic ( Senior Sec.)</option>\n                                            </select>\n                                        </div>\n                                    </div>\n                                    : adminType === \"Admin\" ?\n                                        <div className=\"row mt-3\">\n                                            <div className=\"col\">\n                                                <FormControl component=\"fieldset\">\n                                                    <FormLabel component=\"legend\" style={{ fontWeight: 'bold' }}>Assign Privileges</FormLabel>\n                                                    {Privileges.map(pri => {\n                                                        return (\n                                                            <>\n                                                                <FormGroup>\n                                                                    <FormControlLabel\n                                                                        control={<Checkbox checked={privilege.name} onChange={getPrivileges} name={pri.name} value={pri.value} color=\"primary\" />}\n                                                                        label={pri.label}\n                                                                    />\n                                                                </FormGroup>\n                                                            </>\n                                                        );\n                                                    })}\n\n                                                </FormControl>\n                                            </div>\n                                        </div>\n                                        : \"\"\n                                }\n                                {adminTutorLevel === \"Senior\"\n                                    ?\n                                    <div className=\"row mt-3\">\n                                        <div className=\"col\">\n                                            <FormControl component=\"fieldset\">\n                                                <FormLabel component=\"legend\" style={{ fontWeight: 'bold' }}>Assign Tutor Privileges</FormLabel>\n                                                {\n                                                    SeniorPrivileges.map(tp => {\n                                                        return (\n                                                            <>\n                                                                <FormGroup>\n                                                                    <FormControlLabel\n                                                                        control={<Checkbox checked={seniorTutorPrivilege.name} onChange={getTutorPrivileges} name={tp.name} value={tp.value} color=\"primary\" />}\n                                                                        label={tp.label}\n                                                                    />\n                                                                </FormGroup>\n                                                            </>\n                                                        );\n                                                    })\n\n                                                }\n\n                                            </FormControl>\n\n                                        </div>\n\n                                    </div>\n                                    :\n                                    adminTutorLevel === \"Junior\"\n                                        ?\n                                        <div className=\"row mt-3\">\n                                            <div className=\"col\">\n                                                <FormControl component=\"fieldset\">\n                                                    <FormLabel component=\"legend\" style={{ fontWeight: 'bold' }}>Assign Tutor Privileges</FormLabel>\n                                                    {\n                                                        JuniorPrivileges.map(tp => {\n                                                            return (\n                                                                <>\n                                                                    <FormGroup>\n                                                                        <FormControlLabel\n                                                                            control={<Checkbox checked={juniorTutorPrivilege.name} onChange={getJuniorTutorPrivileges} name={tp.name} value={tp.value} color=\"primary\" />}\n                                                                            label={tp.label}\n                                                                        />\n                                                                    </FormGroup>\n                                                                </>\n                                                            );\n                                                        })\n\n                                                    }\n\n                                                </FormControl>\n\n                                            </div>\n\n                                        </div>\n                                        :\n                                        \"\"\n                                }\n                                <div className=\"row mt-3\">\n                                    <div className=\"col\">\n                                        <button\n                                            className=\"btn border-0\"\n                                            style={{ background: '#21A5E7', color: 'white', float: 'right' }}\n                                            onClick={create}\n                                        >\n                                            {spinner ? <Spinner as=\"span\" animation=\"grow\" size=\"sm\" role=\"status\" aria-hidden=\"true\" /> : \"Create\"}\n                                        </button>\n                                    </div>\n                                </div>\n                            </CardContent>\n                        </Card>\n                    </Col>\n                </div>\n            </div>\n        </>\n    );\n\n}\nexport default CreateAdmin;"]},"metadata":{},"sourceType":"module"}