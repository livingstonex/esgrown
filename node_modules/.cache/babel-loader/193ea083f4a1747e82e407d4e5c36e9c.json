{"ast":null,"code":"import _classCallCheck from\"/Users/mac/Desktop/esgrown/node_modules/@babel/runtime/helpers/esm/classCallCheck\";import _createClass from\"/Users/mac/Desktop/esgrown/node_modules/@babel/runtime/helpers/esm/createClass\";import _possibleConstructorReturn from\"/Users/mac/Desktop/esgrown/node_modules/@babel/runtime/helpers/esm/possibleConstructorReturn\";import _getPrototypeOf from\"/Users/mac/Desktop/esgrown/node_modules/@babel/runtime/helpers/esm/getPrototypeOf\";import _assertThisInitialized from\"/Users/mac/Desktop/esgrown/node_modules/@babel/runtime/helpers/esm/assertThisInitialized\";import _inherits from\"/Users/mac/Desktop/esgrown/node_modules/@babel/runtime/helpers/esm/inherits\";import React,{Component}from\"react\";import{Link}from\"react-router-dom\";import axios from\"axios\";import{AuthContext}from\"../AuthContext\";import NavBar from'./navbar';import toast from'../util/toast';import'../img/bg1.jpg';import'../App.css';import Card from'./reusable/home_card/card';import\"slick-carousel/slick/slick.css\";import\"slick-carousel/slick/slick-theme.css\";import Slider from\"react-slick\";import{Container,Col,Row,Form,Button,Jumbotron,Popover,OverlayTrigger}from\"react-bootstrap\";var Home=/*#__PURE__*/function(_Component){_inherits(Home,_Component);function Home(props){var _this;_classCallCheck(this,Home);_this=_possibleConstructorReturn(this,_getPrototypeOf(Home).call(this,props));_this.onChangeEmail=_this.onChangeEmail.bind(_assertThisInitialized(_this));_this.onChangePassword=_this.onChangePassword.bind(_assertThisInitialized(_this));_this.onSubmit=_this.onSubmit.bind(_assertThisInitialized(_this));_this.state={email:'',password:'',user:[{name:\"\",islogged:false,email:\"\"}],loading:false};return _this;}_createClass(Home,[{key:\"onChangeEmail\",value:function onChangeEmail(e){this.setState({email:e.target.value});}},{key:\"setLoading\",value:function setLoading(){this.setState({loading:true});}},{key:\"onChangePassword\",value:function onChangePassword(e){this.setState({password:e.target.value});}},{key:\"onSubmit\",value:function onSubmit(e){// e.preventDefault();\n// const User = {\n//     email: this.state.email,\n//     password: this.state.password\n// }\n// //Make a post to the api route for login\n// axios.post('http://localhost:5000/individuals/login_email', User)\n//         .then(res => {\n//             //console.log(res.data[0].password);\n//             if(res.data.length > 0){\n//                 console.log(res.data[0]);\n//                 console.log(User.password);\n//                 const user_data = {\n//                     email: res.data[0].email,\n//                     hash_password:res.data[0].password,\n//                     normal_password: User.password\n//                 }\n//                 axios.post('http://localhost:5000/individuals/login', user_data)\n//                         .then(res => {\n//                             console.log(res.data);\n//                             if(res.data == 1){\n//                                 alert(\"Login Successfull\");\n//                                 //UPDATE COMPONENT USER STATE HERE AND NAVIGATE TO THE DASHBOARD\n//                                 // const auth_data = {\n//                                 //     name: res.data[0].name,\n//                                 //     isLogged: true,\n//                                 //     email: res.data[0].email\n//                                 // }\n//                                 this.state.user[0].name = \"goldiee\"\n//                             }else{\n//                                 alert(\"Password wrong, please try again\");\n//                             }\n//                         })\n//                         .catch(err => console.log(\"Error here is: \"+err));\n//             }else{\n//                 alert(\"Your email address is not correct\");\n//             }\n//         })\n//         .catch(error => {console.log(\"Error is: \" + error)});\n// this.setState({\n//     email:'',\n//     password:''\n// });\n}},{key:\"notify\",value:function notify(message,type){return toast(message,type);}},{key:\"render\",value:function render(){var _this2=this;//Styles\nvar styles={'background-color':'grey','opacity':'0.8','font-family':'quicksand','color':'white'};var formStyle={'border':'1px solid','border-radius':'5px','background-color':'transparent','opacity':'0.8','color':'white'};var settings={dots:false,infinite:true,speed:500,slidesToShow:3,slidesToScroll:1,autoplay:true,centerMode:true};// Popover's rendering\nvar popover=React.createElement(Popover,{id:\"popover-basic\"},React.createElement(Popover.Title,{as:\"h3\",style:{'font-family':'gothic'}},\"Which account type do want to create?\"),React.createElement(Popover.Content,null,React.createElement(Row,null,React.createElement(Col,null,React.createElement(Link,{to:\"/signup_individual\"},React.createElement(Button,{variant:\"info\",className:\"btn-sm\"},\"Individual\"))),React.createElement(Col,null,React.createElement(Link,{to:\"/signup_corporate\"},React.createElement(Button,{variant:\"info\",className:\"btn-sm\"},\"Corporate\"))))));return React.createElement(AuthContext.Consumer,null,function(context){return React.createElement(\"div\",null,React.createElement(\"div\",{className:\"bg\"},React.createElement(NavBar,null),React.createElement(Container,null,React.createElement(\"br\",null),React.createElement(Row,null,React.createElement(\"br\",null),React.createElement(Col,{className:\"col-xl-5 col-lg-5 col-md-6 col-sm-12 col-12\"},React.createElement(Container,null,React.createElement(Jumbotron,{className:\"jumbo mt-2\",style:styles},React.createElement(\"p\",{style:{fontFamily:'quicksand',fontSize:'15px',textAlign:'justify'}},\"Align education knowledge and skills needs for success; Access Education that equips you for life success;\",React.createElement(\"br\",null),React.createElement(\"br\",null),\"Access industry that needs knowledge and skills you have gained;\",React.createElement(\"br\",null),React.createElement(\"br\",null),\"Build efficient workforce that meet your business knowledge and skill needs;\",React.createElement(\"br\",null),React.createElement(\"br\",null),\"Management staff performance and lots more with\"),React.createElement(\"h3\",null,\"ESGROWN\")))),React.createElement(Col,{className:\"col-xl-3 col-lg-3 col-md-1 col-sm-0 col-0\"}),React.createElement(Col,{className:\"col-xl-4 col-lg-4 col-md-5 col-sm-12 col-12\"},React.createElement(Container,{style:formStyle},React.createElement(\"br\",null),React.createElement(\"label\",{style:{'fontWeight':'bold'}},\"SignIn to your Account\"),React.createElement(Form,null,React.createElement(Form.Group,{controlId:\"formBasicEmail\"},React.createElement(Form.Label,null,\"Email address:\"),React.createElement(Form.Control,{type:\"email\",required:true,placeholder:\"Enter email\",onChange:_this2.onChangeEmail,value:_this2.state.email}),\"We'll never share your email with anyone else.\",React.createElement(Form.Text,{className:\"text-muted\",style:{color:'white'}})),React.createElement(Form.Group,{controlId:\"formBasicPassword\"},React.createElement(Form.Label,null,\"Password:\"),React.createElement(Form.Control,{type:\"password\",required:true,placeholder:\"Password\",onChange:_this2.onChangePassword,value:_this2.state.password})),React.createElement(Button,{type:\"submit\",className:\"btn_submit mb-2\",onClick:function onClick(e){e.preventDefault();var User={email:_this2.state.email,password:_this2.state.password};// ==========================================\n//Make a post to the api route for login\naxios.post('http://localhost:5000/individuals/login',User).then(function(res){if(res.data.length>0){console.log(\"data found\");//UPDATE COMPONENT USER STATE HERE AND NAVIGATE TO THE DASHBOARD                                              \ncontext.setUserAuthData(true);if(res.data[0].status=='individual'){// Register the individula user in session storage\nvar GlobalUser={isLogged:true,id:res.data[0]._id,email:res.data[0].email,name:res.data[0].fullname,phone:res.data[0].phone,gender:res.data[0].gender,dos:res.data[0].dob,country:res.data[0].country,state:res.data[0].state,status:res.data[0].status,lastLogin:res.data[0].lastLogin,org_type:res.data[0].org_type,sub_status_eas:res.data[0].sub_status_eas,sub_status_efa:res.data[0].sub_status_efa,sub_status_lm:res.data[0].sub_status_lm,sub_status_rm:res.data[0].sub_status_rm,sub_status_compt_mgt:res.data[0].sub_status_compt_mgt,tic:res.data[0].tic,jobs:res.data[0].jobs};// Save Individual data to session Storage\nsessionStorage.setItem(\"key\",JSON.stringify(GlobalUser));console.log(JSON.parse(sessionStorage.getItem(\"key\")));_this2.setState({email:'',password:''});window.location=\"/frontier\";}else{// Register the Corporate User in Session storage\nvar Global_CorpUser={isLogged:true,id:res.data[0]._id,name:res.data[0].org_name,email:res.data[0].email,phone:res.data[0].phone,doi:res.data[0].doi,country:res.data[0].country,state:res.data[0].state,status:res.data[0].status,org_type:res.data[0].org_type,sub_status_rm:res.data[0].sub_status_rm};// Save Individual data to session Storage\nsessionStorage.setItem(\"key\",JSON.stringify(Global_CorpUser));console.log(JSON.parse(sessionStorage.getItem(\"key\")));_this2.setState({email:'',password:''});window.location=\"/frontier\";}}else{console.log(\"data not found\");_this2.notify(\"Email or Password is wrong\",\"error\");}}).catch(function(err){return console.log(\"Error here is: \"+err);});// =======================\n}},\"Login\",_this2.loading?React.createElement(\"i\",{className:\"fa fa-spinner fa-spin ml-2\"}):\"\"),React.createElement(OverlayTrigger,{trigger:\"click\",placement:\"left\",overlay:popover},React.createElement(Button,{className:\"btn_submit mb-4\"},\"Create an Esgrown Account\")),React.createElement(\"br\",null),React.createElement(\"label\",null,\"Forgot password? \",React.createElement(Link,{to:\"/forgotPassword\"},\"Reset\")))))))),React.createElement(Container,null,React.createElement(Slider,settings,React.createElement(\"div\",null,React.createElement(Card,{imageUrl:\"https://www.unhcr.org/thumb1/5a1e75d74.jpg\"})),React.createElement(\"div\",null,React.createElement(Card,{imageUrl:\"https://www.unhcr.org/thumb1/5a1e75d74.jpg\"})),React.createElement(\"div\",null,React.createElement(Card,{imageUrl:\"https://www.unhcr.org/thumb1/5a1e75d74.jpg\"})),React.createElement(\"div\",null,React.createElement(Card,{imageUrl:\"https://www.unhcr.org/thumb1/5a1e75d74.jpg\"})),React.createElement(\"div\",null,React.createElement(Card,{imageUrl:\"https://www.unhcr.org/thumb1/5a1e75d74.jpg\"})),React.createElement(\"div\",null,React.createElement(Card,{imageUrl:\"https://www.unhcr.org/thumb1/5a1e75d74.jpg\"})))));});}}]);return Home;}(Component);export{Home as default};","map":{"version":3,"sources":["/Users/mac/Desktop/esgrown/src/components/home.js"],"names":["React","Component","Link","axios","AuthContext","NavBar","toast","Card","Slider","Container","Col","Row","Form","Button","Jumbotron","Popover","OverlayTrigger","Home","props","onChangeEmail","bind","onChangePassword","onSubmit","state","email","password","user","name","islogged","loading","e","setState","target","value","message","type","styles","formStyle","settings","dots","infinite","speed","slidesToShow","slidesToScroll","autoplay","centerMode","popover","context","fontFamily","fontSize","textAlign","color","preventDefault","User","post","then","res","data","length","console","log","setUserAuthData","status","GlobalUser","isLogged","id","_id","fullname","phone","gender","dos","dob","country","lastLogin","org_type","sub_status_eas","sub_status_efa","sub_status_lm","sub_status_rm","sub_status_compt_mgt","tic","jobs","sessionStorage","setItem","JSON","stringify","parse","getItem","window","location","Global_CorpUser","org_name","doi","notify","catch","err"],"mappings":"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","sourcesContent":["import React, {Component} from \"react\";\nimport {Link} from \"react-router-dom\";\nimport axios from \"axios\";\nimport {AuthContext} from \"../AuthContext\";\nimport NavBar from './navbar';\nimport toast from '../util/toast';\nimport '../img/bg1.jpg';\nimport '../App.css';\nimport Card from './reusable/home_card/card';\nimport \"slick-carousel/slick/slick.css\";\nimport \"slick-carousel/slick/slick-theme.css\";\nimport Slider from \"react-slick\";\n\nimport {Container, Col, Row, Form, Button, Jumbotron, Popover, OverlayTrigger} from \"react-bootstrap\";\n\n\nexport default class Home extends Component{\n    \n    constructor(props){\n        super(props);\n\n        this.onChangeEmail = this.onChangeEmail.bind(this);\n        this.onChangePassword = this.onChangePassword.bind(this);\n        this.onSubmit = this.onSubmit.bind(this);\n\n        this.state = {\n            email: '',\n            password: '',\n            user:[{name:\"\", islogged:false, email:\"\"}],\n            loading: false\n        }\n    }\n\n    onChangeEmail(e){\n        this.setState({\n            email: e.target.value\n        });\n    }\n\n    setLoading(){\n        this.setState({\n            loading: true\n        });\n    }\n\n    onChangePassword(e){\n        this.setState({\n            password: e.target.value\n        });\n    }\n\n    onSubmit(e){\n        // e.preventDefault();\n        // const User = {\n        //     email: this.state.email,\n        //     password: this.state.password\n        // }\n\n        \n        // //Make a post to the api route for login\n        // axios.post('http://localhost:5000/individuals/login_email', User)\n        //         .then(res => {\n        //             //console.log(res.data[0].password);\n        //             if(res.data.length > 0){\n        //                 console.log(res.data[0]);\n        //                 console.log(User.password);\n        //                 const user_data = {\n        //                     email: res.data[0].email,\n        //                     hash_password:res.data[0].password,\n        //                     normal_password: User.password\n        //                 }\n        //                 axios.post('http://localhost:5000/individuals/login', user_data)\n        //                         .then(res => {\n        //                             console.log(res.data);\n        //                             if(res.data == 1){\n        //                                 alert(\"Login Successfull\");\n        //                                 //UPDATE COMPONENT USER STATE HERE AND NAVIGATE TO THE DASHBOARD\n        //                                 // const auth_data = {\n        //                                 //     name: res.data[0].name,\n        //                                 //     isLogged: true,\n        //                                 //     email: res.data[0].email\n        //                                 // }\n        //                                 this.state.user[0].name = \"goldiee\"\n        //                             }else{\n        //                                 alert(\"Password wrong, please try again\");\n        //                             }\n        //                         })\n        //                         .catch(err => console.log(\"Error here is: \"+err));\n        //             }else{\n        //                 alert(\"Your email address is not correct\");\n        //             }\n        //         })\n        //         .catch(error => {console.log(\"Error is: \" + error)});\n        // this.setState({\n        //     email:'',\n        //     password:''\n        // });\n    }\n\n    notify(message, type){ \n        return toast(message, type);\n    } \n    render(){\n         //Styles\n        const styles = {\n            'background-color':'grey',\n            'opacity':'0.8',\n            'font-family':'quicksand',\n            'color':'white',\n        };\n        const formStyle = {\n            'border':'1px solid',\n            'border-radius':'5px',\n            'background-color':'transparent',\n            'opacity':'0.8',\n            'color':'white',\n        };\n        var settings = {\n            dots: false,\n            infinite: true,\n            speed: 500,\n            slidesToShow: 3,\n            slidesToScroll: 1,\n            autoplay:true,\n            centerMode:true,\n          };\n\n        // Popover's rendering\n        const popover = (\n            <Popover id=\"popover-basic\">\n              <Popover.Title as=\"h3\" style={{'font-family':'gothic'}}>Which account type do want to create?</Popover.Title>\n              <Popover.Content>\n                <Row>\n                    <Col>\n                        <Link to=\"/signup_individual\">\n                            <Button variant=\"info\" className=\"btn-sm\">Individual</Button>\n                        </Link>\n                    </Col>\n                    <Col>\n                        <Link to=\"/signup_corporate\">\n                            <Button variant=\"info\" className=\"btn-sm\">Corporate</Button>\n                        </Link>\n                    </Col>\n                </Row>\n              </Popover.Content>\n            </Popover>\n          );\n\n         \n        return(\n                <AuthContext.Consumer>\n                    {\n                        (context) => (\n                        <div>\n                            <div className=\"bg\">\n                                <NavBar/>\n                                {/* <div className=\"bg\" style={{paddingRight:'50px', paddingLeft:'50px'}}> */}\n                                <Container >\n                                    <br/>\n                                    <Row>\n                                        <br/>\n                                        <Col className=\"col-xl-5 col-lg-5 col-md-6 col-sm-12 col-12\" >\n                                            <Container>\n                                                <Jumbotron className=\"jumbo mt-2\" style={styles}>\n                                                    <p style={{fontFamily:'quicksand', fontSize:'15px', textAlign:'justify'}}>\n                                                        Align education knowledge and skills needs for success; Access Education that equips you for life success; \n                                                        <br/><br/>\n                                                        Access industry that needs knowledge and skills you have gained;\n                                                        <br/><br/>\n                                                        Build efficient workforce that meet your business knowledge and skill needs;\n                                                        <br/><br/>\n                                                        Management staff performance and lots more with\n                                                    </p>\n                                                    <h3>ESGROWN</h3>\n                                                </Jumbotron>\n                                            </Container>\n                                        </Col>\n                                        <Col className=\"col-xl-3 col-lg-3 col-md-1 col-sm-0 col-0\"></Col>\n                                        <Col className=\"col-xl-4 col-lg-4 col-md-5 col-sm-12 col-12\"  >\n                                            <Container style={formStyle} >\n                                                <br/>\n                                                <label style={{'fontWeight':'bold'}}>SignIn to your Account</label>\n                                                <Form >\n                                                    <Form.Group controlId=\"formBasicEmail\">\n                                                        <Form.Label>Email address:</Form.Label>\n                                                        <Form.Control type=\"email\" required placeholder=\"Enter email\" onChange={this.onChangeEmail} value={this.state.email} />\n                                                            We'll never share your email with anyone else.\n                                                        <Form.Text className=\"text-muted\" style={{color:'white'}}>\n                                                        </Form.Text>\n                                                    </Form.Group>\n                                                    <Form.Group controlId=\"formBasicPassword\">\n                                                        <Form.Label>Password:</Form.Label>\n                                                        <Form.Control type=\"password\" required placeholder=\"Password\" onChange={this.onChangePassword} value={this.state.password} />\n                                                    </Form.Group>\n                                                    {/* variant=\"primary btn-sm\" */}\n                                                        <Button   type=\"submit\" className=\"btn_submit mb-2\" onClick={\n                                                            (e)=>{\n                                                                e.preventDefault();\n                                                                const User = {\n                                                                    email: this.state.email,\n                                                                    password: this.state.password\n                                                                }\n                                                            // ==========================================\n                                                                //Make a post to the api route for login\n                                                                axios.post('http://localhost:5000/individuals/login', User)\n                                                                    .then(res => {\n                                                                    if(res.data.length > 0){\n                                                                        console.log(\"data found\")\n                                                                        //UPDATE COMPONENT USER STATE HERE AND NAVIGATE TO THE DASHBOARD                                              \n                                                                           context.setUserAuthData(true);\n\n                                                                           if(res.data[0].status == 'individual'){\n                                                                            // Register the individula user in session storage\n                                                                            const GlobalUser = {\n                                                                                isLogged: true,\n                                                                                id: res.data[0]._id,\n                                                                                email: res.data[0].email,\n                                                                                name: res.data[0].fullname,  \n                                                                                phone: res.data[0].phone,\n                                                                                gender: res.data[0].gender,\n                                                                                dos: res.data[0].dob,\n                                                                                country: res.data[0].country,\n                                                                                state: res.data[0].state,  \n                                                                                status: res.data[0].status,\n                                                                                lastLogin: res.data[0].lastLogin,\n                                                                                org_type: res.data[0].org_type,\n                                                                                sub_status_eas: res.data[0].sub_status_eas,\n                                                                                sub_status_efa: res.data[0].sub_status_efa,\n                                                                                sub_status_lm: res.data[0].sub_status_lm,\n                                                                                sub_status_rm: res.data[0].sub_status_rm,\n                                                                                sub_status_compt_mgt: res.data[0].sub_status_compt_mgt,\n                                                                                tic: res.data[0].tic,\n                                                                                jobs: res.data[0].jobs\n                                                                                }\n\n                                                                                // Save Individual data to session Storage\n                                                                                sessionStorage.setItem(\"key\", JSON.stringify(GlobalUser));\n                                                                                console.log(JSON.parse(sessionStorage.getItem(\"key\")) );\n                                                                                    this.setState({\n                                                                                        email:'',\n                                                                                        password:''\n                                                                                        });\n                                                                                window.location = \"/frontier\";\n                                                                           }else{\n                                                                            // Register the Corporate User in Session storage\n                                                                            const Global_CorpUser = {\n                                                                                isLogged: true,\n                                                                                id: res.data[0]._id,\n                                                                                name: res.data[0].org_name,\n                                                                                email: res.data[0].email,\n                                                                                phone: res.data[0].phone,\n                                                                                doi: res.data[0].doi,\n                                                                                country: res.data[0].country,\n                                                                                state: res.data[0].state,\n                                                                                status: res.data[0].status,\n                                                                                org_type: res.data[0].org_type,\n                                                                                sub_status_rm:res.data[0].sub_status_rm\n            \n                                                                            }\n                                                                                // Save Individual data to session Storage\n                                                                                sessionStorage.setItem(\"key\", JSON.stringify(Global_CorpUser));\n                                                                                console.log(JSON.parse(sessionStorage.getItem(\"key\")) );\n                                                                                    this.setState({\n                                                                                        email:'',\n                                                                                        password:''\n                                                                                        });\n                                                                                window.location = \"/frontier\";\n                                                                           }\n                                                                           \n\n                                                                            \n                                                                    }else{\n                                                                        console.log(\"data not found\");\n                                                                        this.notify(\"Email or Password is wrong\", \"error\");\n                                                                    }\n                                                                })\n                                                                .catch(err => console.log(\"Error here is: \"+err));\n\n                                                                // =======================\n                                                                }\n                                                                \n                                                            }>\n                                                           Login \n                                                           {this.loading ? <i className=\"fa fa-spinner fa-spin ml-2\"></i> : \"\"}\n                                                        </Button>\n                                                      \n                                                       <OverlayTrigger  trigger=\"click\" placement=\"left\" overlay={popover}>\n                                                        {/* variant=\"primary btn-sm\" */}\n                                                            <Button  className=\"btn_submit mb-4\" >Create an Esgrown Account</Button>\n                                                        </OverlayTrigger>\n                                                        <br/>\n                                                        <label>Forgot password? <Link to=\"/forgotPassword\">Reset</Link></label>\n                                                </Form>\n                                            </Container>\n                                        </Col>\n                                    </Row>\n                                   \n                                    </Container>\n                                </div>\n                                <Container>\n                                    <Slider {...settings}>\n                                            <div>\n                                                <Card imageUrl=\"https://www.unhcr.org/thumb1/5a1e75d74.jpg\"/>\n                                            </div>\n                                            <div>\n                                                <Card imageUrl=\"https://www.unhcr.org/thumb1/5a1e75d74.jpg\"/>\n                                            </div>\n                                            <div>\n                                                <Card imageUrl=\"https://www.unhcr.org/thumb1/5a1e75d74.jpg\"/>\n                                            </div>\n                                            <div>\n                                                <Card imageUrl=\"https://www.unhcr.org/thumb1/5a1e75d74.jpg\"/>\n                                            </div>\n                                            <div>\n                                                <Card imageUrl=\"https://www.unhcr.org/thumb1/5a1e75d74.jpg\"/>\n                                            </div>\n                                            <div>\n                                                <Card imageUrl=\"https://www.unhcr.org/thumb1/5a1e75d74.jpg\"/>\n                                        </div> \n                                    </Slider>\n                              </Container>\n                                \n                                {/* Bottom content */}\n                                {/* <div style={{background:'red'}}>                                \n                                <Slider {...settings} style={{width:'100%',}}>\n                                    <div>\n                                            <Card imageUrl=\"https://www.unhcr.org/thumb1/5a1e75d74.jpg\"/>\n                                        </div>\n                                        <div>\n                                            <Card imageUrl=\"https://www.unhcr.org/thumb1/5a1e75d74.jpg\"/>\n                                        </div>\n                                        <div>\n                                            <Card imageUrl=\"https://www.unhcr.org/thumb1/5a1e75d74.jpg\"/>\n                                        </div>\n                                        <div>\n                                            <Card imageUrl=\"https://www.unhcr.org/thumb1/5a1e75d74.jpg\"/>\n                                        </div>\n                                        <div>\n                                            <Card imageUrl=\"https://www.unhcr.org/thumb1/5a1e75d74.jpg\"/>\n                                        </div>\n                                        <div>\n                                            <Card imageUrl=\"https://www.unhcr.org/thumb1/5a1e75d74.jpg\"/>\n                                    </div> \n                                </Slider>\n                                </div> */}\n                            </div>\n                        )\n                    }\n                </AuthContext.Consumer>\n        );\n    }\n}"]},"metadata":{},"sourceType":"module"}