{"ast":null,"code":"import _slicedToArray from \"/Users/mac/Desktop/projekte/esgrown/node_modules/@babel/runtime/helpers/esm/slicedToArray\";\nvar _jsxFileName = \"/Users/mac/Desktop/projekte/esgrown/src/components/corp_dashboard_components/staff/staff.js\";\nimport React, { useState, useEffect } from 'react';\nimport axios from 'axios';\nimport { Spinner, Dropdown, EditModal } from 'react-bootstrap';\nimport AddCircleIcon from '@material-ui/icons/AddCircle';\nimport SearchBar from '../job/components/search';\nimport AddStaff from './components/add-staff';\nimport StaffDetails from './components/details';\nimport Rating from './components/teacher-rateing';\nimport Edit from './components/edit';\nimport SchoolWeeks from './components/school-weeks';\nimport CompanyStaffRating from './components/staff-rating';\nimport toast from '../../../util/toast';\nimport './styles.css';\nimport DeleteStaff from './components/delete';\n\nconst Staff = ({\n  ex_rankingpage\n}) => {\n  const _useState = useState(),\n        _useState2 = _slicedToArray(_useState, 2),\n        user = _useState2[0],\n        setUser = _useState2[1];\n\n  const _useState3 = useState(false),\n        _useState4 = _slicedToArray(_useState3, 2),\n        show = _useState4[0],\n        setShow = _useState4[1];\n\n  const _useState5 = useState([]),\n        _useState6 = _slicedToArray(_useState5, 2),\n        staff = _useState6[0],\n        setStaff = _useState6[1]; //modals\n\n\n  const _useState7 = useState(false),\n        _useState8 = _slicedToArray(_useState7, 2),\n        showDetails = _useState8[0],\n        setShowDetails = _useState8[1];\n\n  const _useState9 = useState(false),\n        _useState10 = _slicedToArray(_useState9, 2),\n        showrating = _useState10[0],\n        setShowRating = _useState10[1];\n\n  const _useState11 = useState(false),\n        _useState12 = _slicedToArray(_useState11, 2),\n        showEdit = _useState12[0],\n        setShowEdit = _useState12[1];\n\n  const _useState13 = useState(false),\n        _useState14 = _slicedToArray(_useState13, 2),\n        schoolWeeksmodal = _useState14[0],\n        setSchoolWeeksModal = _useState14[1];\n\n  const _useState15 = useState([]),\n        _useState16 = _slicedToArray(_useState15, 2),\n        details = _useState16[0],\n        setDetails = _useState16[1];\n\n  const _useState17 = useState(true),\n        _useState18 = _slicedToArray(_useState17, 2),\n        spinner = _useState18[0],\n        setSpinner = _useState18[1];\n\n  const _useState19 = useState(),\n        _useState20 = _slicedToArray(_useState19, 2),\n        weeks = _useState20[0],\n        setWeeks = _useState20[1];\n\n  const _useState21 = useState([]),\n        _useState22 = _slicedToArray(_useState21, 2),\n        lastDoc = _useState22[0],\n        setLastDoc = _useState22[1];\n\n  const _useState23 = useState(),\n        _useState24 = _slicedToArray(_useState23, 2),\n        target = _useState24[0],\n        setTarget = _useState24[1];\n\n  const _useState25 = useState(false),\n        _useState26 = _slicedToArray(_useState25, 2),\n        showDelete = _useState26[0],\n        setShowDelete = _useState26[1];\n\n  const _useState27 = useState(false),\n        _useState28 = _slicedToArray(_useState27, 2),\n        ratecompany = _useState28[0],\n        setRateCompany = _useState28[1];\n\n  useEffect(() => {\n    const user = JSON.parse(sessionStorage.getItem('key'));\n    setUser(user);\n    axios.get(`http://localhost:5000/individuals/staff/${user.id}`).then(res => {\n      if (res.data.length > 0) {\n        setStaff(res.data);\n      }\n    }).catch(err => console.log(err)); //check if this is the beginning of the term and get the total weeks for the term\n\n    axios.get(`http://localhost:5000/rate/teacher/check/${user.org_name}`).then(res => {\n      setLastDoc(res.data.reverse()[0]);\n    }).catch(err => console.log(err));\n  }, []); //get the new school week and show rating modal\n\n  const getSchoolWeeks = w => {\n    setWeeks(w);\n    setSchoolWeeksModal(false);\n    displayDetails(target);\n  }; //close add modal and reload staff\n\n\n  const closeModal = () => {\n    setShow(false);\n    setShowEdit(false);\n    axios.get(`http://localhost:5000/individuals/staff/${user.id}`).then(res => {\n      if (res.data.length > 0) {\n        setStaff(res.data);\n      }\n    }).catch(err => console.log(err));\n  }; //get currently clicked staff\n\n\n  const getDetails = e => {\n    setTarget(e.currentTarget);\n    const current = e.target.getAttribute('data-current'); //show company rating modal\n\n    if (current === 'rate' && user.org_type === 'company') {\n      const id = e.target.getAttribute('data-id');\n      const staffDetails = staff.filter(st => {\n        return st._id === id;\n      });\n      setDetails(staffDetails[0]);\n      setRateCompany(true);\n    } else {\n      if (current === 'rate') {\n        if (lastDoc === undefined) {\n          setTarget(e.currentTarget);\n          setSchoolWeeksModal(true);\n          toast(\"Please tell us how many weeks are in your calendar this term\", \"info\");\n          return;\n        } else if (lastDoc.total_weeks === lastDoc.current_week) {\n          setTarget(e.currentTarget);\n          setSchoolWeeksModal(true);\n          toast(\"your Current Term has ended. Please start a new term\", \"info\");\n          return;\n        }\n      }\n\n      displayDetails(target, e);\n    }\n  }; //display modal based on selected action\n\n\n  const displayDetails = (target, e) => {\n    const id = e ? e.target.getAttribute('data-id') : target.getAttribute('data-id');\n    const current = e ? e.target.getAttribute('data-current') : target.getAttribute('data-current');\n\n    const loadModal = () => current === \"view\" ? setShowDetails(true) : current === \"rate\" ? setShowRating(true) : current === \"edit\" ? setShowEdit(true) : current === \"delete\" ? setShowDelete(true) : \"\";\n\n    const staffDetails = staff.filter(st => {\n      return st._id === id;\n    });\n    setDetails(staffDetails[0]);\n    loadModal();\n  };\n\n  const closeRating = () => {\n    setShowRating(false);\n    setRateCompany(false);\n  };\n\n  console.log(details);\n  return React.createElement(React.Fragment, null, React.createElement(\"div\", {\n    className: \"container\",\n    style: {\n      marginTop: \"70px\"\n    },\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 153\n    },\n    __self: this\n  }, React.createElement(\"div\", {\n    className: \"container\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 155\n    },\n    __self: this\n  }, React.createElement(\"div\", {\n    className: \"row d-flex align-items-center justify-content-center\",\n    style: {\n      background: '#C4C4C4',\n      padding: '10px'\n    },\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 156\n    },\n    __self: this\n  }, React.createElement(\"div\", {\n    className: \"col-lg-8\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 158\n    },\n    __self: this\n  }, React.createElement(SearchBar, {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 158\n    },\n    __self: this\n  })), React.createElement(\"div\", {\n    className: \"col-lg-4\",\n    style: {\n      cursor: 'pointer'\n    },\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 160\n    },\n    __self: this\n  }, React.createElement(\"div\", {\n    className: \"d-flex justify-content-between\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 162\n    },\n    __self: this\n  }, React.createElement(\"div\", {\n    className: \"btn\",\n    style: {\n      background: '#53a6e7'\n    },\n    onClick: ex_rankingpage,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 163\n    },\n    __self: this\n  }, \"Excercise Ranking\"), React.createElement(\"div\", {\n    onClick: () => setShow(!show),\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 164\n    },\n    __self: this\n  }, React.createElement(AddCircleIcon, {\n    fontSize: \"large\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 164\n    },\n    __self: this\n  }), \" Add \", user && user.org_type === \"school\" ? \"teacher\" : \"staff\"))))), React.createElement(\"br\", {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 169\n    },\n    __self: this\n  }), React.createElement(\"br\", {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 169\n    },\n    __self: this\n  }), React.createElement(\"div\", {\n    className: \"row\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 173\n    },\n    __self: this\n  }, React.createElement(\"div\", {\n    className: \"col d-flex d-inline-flex\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 174\n    },\n    __self: this\n  }, React.createElement(\"div\", {\n    className: \" pl-3 d-flex flex-fill align-items-center\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 176\n    },\n    __self: this\n  }, React.createElement(\"p\", {\n    className: \"mb-0 text-color-2\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 177\n    },\n    __self: this\n  }, \"Name\")), React.createElement(\"div\", {\n    className: \"d-flex flex-fill align-items-center\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 181\n    },\n    __self: this\n  }, React.createElement(\"p\", {\n    className: \"mb-0\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 182\n    },\n    __self: this\n  }, \"Email\")), React.createElement(\"div\", {\n    className: \" d-flex flex-fill align-items-center\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 186\n    },\n    __self: this\n  }, React.createElement(\"p\", {\n    className: \"mb-0\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 187\n    },\n    __self: this\n  }, \"Phone\")))), staff.map(st => {\n    return React.createElement(React.Fragment, null, React.createElement(\"div\", {\n      className: \"wrapper-list py-2 mt-2\",\n      style: {\n        backgroundColor: '#f5f5f5'\n      },\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 198\n      },\n      __self: this\n    }, React.createElement(\"div\", {\n      className: \"container-fluid\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 199\n      },\n      __self: this\n    }, React.createElement(\"div\", {\n      className: \"row\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 200\n      },\n      __self: this\n    }, React.createElement(\"div\", {\n      className: \"col d-flex justify-content-between\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 201\n      },\n      __self: this\n    }, React.createElement(\"div\", {\n      className: \"d-flex flex-fill align-items-center\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 203\n      },\n      __self: this\n    }, React.createElement(\"p\", {\n      className: \"ml-2 mb-0 text-color-2\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 204\n      },\n      __self: this\n    }, st.fullname)), React.createElement(\"div\", {\n      className: \"d-flex flex-fill align-items-center\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 207\n      },\n      __self: this\n    }, React.createElement(\"p\", {\n      className: \"ml-3 mb-0 \",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 208\n      },\n      __self: this\n    }, st.email)), React.createElement(\"div\", {\n      className: \"pr-2 d-flex flex-fill align-items-center\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 211\n      },\n      __self: this\n    }, React.createElement(\"p\", {\n      className: \"ml-3 mb-0 text-color-2\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 212\n      },\n      __self: this\n    }, st.phone)), React.createElement(\"div\", {\n      className: \"pr-2 d-flex flex-fill align-items-center\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 214\n      },\n      __self: this\n    }, React.createElement(\"p\", {\n      className: \"ml-3 mb-0 text-color-2\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 215\n      },\n      __self: this\n    }, st.tic)), React.createElement(\"div\", {\n      className: \"d-flex align-items-center ml-auto\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 218\n      },\n      __self: this\n    }, React.createElement(Dropdown, {\n      alignRight: true,\n      color: 'red',\n      style: {\n        backgroundColor: '#f5f5f5'\n      },\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 219\n      },\n      __self: this\n    }, React.createElement(Dropdown.Toggle, {\n      id: \"dropdown-basic\",\n      style: {\n        color: 'black',\n        fontWeight: 'bolder'\n      },\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 220\n      },\n      __self: this\n    }, \"....\"), React.createElement(Dropdown.Menu, {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 223\n      },\n      __self: this\n    }, React.createElement(Dropdown.Item, {\n      onClick: getDetails,\n      \"data-id\": st._id,\n      \"data-current\": \"view\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 224\n      },\n      __self: this\n    }, \"View Details\"), React.createElement(Dropdown.Item, {\n      onClick: getDetails,\n      \"data-id\": st._id,\n      \"data-current\": \"edit\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 225\n      },\n      __self: this\n    }, \"Edit \", user && user.org_type === \"school\" ? \"teacher\" : \"staff\"), React.createElement(Dropdown.Item, {\n      onClick: getDetails,\n      \"data-id\": st._id,\n      \"data-current\": \"rate\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 226\n      },\n      __self: this\n    }, \"Rate \", user && user.org_type === \"school\" ? \"teacher\" : \"staff\"), React.createElement(Dropdown.Item, {\n      onClick: getDetails,\n      \"data-id\": st._id,\n      \"data-current\": \"delete\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 227\n      },\n      __self: this\n    }, \"Delete \", user && user.org_type === \"school\" ? \"teacher\" : \"staff\")))))))));\n  })), React.createElement(AddStaff, {\n    show: show,\n    onHide: () => setShow(!show),\n    closeModal: closeModal,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 242\n    },\n    __self: this\n  }), React.createElement(StaffDetails, {\n    show: showDetails,\n    onHide: () => setShowDetails(!showDetails),\n    details: details,\n    spinner: spinner,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 243\n    },\n    __self: this\n  }), React.createElement(Rating, {\n    show: showrating,\n    onHide: () => setShowRating(!showrating),\n    details: details,\n    spinner: spinner,\n    closeModal: closeRating,\n    weeks: weeks,\n    lastDoc: lastDoc,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 249\n    },\n    __self: this\n  }), React.createElement(Edit, {\n    show: showEdit,\n    onHide: () => setShowEdit(!showEdit),\n    id: details._id,\n    spinner: spinner,\n    user: user,\n    closeModal: closeModal,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 258\n    },\n    __self: this\n  }), React.createElement(SchoolWeeks, {\n    show: schoolWeeksmodal,\n    onHide: () => setSchoolWeeksModal(!schoolWeeksmodal),\n    getSchoolWeeks: getSchoolWeeks,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 266\n    },\n    __self: this\n  }), React.createElement(CompanyStaffRating, {\n    show: ratecompany,\n    onHide: () => setRateCompany(!ratecompany),\n    details: details,\n    closeModal: closeRating,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 271\n    },\n    __self: this\n  }), React.createElement(DeleteStaff, {\n    show: showDelete,\n    onHide: () => setShowDelete(!showDelete),\n    details: details,\n    user: user,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 277\n    },\n    __self: this\n  }));\n};\n\nexport default Staff;","map":{"version":3,"sources":["/Users/mac/Desktop/projekte/esgrown/src/components/corp_dashboard_components/staff/staff.js"],"names":["React","useState","useEffect","axios","Spinner","Dropdown","EditModal","AddCircleIcon","SearchBar","AddStaff","StaffDetails","Rating","Edit","SchoolWeeks","CompanyStaffRating","toast","DeleteStaff","Staff","ex_rankingpage","user","setUser","show","setShow","staff","setStaff","showDetails","setShowDetails","showrating","setShowRating","showEdit","setShowEdit","schoolWeeksmodal","setSchoolWeeksModal","details","setDetails","spinner","setSpinner","weeks","setWeeks","lastDoc","setLastDoc","target","setTarget","showDelete","setShowDelete","ratecompany","setRateCompany","JSON","parse","sessionStorage","getItem","get","id","then","res","data","length","catch","err","console","log","org_name","reverse","getSchoolWeeks","w","displayDetails","closeModal","getDetails","e","currentTarget","current","getAttribute","org_type","staffDetails","filter","st","_id","undefined","total_weeks","current_week","loadModal","closeRating","marginTop","background","padding","cursor","map","backgroundColor","fullname","email","phone","tic","color","fontWeight"],"mappings":"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","sourcesContent":["import React, { useState, useEffect } from 'react';\nimport axios from 'axios';\nimport { Spinner, Dropdown, EditModal } from 'react-bootstrap';\nimport AddCircleIcon from '@material-ui/icons/AddCircle';\nimport SearchBar from '../job/components/search';\nimport AddStaff from './components/add-staff';\nimport StaffDetails from './components/details';\nimport Rating from './components/teacher-rateing';\nimport Edit from './components/edit';\nimport SchoolWeeks from './components/school-weeks';\nimport CompanyStaffRating from './components/staff-rating';\nimport toast from '../../../util/toast';\nimport './styles.css';\nimport DeleteStaff from './components/delete';\n\n\n\nconst Staff = ({ex_rankingpage}) => {\n\n\n    const [user, setUser] = useState();\n    const [show, setShow] = useState(false);\n    const [staff, setStaff] = useState([]);\n\n    //modals\n    const [showDetails, setShowDetails] = useState(false);\n    const [showrating, setShowRating] = useState(false)\n    const [showEdit, setShowEdit] = useState(false);\n    const [schoolWeeksmodal, setSchoolWeeksModal] = useState(false);\n\n\n    const [details, setDetails] = useState([]);\n    const [spinner, setSpinner] = useState(true);\n    const [weeks, setWeeks] = useState();\n    const [lastDoc, setLastDoc] = useState([])\n    const [target, setTarget] = useState();\n    const [showDelete, setShowDelete] = useState(false)\n\n\n    const [ratecompany, setRateCompany] = useState(false);\n\n    useEffect(() => {\n        const user = JSON.parse(sessionStorage.getItem('key'));\n        setUser(user);\n\n        axios.get(`http://localhost:5000/individuals/staff/${user.id}`)\n            .then(res => {\n                if (res.data.length > 0) {\n                    setStaff(res.data);\n                }\n            })\n            .catch(err => console.log(err));\n\n        //check if this is the beginning of the term and get the total weeks for the term\n\n        axios.get(`http://localhost:5000/rate/teacher/check/${user.org_name}`)\n            .then(res => {\n\n                setLastDoc(res.data.reverse()[0])\n            })\n            .catch(err => console.log(err));\n\n    }, [])\n\n    //get the new school week and show rating modal\n    const getSchoolWeeks = (w) => {\n        setWeeks(w);\n        setSchoolWeeksModal(false);\n        displayDetails(target)\n\n    }\n\n\n    //close add modal and reload staff\n    const closeModal = () => {\n        setShow(false);\n        setShowEdit(false)\n\n        axios.get(`http://localhost:5000/individuals/staff/${user.id}`)\n            .then(res => {\n                if (res.data.length > 0) {\n                    setStaff(res.data);\n                }\n            })\n            .catch(err => console.log(err));\n    };\n\n\n    //get currently clicked staff\n    const getDetails = (e) => {\n        setTarget(e.currentTarget)\n        const current = e.target.getAttribute('data-current');\n\n\n        //show company rating modal\n        if (current === 'rate' && user.org_type === 'company') {\n\n            const id = e.target.getAttribute('data-id');\n\n            const staffDetails = staff.filter(st => {\n                return st._id === id\n            })\n\n            setDetails(staffDetails[0]);\n            setRateCompany(true)\n\n\n        } else {\n\n            if (current === 'rate') {\n                if (lastDoc === undefined) {\n                    setTarget(e.currentTarget)\n                    setSchoolWeeksModal(true)\n                    toast(\"Please tell us how many weeks are in your calendar this term\", \"info\");\n                    return;\n\n                } else if (lastDoc.total_weeks === lastDoc.current_week) {\n                    setTarget(e.currentTarget)\n                    setSchoolWeeksModal(true);\n                    toast(\"your Current Term has ended. Please start a new term\", \"info\");\n                    return;\n                }\n            }\n\n\n            displayDetails(target, e)\n        }\n    }\n\n    //display modal based on selected action\n    const displayDetails = (target, e) => {\n\n        const id = e ? e.target.getAttribute('data-id') : target.getAttribute('data-id');\n        const current = e ? e.target.getAttribute('data-current') : target.getAttribute('data-current');\n\n        const loadModal = () => current === \"view\" ? setShowDetails(true) : current === \"rate\" ? setShowRating(true) : current === \"edit\" ? setShowEdit(true) : current === \"delete\" ? setShowDelete(true) : \"\"\n\n        const staffDetails = staff.filter(st => {\n            return st._id === id\n        })\n        setDetails(staffDetails[0]);\n        loadModal();\n    }\n\n    const closeRating = () => {\n        setShowRating(false)\n        setRateCompany(false)\n    }\n    console.log(details)\n\n    return (\n        <>\n            <div className=\"container\" style={{marginTop:\"70px\"}}>\n\n                <div className=\"container\">\n                    <div className=\"row d-flex align-items-center justify-content-center\" style={{ background: '#C4C4C4', padding:'10px'}}>\n\n                        <div className=\"col-lg-8\" ><SearchBar /></div>\n\n                        <div className=\"col-lg-4\" style={{ cursor: 'pointer' }} >\n                            {/* <span style={{ float: 'right', lineHeight: '50px', marginLeft: '10px', color: '#3F51B5', fontSize: '16px', fontWeight: 'bolder' }}> */}\n                                <div className=\"d-flex justify-content-between\">\n                                <div className=\"btn\" style={{background:'#53a6e7'}} onClick={ex_rankingpage}>Excercise Ranking</div>\n                                <div onClick={() => setShow(!show)}><AddCircleIcon fontSize=\"large\" /> Add {user && user.org_type === \"school\" ? \"teacher\" : \"staff\"}</div>\n                                </div>\n                            {/* </span> */}\n                        </div>\n                    </div>\n                </div><br /><br />\n\n                {/* header for the rows    */}\n                {/* <div className=\"container\"> */}\n                <div className=\"row\">\n                    <div className=\"col d-flex d-inline-flex\">\n\n                        <div className=\" pl-3 d-flex flex-fill align-items-center\">\n                            <p className=\"mb-0 text-color-2\">Name</p>\n                        </div>\n\n\n                        <div className=\"d-flex flex-fill align-items-center\">\n                            <p className=\"mb-0\">Email</p>\n                        </div>\n\n\n                        <div className=\" d-flex flex-fill align-items-center\">\n                            <p className=\"mb-0\">Phone</p>\n                        </div>\n\n                    </div>\n                </div>\n                {/* </div> */}\n\n                {\n                    staff.map(st => {\n                        return (\n                            <>\n                                <div className=\"wrapper-list py-2 mt-2\" style={{ backgroundColor: '#f5f5f5' }}>\n                                    <div className=\"container-fluid\">\n                                        <div className=\"row\">\n                                            <div className=\"col d-flex justify-content-between\">\n\n                                                <div className=\"d-flex flex-fill align-items-center\">\n                                                    <p className=\"ml-2 mb-0 text-color-2\">{st.fullname}</p>\n                                                </div>\n\n                                                <div className=\"d-flex flex-fill align-items-center\">\n                                                    <p className=\"ml-3 mb-0 \">{st.email}</p>\n                                                </div>\n\n                                                <div className=\"pr-2 d-flex flex-fill align-items-center\">\n                                                    <p className=\"ml-3 mb-0 text-color-2\">{st.phone}</p>\n                                                </div>\n                                                <div className=\"pr-2 d-flex flex-fill align-items-center\">\n                                                    <p className=\"ml-3 mb-0 text-color-2\">{st.tic}</p>\n                                                </div>\n\n                                                <div className=\"d-flex align-items-center ml-auto\">\n                                                    <Dropdown alignRight color={'red'} style={{ backgroundColor: '#f5f5f5' }}>\n                                                        <Dropdown.Toggle id=\"dropdown-basic\" style={{ color: 'black', fontWeight: 'bolder' }}>\n                                                            ....\n                                                        </Dropdown.Toggle>\n                                                        <Dropdown.Menu>\n                                                            <Dropdown.Item onClick={getDetails} data-id={st._id} data-current=\"view\">View Details</Dropdown.Item>\n                                                            <Dropdown.Item onClick={getDetails} data-id={st._id} data-current=\"edit\">Edit {user && user.org_type === \"school\" ? \"teacher\" : \"staff\"}</Dropdown.Item>\n                                                            <Dropdown.Item onClick={getDetails} data-id={st._id} data-current=\"rate\">Rate {user && user.org_type === \"school\" ? \"teacher\" : \"staff\"}</Dropdown.Item>\n                                                            <Dropdown.Item onClick={getDetails} data-id={st._id} data-current=\"delete\">Delete {user && user.org_type === \"school\" ? \"teacher\" : \"staff\"}</Dropdown.Item>\n                                                        </Dropdown.Menu>\n                                                    </Dropdown>\n                                                </div>\n                                            </div>\n                                        </div>\n                                    </div>\n                                </div>\n                            </>\n                        );\n                    })\n                }\n\n\n            </div>\n            <AddStaff show={show} onHide={() => setShow(!show)} closeModal={closeModal} />\n            <StaffDetails\n                show={showDetails}\n                onHide={() => setShowDetails(!showDetails)}\n                details={details}\n                spinner={spinner}\n            />\n            <Rating\n                show={showrating}\n                onHide={() => setShowRating(!showrating)}\n                details={details}\n                spinner={spinner}\n                closeModal={closeRating}\n                weeks={weeks}\n                lastDoc={lastDoc}\n            />\n            <Edit\n                show={showEdit}\n                onHide={() => setShowEdit(!showEdit)}\n                id={details._id}\n                spinner={spinner}\n                user={user}\n                closeModal={closeModal}\n            />\n            <SchoolWeeks\n                show={schoolWeeksmodal}\n                onHide={() => setSchoolWeeksModal(!schoolWeeksmodal)}\n                getSchoolWeeks={getSchoolWeeks}\n            />\n            <CompanyStaffRating\n                show={ratecompany}\n                onHide={() => setRateCompany(!ratecompany)}\n                details={details}\n                closeModal={closeRating}\n            />\n            <DeleteStaff\n                show={showDelete}\n                onHide={() => setShowDelete(!showDelete)}\n                details={details}\n                user={user}\n            />\n            \n        </>\n    );\n}\nexport default Staff;\n\n"]},"metadata":{},"sourceType":"module"}