{"ast":null,"code":"import _slicedToArray from \"/Users/mac/Desktop/projekte/esgrown/node_modules/@babel/runtime/helpers/esm/slicedToArray\";\nvar _jsxFileName = \"/Users/mac/Desktop/projekte/esgrown/src/components/corp_dashboard_components/job/jobs.js\";\nimport React, { useState, useEffect } from 'react';\nimport axios from 'axios';\nimport { Spinner, Dropdown } from 'react-bootstrap';\nimport AddCircleIcon from '@material-ui/icons/AddCircle';\nimport DeleteIcon from '@material-ui/icons/Delete';\nimport EditIcon from '@material-ui/icons/Edit';\nimport SearchBar from './components/search';\nimport CreateJob from './components/create-job';\nimport toast from '../../../util/toast';\n\nconst Jobs = () => {\n  const _useState = useState([]),\n        _useState2 = _slicedToArray(_useState, 2),\n        jobs = _useState2[0],\n        setJobs = _useState2[1];\n\n  const _useState3 = useState(true),\n        _useState4 = _slicedToArray(_useState3, 2),\n        spinner = _useState4[0],\n        setSpinner = _useState4[1];\n\n  const _useState5 = useState(false),\n        _useState6 = _slicedToArray(_useState5, 2),\n        show = _useState6[0],\n        setShow = _useState6[1];\n\n  const _useState7 = useState(),\n        _useState8 = _slicedToArray(_useState7, 2),\n        user = _useState8[0],\n        setUser = _useState8[1];\n\n  const _useState9 = useState(),\n        _useState10 = _slicedToArray(_useState9, 2),\n        editData = _useState10[0],\n        setEditData = _useState10[1];\n\n  useEffect(() => {\n    const user = JSON.parse(sessionStorage.getItem('key'));\n    setUser(user); //get all jobs\n\n    axios.get(`http://localhost:5000/jobs/${user.id}`).then(res => {\n      if (res.data.length !== 0) {\n        setJobs(res.data);\n        setSpinner(false);\n      } else {\n        setSpinner(false);\n        toast(\"No company jobs found. Add one\", \"info\");\n      }\n    }).catch(err => console.log(err));\n  }, []); //close jobs create modal and reload jobs\n\n  const closeModal = () => {\n    setShow(false);\n    axios.get(`http://localhost:5000/jobs/${user.id}`).then(res => {\n      if (res.data.length > 0) {\n        setJobs(res.data);\n        setSpinner(false);\n      }\n    }).catch(err => console.log(err));\n  };\n\n  const deleteJob = e => {\n    console.log(e.target.getAttribute('data-id'));\n    alert('clicked');\n  };\n\n  const editJob = e => {\n    const editTitle = e.target.getAttribute('data-id');\n    const edit = jobs.filter(j => {\n      return j.title === editTitle;\n    });\n    setEditData(edit);\n  };\n\n  return React.createElement(React.Fragment, null, React.createElement(\"br\", {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 80\n    },\n    __self: this\n  }), React.createElement(\"br\", {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 80\n    },\n    __self: this\n  }), React.createElement(\"br\", {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 81\n    },\n    __self: this\n  }), React.createElement(\"div\", {\n    className: \"container\",\n    style: {\n      marginTop: '60px'\n    },\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 82\n    },\n    __self: this\n  }, React.createElement(\"div\", {\n    className: \"container\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 83\n    },\n    __self: this\n  }, React.createElement(\"div\", {\n    className: \"row\",\n    style: {\n      background: '#C4C4C4',\n      height: '60px',\n      paddingBottom: '20px',\n      paddingTop: '10px',\n      paddingLeft: '40px'\n    },\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 84\n    },\n    __self: this\n  }, React.createElement(\"div\", {\n    className: \"col-lg-8\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 85\n    },\n    __self: this\n  }, React.createElement(SearchBar, {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 85\n    },\n    __self: this\n  })), React.createElement(\"div\", {\n    className: \"col-lg-4 d-flex justify-content-end\",\n    style: {\n      cursor: 'pointer'\n    },\n    onClick: () => setShow(!show),\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 87\n    },\n    __self: this\n  }, React.createElement(\"span\", {\n    style: {\n      marginTop: '10px',\n      color: '#3F51B5',\n      fontSize: '16px',\n      fontWeight: 'bolder'\n    },\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 88\n    },\n    __self: this\n  }, \"Add Jobs\")))), React.createElement(\"br\", {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 91\n    },\n    __self: this\n  }), React.createElement(\"div\", {\n    className: \"container\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 92\n    },\n    __self: this\n  }, React.createElement(\"br\", {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 93\n    },\n    __self: this\n  }), React.createElement(\"br\", {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 93\n    },\n    __self: this\n  }), React.createElement(\"div\", {\n    className: \"d-flex justify-content-space-around\",\n    style: {\n      textAlign: 'center'\n    },\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 94\n    },\n    __self: this\n  }, React.createElement(\"div\", {\n    className: \"col\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 95\n    },\n    __self: this\n  }, React.createElement(\"span\", {\n    style: {\n      fontSize: \"18px\",\n      fontWeight: \"bold\"\n    },\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 95\n    },\n    __self: this\n  }, \"Job Title\")), React.createElement(\"div\", {\n    className: \"col\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 96\n    },\n    __self: this\n  }, React.createElement(\"span\", {\n    style: {\n      fontSize: \"18px\",\n      fontWeight: \"bold\"\n    },\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 96\n    },\n    __self: this\n  }, \"Start Date\")), React.createElement(\"div\", {\n    className: \"col\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 97\n    },\n    __self: this\n  }, React.createElement(\"span\", {\n    style: {\n      fontSize: \"18px\",\n      fontWeight: \"bold\"\n    },\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 97\n    },\n    __self: this\n  }, \"Dead Line\")), React.createElement(\"div\", {\n    className: \"col\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 98\n    },\n    __self: this\n  }, React.createElement(\"span\", {\n    style: {\n      fontSize: \"18px\",\n      fontWeight: \"bold\"\n    },\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 98\n    },\n    __self: this\n  }, \"Expected Resumption Date\")), React.createElement(\"div\", {\n    className: \"col\",\n    style: {\n      fontWeight: \"bold\"\n    },\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 99\n    },\n    __self: this\n  }, React.createElement(\"span\", {\n    style: {\n      fontSize: \"18px\",\n      float: 'right',\n      marginRight: '60px'\n    },\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 99\n    },\n    __self: this\n  }, \"View\"))), React.createElement(\"br\", {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 100\n    },\n    __self: this\n  }), React.createElement(\"br\", {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 100\n    },\n    __self: this\n  }), spinner ? React.createElement(Spinner, {\n    animation: \"grow\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 103\n    },\n    __self: this\n  }) : jobs.map(job => {\n    return job.jobs.map((j, index) => {\n      return React.createElement(React.Fragment, null, React.createElement(\"div\", {\n        className: \"row d-flex justify-content-space-around\",\n        key: index,\n        style: {\n          height: '50px',\n          background: \"#FFFFFF\",\n          borderRadius: '5px',\n          lineHeight: '48px',\n          marginBottom: '15px',\n          textAlign: 'center',\n          boxSizing: 'border-box'\n        },\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 108\n        },\n        __self: this\n      }, React.createElement(\"div\", {\n        className: \"col col-xs-2\",\n        style: {\n          textAlign: 'center'\n        },\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 109\n        },\n        __self: this\n      }, j.title), React.createElement(\"div\", {\n        className: \"col col-xs-2\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 110\n        },\n        __self: this\n      }, j.start_date), React.createElement(\"div\", {\n        className: \"col col-xs-2\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 111\n        },\n        __self: this\n      }, j.dead_line), React.createElement(\"div\", {\n        className: \"col col-xs-2\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 112\n        },\n        __self: this\n      }, j.erd), React.createElement(\"div\", {\n        className: \"col col-xs-2 \",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 113\n        },\n        __self: this\n      }, React.createElement(\"div\", {\n        className: \"d-flex align-items-center ml-auto\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 115\n        },\n        __self: this\n      }, React.createElement(Dropdown, {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 116\n        },\n        __self: this\n      }, React.createElement(Dropdown.Toggle, {\n        id: \"dropdown-basic\",\n        style: {\n          color: 'black',\n          fontWeight: 'bolder'\n        },\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 117\n        },\n        __self: this\n      }, \"....\"), React.createElement(Dropdown.Menu, {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 120\n        },\n        __self: this\n      }, React.createElement(Dropdown.Item, {\n        \"data-index\": index,\n        \"data-id\": j.title,\n        onClick: editJob,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 121\n        },\n        __self: this\n      }, React.createElement(EditIcon, {\n        style: {\n          color: 'green'\n        },\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 121\n        },\n        __self: this\n      }), \" Edit\"), React.createElement(Dropdown.Item, {\n        \"data-index\": index,\n        \"data-id\": j._id,\n        onClick: deleteJob,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 122\n        },\n        __self: this\n      }, React.createElement(DeleteIcon, {\n        style: {\n          color: 'brown'\n        },\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 122\n        },\n        __self: this\n      }), \" Delete\")))))));\n    });\n  }))), React.createElement(CreateJob, {\n    show: show,\n    onHide: () => setShow(!show),\n    closeModal: closeModal,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 137\n    },\n    __self: this\n  }));\n};\n\nexport default Jobs;","map":{"version":3,"sources":["/Users/mac/Desktop/projekte/esgrown/src/components/corp_dashboard_components/job/jobs.js"],"names":["React","useState","useEffect","axios","Spinner","Dropdown","AddCircleIcon","DeleteIcon","EditIcon","SearchBar","CreateJob","toast","Jobs","jobs","setJobs","spinner","setSpinner","show","setShow","user","setUser","editData","setEditData","JSON","parse","sessionStorage","getItem","get","id","then","res","data","length","catch","err","console","log","closeModal","deleteJob","e","target","getAttribute","alert","editJob","editTitle","edit","filter","j","title","marginTop","background","height","paddingBottom","paddingTop","paddingLeft","cursor","color","fontSize","fontWeight","textAlign","float","marginRight","map","job","index","borderRadius","lineHeight","marginBottom","boxSizing","start_date","dead_line","erd","_id"],"mappings":";;AAAA,OAAOA,KAAP,IAAgBC,QAAhB,EAA0BC,SAA1B,QAA2C,OAA3C;AACA,OAAOC,KAAP,MAAkB,OAAlB;AACA,SAASC,OAAT,EAAkBC,QAAlB,QAAkC,iBAAlC;AACA,OAAOC,aAAP,MAA0B,8BAA1B;AACA,OAAOC,UAAP,MAAuB,2BAAvB;AACA,OAAOC,QAAP,MAAqB,yBAArB;AACA,OAAOC,SAAP,MAAsB,qBAAtB;AACA,OAAOC,SAAP,MAAsB,yBAAtB;AACA,OAAOC,KAAP,MAAkB,qBAAlB;;AAMA,MAAMC,IAAI,GAAG,MAAM;AAAA,oBAESX,QAAQ,CAAC,EAAD,CAFjB;AAAA;AAAA,QAERY,IAFQ;AAAA,QAEFC,OAFE;;AAAA,qBAGeb,QAAQ,CAAC,IAAD,CAHvB;AAAA;AAAA,QAGRc,OAHQ;AAAA,QAGCC,UAHD;;AAAA,qBAKSf,QAAQ,CAAC,KAAD,CALjB;AAAA;AAAA,QAKRgB,IALQ;AAAA,QAKFC,OALE;;AAAA,qBAMSjB,QAAQ,EANjB;AAAA;AAAA,QAMRkB,IANQ;AAAA,QAMFC,OANE;;AAAA,qBAOiBnB,QAAQ,EAPzB;AAAA;AAAA,QAORoB,QAPQ;AAAA,QAOEC,WAPF;;AAWfpB,EAAAA,SAAS,CAAC,MAAM;AACZ,UAAMiB,IAAI,GAAGI,IAAI,CAACC,KAAL,CAAWC,cAAc,CAACC,OAAf,CAAuB,KAAvB,CAAX,CAAb;AACAN,IAAAA,OAAO,CAACD,IAAD,CAAP,CAFY,CAGZ;;AACAhB,IAAAA,KAAK,CAACwB,GAAN,CAAW,8BAA6BR,IAAI,CAACS,EAAG,EAAhD,EACKC,IADL,CACUC,GAAG,IAAI;AACT,UAAIA,GAAG,CAACC,IAAJ,CAASC,MAAT,KAAoB,CAAxB,EAA2B;AACvBlB,QAAAA,OAAO,CAACgB,GAAG,CAACC,IAAL,CAAP;AACAf,QAAAA,UAAU,CAAC,KAAD,CAAV;AACH,OAHD,MAGO;AACHA,QAAAA,UAAU,CAAC,KAAD,CAAV;AACAL,QAAAA,KAAK,CAAC,gCAAD,EAAmC,MAAnC,CAAL;AACH;AACJ,KATL,EAUKsB,KAVL,CAUWC,GAAG,IAAIC,OAAO,CAACC,GAAR,CAAYF,GAAZ,CAVlB;AAYH,GAhBQ,EAgBN,EAhBM,CAAT,CAXe,CAgCf;;AACA,QAAMG,UAAU,GAAG,MAAM;AACrBnB,IAAAA,OAAO,CAAC,KAAD,CAAP;AAEAf,IAAAA,KAAK,CAACwB,GAAN,CAAW,8BAA6BR,IAAI,CAACS,EAAG,EAAhD,EACKC,IADL,CACUC,GAAG,IAAI;AACT,UAAIA,GAAG,CAACC,IAAJ,CAASC,MAAT,GAAkB,CAAtB,EAAyB;AACrBlB,QAAAA,OAAO,CAACgB,GAAG,CAACC,IAAL,CAAP;AACAf,QAAAA,UAAU,CAAC,KAAD,CAAV;AAEH;AACJ,KAPL,EAQKiB,KARL,CAQWC,GAAG,IAAIC,OAAO,CAACC,GAAR,CAAYF,GAAZ,CARlB;AASH,GAZD;;AAcA,QAAMI,SAAS,GAAIC,CAAD,IAAO;AACrBJ,IAAAA,OAAO,CAACC,GAAR,CAAYG,CAAC,CAACC,MAAF,CAASC,YAAT,CAAsB,SAAtB,CAAZ;AACAC,IAAAA,KAAK,CAAC,SAAD,CAAL;AACH,GAHD;;AAKA,QAAMC,OAAO,GAAIJ,CAAD,IAAO;AACpB,UAAMK,SAAS,GAAGL,CAAC,CAACC,MAAF,CAASC,YAAT,CAAsB,SAAtB,CAAlB;AAEC,UAAMI,IAAI,GAAGhC,IAAI,CAACiC,MAAL,CAAYC,CAAC,IAAI;AAC1B,aAAOA,CAAC,CAACC,KAAF,KAAYJ,SAAnB;AACH,KAFY,CAAb;AAIAtB,IAAAA,WAAW,CAACuB,IAAD,CAAX;AAEH,GATD;;AAWA,SACI,0CACI;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,IADJ,EACU;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,IADV,EAEI;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,IAFJ,EAGI;AAAK,IAAA,SAAS,EAAC,WAAf;AAA2B,IAAA,KAAK,EAAE;AAACI,MAAAA,SAAS,EAAC;AAAX,KAAlC;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KACI;AAAK,IAAA,SAAS,EAAC,WAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KACI;AAAK,IAAA,SAAS,EAAC,KAAf;AAAqB,IAAA,KAAK,EAAE;AAAEC,MAAAA,UAAU,EAAE,SAAd;AAAyBC,MAAAA,MAAM,EAAE,MAAjC;AAAyCC,MAAAA,aAAa,EAAE,MAAxD;AAAgEC,MAAAA,UAAU,EAAE,MAA5E;AAAoFC,MAAAA,WAAW,EAAE;AAAjG,KAA5B;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KACI;AAAK,IAAA,SAAS,EAAC,UAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KAA0B,oBAAC,SAAD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,IAA1B,CADJ,EAGI;AAAK,IAAA,SAAS,EAAC,qCAAf;AAAqD,IAAA,KAAK,EAAE;AAAEC,MAAAA,MAAM,EAAE;AAAV,KAA5D;AAAkF,IAAA,OAAO,EAAE,MAAMrC,OAAO,CAAC,CAACD,IAAF,CAAxG;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KACI;AAAM,IAAA,KAAK,EAAE;AAAEgC,MAAAA,SAAS,EAAE,MAAb;AAAqBO,MAAAA,KAAK,EAAE,SAA5B;AAAuCC,MAAAA,QAAQ,EAAE,MAAjD;AAAyDC,MAAAA,UAAU,EAAE;AAArE,KAAb;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,gBADJ,CAHJ,CADJ,CADJ,EASU;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,IATV,EAUI;AAAK,IAAA,SAAS,EAAC,WAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KACI;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,IADJ,EACU;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,IADV,EAEI;AAAK,IAAA,SAAS,EAAC,qCAAf;AAAqD,IAAA,KAAK,EAAE;AAAEC,MAAAA,SAAS,EAAE;AAAb,KAA5D;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KACI;AAAK,IAAA,SAAS,EAAC,KAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KAAqB;AAAM,IAAA,KAAK,EAAE;AAAEF,MAAAA,QAAQ,EAAE,MAAZ;AAAoBC,MAAAA,UAAU,EAAE;AAAhC,KAAb;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,iBAArB,CADJ,EAEI;AAAK,IAAA,SAAS,EAAC,KAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KAAqB;AAAM,IAAA,KAAK,EAAE;AAAED,MAAAA,QAAQ,EAAE,MAAZ;AAAoBC,MAAAA,UAAU,EAAE;AAAhC,KAAb;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,kBAArB,CAFJ,EAGI;AAAK,IAAA,SAAS,EAAC,KAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KAAqB;AAAM,IAAA,KAAK,EAAE;AAAED,MAAAA,QAAQ,EAAE,MAAZ;AAAoBC,MAAAA,UAAU,EAAE;AAAhC,KAAb;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,iBAArB,CAHJ,EAII;AAAK,IAAA,SAAS,EAAC,KAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KAAqB;AAAM,IAAA,KAAK,EAAE;AAAED,MAAAA,QAAQ,EAAE,MAAZ;AAAoBC,MAAAA,UAAU,EAAE;AAAhC,KAAb;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,gCAArB,CAJJ,EAKI;AAAK,IAAA,SAAS,EAAC,KAAf;AAAqB,IAAA,KAAK,EAAE;AAAEA,MAAAA,UAAU,EAAE;AAAd,KAA5B;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KAAoD;AAAM,IAAA,KAAK,EAAE;AAAED,MAAAA,QAAQ,EAAE,MAAZ;AAAoBG,MAAAA,KAAK,EAAE,OAA3B;AAAoCC,MAAAA,WAAW,EAAE;AAAjD,KAAb;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,YAApD,CALJ,CAFJ,EAQU;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,IARV,EAQgB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,IARhB,EAWQ9C,OAAO,GAAG,oBAAC,OAAD;AAAS,IAAA,SAAS,EAAC,MAAnB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,IAAH,GACHF,IAAI,CAACiD,GAAL,CAASC,GAAG,IAAI;AACZ,WAAOA,GAAG,CAAClD,IAAJ,CAASiD,GAAT,CAAa,CAACf,CAAD,EAAIiB,KAAJ,KAAc;AAC9B,aACI,0CACI;AAAK,QAAA,SAAS,EAAC,yCAAf;AAAyD,QAAA,GAAG,EAAEA,KAA9D;AAAqE,QAAA,KAAK,EAAE;AAAEb,UAAAA,MAAM,EAAE,MAAV;AAAkBD,UAAAA,UAAU,EAAE,SAA9B;AAAyCe,UAAAA,YAAY,EAAE,KAAvD;AAA8DC,UAAAA,UAAU,EAAE,MAA1E;AAAkFC,UAAAA,YAAY,EAAE,MAAhG;AAAwGR,UAAAA,SAAS,EAAE,QAAnH;AAA4HS,UAAAA,SAAS,EAAC;AAAtI,SAA5E;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,SACI;AAAK,QAAA,SAAS,EAAC,cAAf;AAA8B,QAAA,KAAK,EAAE;AAAET,UAAAA,SAAS,EAAE;AAAb,SAArC;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,SAA+DZ,CAAC,CAACC,KAAjE,CADJ,EAEI;AAAK,QAAA,SAAS,EAAC,cAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,SAAgCD,CAAC,CAACsB,UAAlC,CAFJ,EAGI;AAAK,QAAA,SAAS,EAAC,cAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,SAAgCtB,CAAC,CAACuB,SAAlC,CAHJ,EAII;AAAK,QAAA,SAAS,EAAC,cAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,SAAgCvB,CAAC,CAACwB,GAAlC,CAJJ,EAKI;AAAK,QAAA,SAAS,EAAC,eAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,SAEI;AAAK,QAAA,SAAS,EAAC,mCAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,SACI,oBAAC,QAAD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,SACI,oBAAC,QAAD,CAAU,MAAV;AAAiB,QAAA,EAAE,EAAC,gBAApB;AAAqC,QAAA,KAAK,EAAE;AAAEf,UAAAA,KAAK,EAAE,OAAT;AAAkBE,UAAAA,UAAU,EAAE;AAA9B,SAA5C;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,gBADJ,EAII,oBAAC,QAAD,CAAU,IAAV;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,SACI,oBAAC,QAAD,CAAU,IAAV;AAAe,sBAAYM,KAA3B;AAAkC,mBAASjB,CAAC,CAACC,KAA7C;AAAoD,QAAA,OAAO,EAAEL,OAA7D;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,SAAuE,oBAAC,QAAD;AAAU,QAAA,KAAK,EAAE;AAAEa,UAAAA,KAAK,EAAE;AAAT,SAAjB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,QAAvE,UADJ,EAEI,oBAAC,QAAD,CAAU,IAAV;AAAe,sBAAYQ,KAA3B;AAAkC,mBAASjB,CAAC,CAACyB,GAA7C;AAAkD,QAAA,OAAO,EAAElC,SAA3D;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,SAAuE,oBAAC,UAAD;AAAY,QAAA,KAAK,EAAE;AAAEkB,UAAAA,KAAK,EAAE;AAAT,SAAnB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,QAAvE,YAFJ,CAJJ,CADJ,CAFJ,CALJ,CADJ,CADJ;AAyBH,KA1BM,CAAP;AA2BH,GA5BD,CAZZ,CAVJ,CAHJ,EA0DI,oBAAC,SAAD;AAAW,IAAA,IAAI,EAAEvC,IAAjB;AAAuB,IAAA,MAAM,EAAE,MAAMC,OAAO,CAAC,CAACD,IAAF,CAA5C;AAAqD,IAAA,UAAU,EAAEoB,UAAjE;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,IA1DJ,CADJ;AA8DH,CA7HD;;AA+HA,eAAezB,IAAf","sourcesContent":["import React, { useState, useEffect } from 'react';\nimport axios from 'axios';\nimport { Spinner, Dropdown } from 'react-bootstrap';\nimport AddCircleIcon from '@material-ui/icons/AddCircle';\nimport DeleteIcon from '@material-ui/icons/Delete';\nimport EditIcon from '@material-ui/icons/Edit';\nimport SearchBar from './components/search';\nimport CreateJob from './components/create-job';\nimport toast from '../../../util/toast';\n\n\n\n\n\nconst Jobs = () => {\n\n    const [jobs, setJobs] = useState([]);\n    const [spinner, setSpinner] = useState(true);\n\n    const [show, setShow] = useState(false);\n    const [user, setUser] = useState();\n    const [editData, setEditData] = useState();\n\n\n\n    useEffect(() => {\n        const user = JSON.parse(sessionStorage.getItem('key'));\n        setUser(user)\n        //get all jobs\n        axios.get(`http://localhost:5000/jobs/${user.id}`)\n            .then(res => {\n                if (res.data.length !== 0) {\n                    setJobs(res.data);\n                    setSpinner(false);\n                } else {\n                    setSpinner(false);\n                    toast(\"No company jobs found. Add one\", \"info\")\n                }\n            })\n            .catch(err => console.log(err));\n\n    }, []);\n\n\n\n\n    //close jobs create modal and reload jobs\n    const closeModal = () => {\n        setShow(false);\n\n        axios.get(`http://localhost:5000/jobs/${user.id}`)\n            .then(res => {\n                if (res.data.length > 0) {\n                    setJobs(res.data);\n                    setSpinner(false);\n                    \n                }\n            })\n            .catch(err => console.log(err));\n    };\n\n    const deleteJob = (e) => {\n        console.log(e.target.getAttribute('data-id'))\n        alert('clicked')\n    }\n\n    const editJob = (e) => {\n       const editTitle = e.target.getAttribute('data-id');\n\n        const edit = jobs.filter(j => {\n            return j.title === editTitle; \n        })\n\n        setEditData(edit);\n\n    }\n\n    return (\n        <>\n            <br /><br />\n            <br />\n            <div className=\"container\" style={{marginTop:'60px'}}>\n                <div className=\"container\">\n                    <div className=\"row\" style={{ background: '#C4C4C4', height: '60px', paddingBottom: '20px', paddingTop: '10px', paddingLeft: '40px' }}>\n                        <div className=\"col-lg-8\"><SearchBar /></div>\n\n                        <div className=\"col-lg-4 d-flex justify-content-end\" style={{ cursor: 'pointer'}} onClick={() => setShow(!show)}>\n                            <span style={{ marginTop: '10px', color: '#3F51B5', fontSize: '16px', fontWeight: 'bolder' }}>Add Jobs</span>\n                        </div>\n                    </div>\n                </div><br />\n                <div className=\"container\">\n                    <br /><br />\n                    <div className=\"d-flex justify-content-space-around\" style={{ textAlign: 'center' }}>\n                        <div className=\"col\"><span style={{ fontSize: \"18px\", fontWeight: \"bold\" }}>Job Title</span></div>\n                        <div className=\"col\"><span style={{ fontSize: \"18px\", fontWeight: \"bold\" }}>Start Date</span></div>\n                        <div className=\"col\"><span style={{ fontSize: \"18px\", fontWeight: \"bold\" }}>Dead Line</span></div>\n                        <div className=\"col\"><span style={{ fontSize: \"18px\", fontWeight: \"bold\" }}>Expected Resumption Date</span></div>\n                        <div className=\"col\" style={{ fontWeight: \"bold\" }}><span style={{ fontSize: \"18px\", float: 'right', marginRight: '60px' }}>View</span></div>\n                    </div><br /><br />\n\n                    {\n                        spinner ? <Spinner animation=\"grow\" /> :\n                            jobs.map(job => {\n                                return job.jobs.map((j, index) => {\n                                    return (\n                                        <>\n                                            <div className=\"row d-flex justify-content-space-around\" key={index} style={{ height: '50px', background: \"#FFFFFF\", borderRadius: '5px', lineHeight: '48px', marginBottom: '15px', textAlign: 'center',boxSizing:'border-box' }}>\n                                                <div className=\"col col-xs-2\" style={{ textAlign: 'center' }}>{j.title}</div>\n                                                <div className=\"col col-xs-2\" >{j.start_date}</div>\n                                                <div className=\"col col-xs-2\" >{j.dead_line}</div>\n                                                <div className=\"col col-xs-2\" >{j.erd}</div>\n                                                <div className=\"col col-xs-2 \">\n\n                                                    <div className=\"d-flex align-items-center ml-auto\">\n                                                        <Dropdown>\n                                                            <Dropdown.Toggle id=\"dropdown-basic\" style={{ color: 'black', fontWeight: 'bolder' }}>\n                                                                ....\n                                                        </Dropdown.Toggle>\n                                                            <Dropdown.Menu>\n                                                                <Dropdown.Item data-index={index} data-id={j.title} onClick={editJob} ><EditIcon style={{ color: 'green' }} /> Edit</Dropdown.Item>\n                                                                <Dropdown.Item data-index={index} data-id={j._id} onClick={deleteJob} ><DeleteIcon style={{ color: 'brown' }} /> Delete</Dropdown.Item>\n                                                            </Dropdown.Menu>\n                                                        </Dropdown>\n                                                    </div>\n\n                                                </div>\n                                            </div>\n                                        </>\n                                    );\n                                })\n                            })\n                    }\n\n                </div>\n            </div>\n            <CreateJob show={show} onHide={() => setShow(!show)} closeModal={closeModal} />\n        </>\n    );\n}\n\nexport default Jobs;"]},"metadata":{},"sourceType":"module"}