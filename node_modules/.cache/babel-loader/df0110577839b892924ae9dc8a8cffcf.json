{"ast":null,"code":"import _slicedToArray from\"/Users/mac/Desktop/esgrown/node_modules/@babel/runtime/helpers/esm/slicedToArray\";import React,{useEffect,useState}from'react';import{Spinner}from'react-bootstrap';import axios from'axios';import GenServiceCard from'./gen_service_card';var LMService=function LMService(){var _useState=useState(true),_useState2=_slicedToArray(_useState,2),spinner=_useState2[0],setSpinner=_useState2[1];var _useState3=useState([]),_useState4=_slicedToArray(_useState3,2),data=_useState4[0],setData=_useState4[1];//get data from api\nuseEffect(function(){var user=JSON.parse(sessionStorage.getItem('key'));axios.get(\"http://localhost:5000/servicecontentlm/\").then(function(res){if(user.status===\"individual\"&&user.org_type===\"school\"&&user.sub_status===\"active\"){var teacherData=res.data.filter(function(d){return d.user_class==='teacher';});setData(teacherData);}else if(user.status==='individual'&&user.org_type===\"company\"&&user.sub_status===\"active\"){var staffData=res.data.filter(function(d){return d.user_class==='company-staff';});setData(staffData);}else if(user.status==='individual'&&user.org_type===null){var indiv=res.data.filter(function(d){return d.user_class==='individual';});setData(indiv);}setSpinner(false);}).catch(function(err){return console.log(err);});},[]);return(// <div className=\"container\">\n//     <div className=\"row\">\n//         <div className=\"col col-lg-12 col-sm-6\" style={{ width: '100%', height: 500, boxShadow: '0px 0px 5px 5px rgba(0,0,0,0.15)', background: '#ffffff', padding: '20px', borderRadius: '10px', overflow: 'scroll' }}>\n//             <div className=\"\">\n//                 <div>\n//                     {spinner ? <Spinner animation=\"grow\" /> : data.map((data) => {\n//                         return (\n//                             <div className=\"container\">\n//                                 <div className=\"row\">\n//                                     <div className=\"col-md-8 offset-md-2\" >\n//                                         <div className=\"card\" style={{ fontFamily: 'Roboto,sans-serif', boxShadow: '0px 0px 5px 5px rgba(0,0,0,0.15)', marginBottom: '10px' }}>\n//                                             <div className=\"card-content\" style={{ padding: '10px' }}>\n//                                                 {/* <img className=\"img-responsive\" src=\"http://lorempixel.com/555/300/sports\" alt=\"placeholder\" style={{ width: '100%' }} /> */}\n//                                                 {\n//                                                     data.media ? data.media.split('/')[0] === \"data:image\" ? <img src={data.media} style={{ width: '100%' }} /> : <video src={data.media} controls style={{ width: '100%' }}></video> : ''\n//                                                 }\n//                                                 <h6>{data.title}</h6>\n//                                                 <p>{data.body}</p>\n//                                             </div>\n//                                         </div>\n//                                     </div>\n//                                 </div>\n//                             </div>\n//                         )\n//                     })}\n//                 </div>\n//             </div>\n//         </div>\n//     </div>\n// </div>\nReact.createElement(React.fragment,null,spinner?React.createElement(\"div\",{className:\"d-flex justify-content-center\"},React.createElement(\"i\",{className:\"fa fa-spinner fa-spin\"})):data.map(function(data){return React.createElement(GenServiceCard,{data:data});})));};export default LMService;","map":{"version":3,"sources":["/Users/mac/Desktop/esgrown/src/components/ind_dashboard_components/services-components/service-cards/lmservice.js"],"names":["React","useEffect","useState","Spinner","axios","GenServiceCard","LMService","spinner","setSpinner","data","setData","user","JSON","parse","sessionStorage","getItem","get","then","res","status","org_type","sub_status","teacherData","filter","d","user_class","staffData","indiv","catch","err","console","log","map"],"mappings":"6GAAA,MAAOA,CAAAA,KAAP,EAAgBC,SAAhB,CAA2BC,QAA3B,KAA2C,OAA3C,CACA,OAASC,OAAT,KAAwB,iBAAxB,CACA,MAAOC,CAAAA,KAAP,KAAkB,OAAlB,CACA,MAAOC,CAAAA,cAAP,KAA2B,oBAA3B,CAMA,GAAMC,CAAAA,SAAS,CAAG,QAAZA,CAAAA,SAAY,EAAM,eAEUJ,QAAQ,CAAC,IAAD,CAFlB,wCAEbK,OAFa,eAEJC,UAFI,8BAGIN,QAAQ,CAAC,EAAD,CAHZ,yCAGbO,IAHa,eAGPC,OAHO,eAMpB;AACAT,SAAS,CAAC,UAAM,CACZ,GAAMU,CAAAA,IAAI,CAAGC,IAAI,CAACC,KAAL,CAAWC,cAAc,CAACC,OAAf,CAAuB,KAAvB,CAAX,CAAb,CACAX,KAAK,CAACY,GAAN,4CACKC,IADL,CACU,SAAAC,GAAG,CAAI,CACT,GAAIP,IAAI,CAACQ,MAAL,GAAgB,YAAhB,EAAgCR,IAAI,CAACS,QAAL,GAAkB,QAAlD,EAA8DT,IAAI,CAACU,UAAL,GAAoB,QAAtF,CAAgG,CAE5F,GAAMC,CAAAA,WAAW,CAAGJ,GAAG,CAACT,IAAJ,CAASc,MAAT,CAAgB,SAAAC,CAAC,CAAI,CACrC,MAAOA,CAAAA,CAAC,CAACC,UAAF,GAAiB,SAAxB,CACH,CAFmB,CAApB,CAGAf,OAAO,CAACY,WAAD,CAAP,CAEH,CAPD,IAOO,IAAIX,IAAI,CAACQ,MAAL,GAAgB,YAAhB,EAAgCR,IAAI,CAACS,QAAL,GAAkB,SAAlD,EAA+DT,IAAI,CAACU,UAAL,GAAoB,QAAvF,CAAiG,CAEpG,GAAMK,CAAAA,SAAS,CAAGR,GAAG,CAACT,IAAJ,CAASc,MAAT,CAAgB,SAAAC,CAAC,CAAI,CACnC,MAAOA,CAAAA,CAAC,CAACC,UAAF,GAAiB,eAAxB,CACH,CAFiB,CAAlB,CAGAf,OAAO,CAACgB,SAAD,CAAP,CAEH,CAPM,IAOA,IAAIf,IAAI,CAACQ,MAAL,GAAgB,YAAhB,EAAgCR,IAAI,CAACS,QAAL,GAAkB,IAAtD,CAA4D,CAE/D,GAAMO,CAAAA,KAAK,CAAGT,GAAG,CAACT,IAAJ,CAASc,MAAT,CAAgB,SAAAC,CAAC,CAAI,CAC/B,MAAOA,CAAAA,CAAC,CAACC,UAAF,GAAiB,YAAxB,CACH,CAFa,CAAd,CAGAf,OAAO,CAACiB,KAAD,CAAP,CACH,CACDnB,UAAU,CAAC,KAAD,CAAV,CACH,CAxBL,EAyBKoB,KAzBL,CAyBW,SAAAC,GAAG,QAAIC,CAAAA,OAAO,CAACC,GAAR,CAAYF,GAAZ,CAAJ,EAzBd,EA0BH,CA5BQ,CA4BN,EA5BM,CAAT,CAgCA,MACI;AACA;AACA;AACA;AACA;AACA;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAEA,oBAAC,KAAD,CAAO,QAAP,MAEQtB,OAAO,CAAG,2BAAK,SAAS,CAAC,+BAAf,EAA+C,yBAAG,SAAS,CAAC,uBAAb,EAA/C,CAAH,CAAoGE,IAAI,CAACuB,GAAL,CAAS,SAACvB,IAAD,CAAU,CACtH,MACI,qBAAC,cAAD,EAAgB,IAAI,CAAEA,IAAtB,EADJ,CAEE,CAHiG,CAFnH,CAlCJ,EA2CH,CAlFD,CAoFA,cAAeH,CAAAA,SAAf","sourcesContent":["import React, { useEffect, useState } from 'react';\nimport { Spinner } from 'react-bootstrap';\nimport axios from 'axios';\nimport GenServiceCard from './gen_service_card';\n\n\n\n\n\nconst LMService = () => {\n\n    const [spinner, setSpinner] = useState(true)\n    const [data, setData] = useState([])\n\n\n    //get data from api\n    useEffect(() => {\n        const user = JSON.parse(sessionStorage.getItem('key'));\n        axios.get(`http://localhost:5000/servicecontentlm/`)\n            .then(res => {\n                if (user.status === \"individual\" && user.org_type === \"school\" && user.sub_status === \"active\") {\n\n                    const teacherData = res.data.filter(d => {\n                        return d.user_class === 'teacher'\n                    })\n                    setData(teacherData);\n\n                } else if (user.status === 'individual' && user.org_type === \"company\" && user.sub_status === \"active\") {\n\n                    const staffData = res.data.filter(d => {\n                        return d.user_class === 'company-staff'\n                    })\n                    setData(staffData);\n\n                } else if (user.status === 'individual' && user.org_type === null) {\n\n                    const indiv = res.data.filter(d => {\n                        return d.user_class === 'individual'\n                    })\n                    setData(indiv);\n                }\n                setSpinner(false);\n            })\n            .catch(err => console.log(err))\n    }, []);\n\n\n\n    return (\n        // <div className=\"container\">\n        //     <div className=\"row\">\n        //         <div className=\"col col-lg-12 col-sm-6\" style={{ width: '100%', height: 500, boxShadow: '0px 0px 5px 5px rgba(0,0,0,0.15)', background: '#ffffff', padding: '20px', borderRadius: '10px', overflow: 'scroll' }}>\n        //             <div className=\"\">\n        //                 <div>\n        //                     {spinner ? <Spinner animation=\"grow\" /> : data.map((data) => {\n\n        //                         return (\n        //                             <div className=\"container\">\n        //                                 <div className=\"row\">\n        //                                     <div className=\"col-md-8 offset-md-2\" >\n        //                                         <div className=\"card\" style={{ fontFamily: 'Roboto,sans-serif', boxShadow: '0px 0px 5px 5px rgba(0,0,0,0.15)', marginBottom: '10px' }}>\n        //                                             <div className=\"card-content\" style={{ padding: '10px' }}>\n        //                                                 {/* <img className=\"img-responsive\" src=\"http://lorempixel.com/555/300/sports\" alt=\"placeholder\" style={{ width: '100%' }} /> */}\n        //                                                 {\n        //                                                     data.media ? data.media.split('/')[0] === \"data:image\" ? <img src={data.media} style={{ width: '100%' }} /> : <video src={data.media} controls style={{ width: '100%' }}></video> : ''\n        //                                                 }\n        //                                                 <h6>{data.title}</h6>\n        //                                                 <p>{data.body}</p>\n        //                                             </div>\n        //                                         </div>\n\n        //                                     </div>\n        //                                 </div>\n        //                             </div>\n        //                         )\n        //                     })}\n        //                 </div>\n        //             </div>\n        //         </div>\n        //     </div>\n        // </div>\n\n        <React.fragment>\n            {\n                spinner ? <div className=\"d-flex justify-content-center\"><i className=\"fa fa-spinner fa-spin\"></i></div> : data.map((data) => {\n                        return (\n                            <GenServiceCard data={data}/>\n                        )})\n            }\n        </React.fragment>\n    );\n}\n\nexport default LMService;\n"]},"metadata":{},"sourceType":"module"}