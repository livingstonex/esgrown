{"ast":null,"code":"import _objectSpread from \"/Users/mac/Desktop/projekte/esgrown/node_modules/@babel/runtime/helpers/esm/objectSpread2\";\nimport _slicedToArray from \"/Users/mac/Desktop/projekte/esgrown/node_modules/@babel/runtime/helpers/esm/slicedToArray\";\nvar _jsxFileName = \"/Users/mac/Desktop/projekte/esgrown/src/components/admin/dashboards/super-admin/components/create-country-admin.js\";\nimport React, { useState, useEffect } from 'react';\nimport axios from 'axios';\nimport { Card, CardContent } from '@material-ui/core';\nimport { Spinner, Col } from 'react-bootstrap';\n\nconst CreateCountryAdmin = () => {\n  const _useState = useState(false),\n        _useState2 = _slicedToArray(_useState, 2),\n        spinner = _useState2[0],\n        setSpinner = _useState2[1];\n\n  const _useState3 = useState(''),\n        _useState4 = _slicedToArray(_useState3, 2),\n        country = _useState4[0],\n        setCountry = _useState4[1];\n\n  const _useState5 = useState(''),\n        _useState6 = _slicedToArray(_useState5, 2),\n        username = _useState6[0],\n        setUsername = _useState6[1];\n\n  const _useState7 = useState({\n    name: '',\n    email: '',\n    privileges: '',\n    username: '',\n    password: '',\n    usertype: 'Country Admin'\n  }),\n        _useState8 = _slicedToArray(_useState7, 2),\n        state = _useState8[0],\n        setState = _useState8[1];\n\n  const handleChange = e => {\n    const name = e.target.name;\n    const value = e.target.value;\n    setState(_objectSpread({}, state, {\n      [name]: value\n    }));\n  };\n\n  const checkCountry = e => {\n    const country = e.target.value;\n    axios.post(`http://localhost:5000/admin/check/${country}`).then(res => {\n      if (res.data.length > 0) {\n        alert(\"An admin already exist for \" + country);\n      } else {\n        setCountry(country);\n      }\n\n      console.log(res.data);\n    }).catch(err => console.log(err));\n  };\n\n  const checkUsername = e => {\n    const u = e.target.value;\n    console.log(e.target.value);\n    axios.post(`http://localhost:5000/admin/check/username/${u}`).then(res => {\n      if (res.data.length > 0) {\n        alert(`username ${u} already exist`);\n      }\n    }).catch(err => console.log(err));\n  };\n\n  const create = () => {\n    setSpinner(true);\n    const data = {\n      name: state.name,\n      country: country,\n      email: state.email,\n      username: state.username,\n      password: state.password,\n      role: state.usertype,\n      privilege: state.privileges.split('/')\n    };\n    axios.post(`http://localhost:5000/admin/add`, data).then(res => {\n      console.log(res.data);\n\n      if (res.data) {\n        alert('Admin created successfully');\n        setState({\n          name: '',\n          email: '',\n          privileges: '',\n          username: '',\n          password: '',\n          usertype: ''\n        });\n        setSpinner(false);\n      }\n    }).catch(err => {\n      console.log(err);\n      setSpinner(false);\n    });\n  };\n\n  return React.createElement(React.Fragment, null, React.createElement(\"div\", {\n    className: \"container\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 100\n    },\n    __self: this\n  }, React.createElement(\"div\", {\n    className: \"row\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 101\n    },\n    __self: this\n  }, React.createElement(Col, {\n    md: {\n      span: 12,\n      offset: 3\n    },\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 102\n    },\n    __self: this\n  }, React.createElement(Card, {\n    className: \"col col-sm-6 col-md-offset-3\",\n    style: {\n      background: '#F7F7F7'\n    },\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 103\n    },\n    __self: this\n  }, React.createElement(CardContent, {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 104\n    },\n    __self: this\n  }, React.createElement(\"div\", {\n    className: \"row mt-3\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 105\n    },\n    __self: this\n  }, React.createElement(\"div\", {\n    className: \"col\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 106\n    },\n    __self: this\n  }, React.createElement(\"label\", {\n    style: {\n      fontWeight: 'bold'\n    },\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 107\n    },\n    __self: this\n  }, \"Full Name\"), React.createElement(\"input\", {\n    type: \"text\",\n    name: \"name\",\n    value: state.name,\n    onChange: handleChange,\n    placeholder: \"Admin Full Name\",\n    className: \"form-control\",\n    required: true,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 108\n    },\n    __self: this\n  }))), React.createElement(\"div\", {\n    className: \"row mt-3\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 112\n    },\n    __self: this\n  }, React.createElement(\"div\", {\n    className: \"col\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 113\n    },\n    __self: this\n  }, React.createElement(\"label\", {\n    style: {\n      fontWeight: 'bold'\n    },\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 114\n    },\n    __self: this\n  }, \"Username\"), React.createElement(\"input\", {\n    type: \"text\",\n    name: \"username\",\n    value: state.username,\n    onChange: handleChange,\n    onBlur: checkUsername,\n    placeholder: \"userName\",\n    className: \"form-control\",\n    required: true,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 115\n    },\n    __self: this\n  }))), React.createElement(\"div\", {\n    className: \"row mt-3\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 119\n    },\n    __self: this\n  }, React.createElement(\"div\", {\n    className: \"col\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 120\n    },\n    __self: this\n  }, React.createElement(\"label\", {\n    style: {\n      fontWeight: 'bold'\n    },\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 121\n    },\n    __self: this\n  }, \"Password\"), React.createElement(\"input\", {\n    type: \"password\",\n    name: \"password\",\n    value: state.password,\n    onChange: handleChange,\n    placeholder: \"Password\",\n    className: \"form-control\",\n    required: true,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 122\n    },\n    __self: this\n  }))), React.createElement(\"div\", {\n    className: \"row mt-3\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 125\n    },\n    __self: this\n  }, React.createElement(\"div\", {\n    className: \"col\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 126\n    },\n    __self: this\n  }, React.createElement(\"label\", {\n    style: {\n      fontWeight: 'bold'\n    },\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 127\n    },\n    __self: this\n  }, \"Country\"), React.createElement(\"select\", {\n    className: \"form-control\",\n    name: \"country\",\n    onChange: checkCountry,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 128\n    },\n    __self: this\n  }, React.createElement(\"option\", {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 129\n    },\n    __self: this\n  }, \"Select Country\"), React.createElement(\"option\", {\n    value: \"Nigeria\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 130\n    },\n    __self: this\n  }, \"Nigeria\"), React.createElement(\"option\", {\n    value: \"Ghana\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 131\n    },\n    __self: this\n  }, \"Ghana\"), React.createElement(\"option\", {\n    value: \"Zambia\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 132\n    },\n    __self: this\n  }, \"Zambia\"), React.createElement(\"option\", {\n    value: \"Egypt\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 133\n    },\n    __self: this\n  }, \"Egypt\"), React.createElement(\"option\", {\n    value: \"South Africa\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 134\n    },\n    __self: this\n  }, \"South Africa\")))), React.createElement(\"div\", {\n    className: \"row mt-3\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 139\n    },\n    __self: this\n  }, React.createElement(\"div\", {\n    className: \"col\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 140\n    },\n    __self: this\n  }, React.createElement(\"label\", {\n    style: {\n      fontWeight: 'bold'\n    },\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 141\n    },\n    __self: this\n  }, \"Email\"), React.createElement(\"input\", {\n    type: \"email\",\n    name: \"email\",\n    value: state.email,\n    onChange: handleChange,\n    placeholder: \"email\",\n    className: \"form-control\",\n    required: true,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 142\n    },\n    __self: this\n  }))), React.createElement(\"div\", {\n    className: \"row mt-3\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 145\n    },\n    __self: this\n  }, React.createElement(\"div\", {\n    className: \"col\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 146\n    },\n    __self: this\n  }, React.createElement(\"label\", {\n    style: {\n      fontWeight: 'bold'\n    },\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 147\n    },\n    __self: this\n  }, \"UserType\"), React.createElement(\"input\", {\n    type: \"text\",\n    name: \"usertype\",\n    value: \"Country Admin\",\n    disabled: true,\n    className: \"form-control\",\n    required: true,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 148\n    },\n    __self: this\n  }))), React.createElement(\"div\", {\n    className: \"row mt-3\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 151\n    },\n    __self: this\n  }, React.createElement(\"div\", {\n    className: \"col\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 152\n    },\n    __self: this\n  }, React.createElement(\"label\", {\n    style: {\n      fontWeight: 'bold'\n    },\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 153\n    },\n    __self: this\n  }, \"Privileges\"), React.createElement(\"select\", {\n    name: \"privileges\",\n    className: \"form-control\",\n    onChange: handleChange,\n    required: true,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 154\n    },\n    __self: this\n  }, React.createElement(\"option\", {\n    value: \"exercises\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 155\n    },\n    __self: this\n  }, \"Exercises\"), React.createElement(\"option\", {\n    value: \"services\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 156\n    },\n    __self: this\n  }, \"Services\"), React.createElement(\"option\", {\n    value: \"exercise/services\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 157\n    },\n    __self: this\n  }, \"Exercise And Services\")))), React.createElement(\"div\", {\n    className: \"row mt-3\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 162\n    },\n    __self: this\n  }, React.createElement(\"div\", {\n    className: \"col\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 163\n    },\n    __self: this\n  }, React.createElement(\"button\", {\n    className: \"btn border-0\",\n    style: {\n      background: '#21A5E7',\n      color: 'white',\n      float: 'right'\n    },\n    onClick: create,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 164\n    },\n    __self: this\n  }, spinner ? React.createElement(Spinner, {\n    as: \"span\",\n    animation: \"grow\",\n    size: \"sm\",\n    role: \"status\",\n    \"aria-hidden\": \"true\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 169\n    },\n    __self: this\n  }) : \"Create\")))))))));\n};\n\nexport default CreateCountryAdmin;","map":{"version":3,"sources":["/Users/mac/Desktop/projekte/esgrown/src/components/admin/dashboards/super-admin/components/create-country-admin.js"],"names":["React","useState","useEffect","axios","Card","CardContent","Spinner","Col","CreateCountryAdmin","spinner","setSpinner","country","setCountry","username","setUsername","name","email","privileges","password","usertype","state","setState","handleChange","e","target","value","checkCountry","post","then","res","data","length","alert","console","log","catch","err","checkUsername","u","create","role","privilege","split","span","offset","background","fontWeight","color","float"],"mappings":"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","sourcesContent":["import React, { useState, useEffect } from 'react';\nimport axios from 'axios';\nimport { Card, CardContent } from '@material-ui/core';\nimport { Spinner, Col } from 'react-bootstrap';\n\n\nconst CreateCountryAdmin = () => {\n\n\n    const [spinner, setSpinner] = useState(false);\n    const [country, setCountry] = useState('');\n    const [username, setUsername] = useState('');\n    const [state, setState] = useState(\n        {\n            name: '',\n            email: '',\n            privileges: '',\n            username: '',\n            password:'',\n            usertype: 'Country Admin'\n        }\n\n    );\n\n    const handleChange = (e) => {\n        const name = e.target.name;\n        const value = e.target.value;\n\n        setState({\n            ...state,\n            [name]: value\n        })\n    }\n\n    const checkCountry = (e) => {\n        const country = e.target.value;\n\n        axios.post(`http://localhost:5000/admin/check/${country}`)\n            .then(res => {\n                if (res.data.length > 0) {\n                    alert(\"An admin already exist for \" + country)\n                } else {\n                    setCountry(country);\n                }\n                console.log(res.data)\n            })\n            .catch(err => console.log(err));\n    };\n\n    const checkUsername = (e) => {\n        const u = e.target.value;\n        console.log(e.target.value);\n\n        axios.post(`http://localhost:5000/admin/check/username/${u}`)\n            .then(res => {\n                if (res.data.length > 0) {\n                    alert(`username ${u} already exist`)\n                } \n            })\n            .catch(err => console.log(err))\n    }\n\n    const create = () => {\n        setSpinner(true)\n        const data = {\n            name: state.name,\n            country: country,\n            email: state.email,\n            username: state.username,\n            password: state.password,\n            role: state.usertype,\n            privilege: state.privileges.split('/')\n\n        }\n        axios.post(`http://localhost:5000/admin/add`,data)\n            .then(res => {\n                console.log(res.data);\n            if (res.data) {\n                alert('Admin created successfully')\n                setState({\n                    name: '',\n                    email: '',\n                    privileges: '',\n                    username: '',\n                    password: '',\n                    usertype: ''\n                })\n                setSpinner(false)\n            }\n        })\n        .catch(err => {\n            console.log(err);\n            setSpinner(false)\n\n        })\n    }\n\n    return (\n        <>\n            <div className=\"container\">\n                <div className=\"row\">\n                    <Col md={{ span: 12, offset: 3 }}>\n                        <Card className=\"col col-sm-6 col-md-offset-3\" style={{ background: '#F7F7F7' }}>\n                            <CardContent>\n                                <div className=\"row mt-3\">\n                                    <div className=\"col\">\n                                        <label style={{ fontWeight: 'bold' }}>Full Name</label>\n                                        <input type=\"text\" name=\"name\" value={state.name} onChange={handleChange} placeholder=\"Admin Full Name\" className=\"form-control\" required />\n                                    </div>\n                                </div>\n\n                                <div className=\"row mt-3\">\n                                    <div className=\"col\">\n                                        <label style={{ fontWeight: 'bold' }}>Username</label>\n                                        <input type=\"text\" name=\"username\" value={state.username} onChange={handleChange} onBlur={checkUsername} placeholder=\"userName\" className=\"form-control\" required />\n                                    </div>\n                                </div>\n\n                                <div className=\"row mt-3\">\n                                    <div className=\"col\">\n                                        <label style={{ fontWeight: 'bold' }}>Password</label>\n                                        <input type=\"password\" name=\"password\" value={state.password} onChange={handleChange} placeholder=\"Password\" className=\"form-control\" required />\n                                    </div>\n                                </div>\n                                <div className=\"row mt-3\">\n                                    <div className=\"col\">\n                                        <label style={{ fontWeight: 'bold' }}>Country</label>\n                                        <select className=\"form-control\" name=\"country\" onChange={checkCountry}>\n                                            <option>Select Country</option>\n                                            <option value=\"Nigeria\">Nigeria</option>\n                                            <option value=\"Ghana\">Ghana</option>\n                                            <option value=\"Zambia\">Zambia</option>\n                                            <option value=\"Egypt\">Egypt</option>\n                                            <option value=\"South Africa\">South Africa</option>\n                                        </select>\n                                    </div>\n                                </div>\n\n                                <div className=\"row mt-3\">\n                                    <div className=\"col\">\n                                        <label style={{ fontWeight: 'bold' }}>Email</label>\n                                        <input type=\"email\" name=\"email\" value={state.email} onChange={handleChange} placeholder=\"email\" className=\"form-control\" required />\n                                    </div>\n                                </div>\n                                <div className=\"row mt-3\">\n                                    <div className=\"col\">\n                                        <label style={{ fontWeight: 'bold' }}>UserType</label>\n                                        <input type=\"text\" name=\"usertype\" value=\"Country Admin\" disabled className=\"form-control\" required />\n                                    </div>\n                                </div>\n                                <div className=\"row mt-3\">\n                                    <div className=\"col\">\n                                        <label style={{ fontWeight: 'bold' }}>Privileges</label>\n                                        <select name=\"privileges\" className=\"form-control\" onChange={handleChange} required>\n                                            <option value=\"exercises\">Exercises</option>\n                                            <option value=\"services\">Services</option>\n                                            <option value=\"exercise/services\">Exercise And Services</option>\n                                        </select>\n                                    </div>\n                                </div>\n\n                                <div className=\"row mt-3\">\n                                    <div className=\"col\">\n                                        <button\n                                            className=\"btn border-0\"\n                                            style={{ background: '#21A5E7', color: 'white', float: 'right' }}\n                                            onClick={create}\n                                        >\n                                            {spinner ? <Spinner as=\"span\" animation=\"grow\" size=\"sm\" role=\"status\" aria-hidden=\"true\" /> : \"Create\"}\n                                        </button>\n                                    </div>\n                                </div>\n                            </CardContent>\n                        </Card>\n                    </Col>\n                </div>\n            </div>\n        </>\n    );\n\n}\nexport default CreateCountryAdmin;"]},"metadata":{},"sourceType":"module"}