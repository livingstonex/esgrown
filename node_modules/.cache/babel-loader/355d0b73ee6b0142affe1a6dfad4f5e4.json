{"ast":null,"code":"import _slicedToArray from\"/Users/mac/Desktop/esgrown/node_modules/@babel/runtime/helpers/esm/slicedToArray\";import React,{useEffect,useState}from'react';import{Spinner}from'react-bootstrap';import axios from'axios';import GenServiceCard from'./gen_service_card';var EASService=function EASService(){var _useState=useState(true),_useState2=_slicedToArray(_useState,2),spinner=_useState2[0],setSpinner=_useState2[1];var _useState3=useState([]),_useState4=_slicedToArray(_useState3,2),data=_useState4[0],setData=_useState4[1];var _useState5=useState(),_useState6=_slicedToArray(_useState5,2),chunk=_useState6[0],setChunk=_useState6[1];//get data from api\nuseEffect(function(){var user=JSON.parse(sessionStorage.getItem('key'));if(user.sub_status_compt_mgt==='active'){axios.get(\"http://localhost:5000/competence/service/\").then(function(res){if(user.tic!==null){var teacherData=res.data.filter(function(td){return td.user_class==='teacher';});setData(teacherData);}else{setData(res.data);}setSpinner(false);}).catch(function(err){return console.log(err);});}},[]);return(// <div className=\"container\">\n//     <div className=\"row\">\n//         <div className=\"col col-lg-10 col-sm-6\"\n//             style={{ width: '100%', height: '100%', boxShadow: '0px 0px 5px 5px rgba(0,0,0,0.15)', background: '#ffffff', padding: '20px', borderRadius: '10px', overflow: 'scroll', overflowX: 'hidden' }}>\n//             <div className=\"\">\n//                 <div>\n//                     {spinner ? <Spinner animation=\"grow\" /> : data.map((data) => {\n//                         return (\n//                             <div className=\"container\">\n//                                 <div className=\"row\">\n//                                     <div className=\"col-md-12\" style={{ width: '100%', height: '100%' }}>\n//                                         <div className=\"card\" style={{ fontFamily: 'Roboto,sans-serif', boxShadow: '0px 0px 5px 5px rgba(0,0,0,0.15)', marginBottom: '10px' }}>\n//                                             <div className=\"card-content\" style={{ padding: '10px' }}>\n//                                                 {\n//                                                     data.media ? data.media.split('/')[0] === \"data:image\" ? <img src={data.media} style={{ width: '100%' }} /> : <video src={data.media} controls style={{ width: '100%' }}></video> : ''\n//                                                 }\n//                                                 <h6 style={{ marginTop: '10px' }}>Title: {data.title}</h6>\n//                                                 <p>{data.body}</p>\n//                                             </div>\n//                                         </div>\n//                                     </div>\n//                                 </div>\n//                             </div>\n//                         )\n//                     })}\n//                 </div>\n//             </div>\n//         </div>\n//     </div>\n// </div>\nReact.createElement(React.Fragment,null,spinner?React.createElement(\"div\",{className:\"d-flex justify-content-center\"},React.createElement(\"i\",{className:\"fa fa-spinner fa-spin\"})):data.map(function(data){return React.createElement(GenServiceCard,{data:data});})));};export default EASService;","map":{"version":3,"sources":["/Users/mac/Desktop/esgrown/src/components/ind_dashboard_components/services-components/service-cards/compt-mgt.js"],"names":["React","useEffect","useState","Spinner","axios","GenServiceCard","EASService","spinner","setSpinner","data","setData","chunk","setChunk","user","JSON","parse","sessionStorage","getItem","sub_status_compt_mgt","get","then","res","tic","teacherData","filter","td","user_class","catch","err","console","log","map"],"mappings":"6GAAA,MAAOA,CAAAA,KAAP,EAAgBC,SAAhB,CAA2BC,QAA3B,KAA2C,OAA3C,CACA,OAASC,OAAT,KAAwB,iBAAxB,CACA,MAAOC,CAAAA,KAAP,KAAkB,OAAlB,CACA,MAAOC,CAAAA,cAAP,KAA2B,oBAA3B,CAMA,GAAMC,CAAAA,UAAU,CAAG,QAAbA,CAAAA,UAAa,EAAM,eAESJ,QAAQ,CAAC,IAAD,CAFjB,wCAEdK,OAFc,eAELC,UAFK,8BAGGN,QAAQ,CAAC,EAAD,CAHX,yCAGdO,IAHc,eAGRC,OAHQ,8BAIKR,QAAQ,EAJb,yCAIdS,KAJc,eAIPC,QAJO,eAOrB;AACAX,SAAS,CAAC,UAAM,CACZ,GAAMY,CAAAA,IAAI,CAAGC,IAAI,CAACC,KAAL,CAAWC,cAAc,CAACC,OAAf,CAAuB,KAAvB,CAAX,CAAb,CAEA,GAAIJ,IAAI,CAACK,oBAAL,GAA8B,QAAlC,CAA4C,CAExCd,KAAK,CAACe,GAAN,8CACKC,IADL,CACU,SAAAC,GAAG,CAAI,CACT,GAAIR,IAAI,CAACS,GAAL,GAAa,IAAjB,CAAuB,CACnB,GAAMC,CAAAA,WAAW,CAAGF,GAAG,CAACZ,IAAJ,CAASe,MAAT,CAAgB,SAAAC,EAAE,CAAI,CACtC,MAAOA,CAAAA,EAAE,CAACC,UAAH,GAAkB,SAAzB,CACH,CAFmB,CAApB,CAIAhB,OAAO,CAACa,WAAD,CAAP,CAEH,CAPD,IAOO,CACHb,OAAO,CAACW,GAAG,CAACZ,IAAL,CAAP,CACH,CACDD,UAAU,CAAC,KAAD,CAAV,CACH,CAbL,EAcKmB,KAdL,CAcW,SAAAC,GAAG,QAAIC,CAAAA,OAAO,CAACC,GAAR,CAAYF,GAAZ,CAAJ,EAdd,EAeH,CAGJ,CAvBQ,CAuBN,EAvBM,CAAT,CAyBA,MACI;AACA;AACA;AACA;AACA;AACA;AACA;AAEA;AACA;AACA;AACA;AACA;AACA;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,oBAAC,KAAD,CAAO,QAAP,MAEQrB,OAAO,CAAG,2BAAK,SAAS,CAAC,+BAAf,EAA+C,yBAAG,SAAS,CAAC,uBAAb,EAA/C,CAAH,CAAoGE,IAAI,CAACsB,GAAL,CAAS,SAACtB,IAAD,CAAU,CAC1H,MACI,qBAAC,cAAD,EAAgB,IAAI,CAAEA,IAAtB,EADJ,CAGH,CAJ0G,CAFnH,CAjCJ,EA2CH,CA5ED,CA8EA,cAAeH,CAAAA,UAAf","sourcesContent":["import React, { useEffect, useState } from 'react';\nimport { Spinner } from 'react-bootstrap';\nimport axios from 'axios';\nimport GenServiceCard from './gen_service_card';\n\n\n\n\n\nconst EASService = () => {\n\n    const [spinner, setSpinner] = useState(true)\n    const [data, setData] = useState([])\n    const [chunk, setChunk] = useState();\n\n\n    //get data from api\n    useEffect(() => {\n        const user = JSON.parse(sessionStorage.getItem('key'));\n\n        if (user.sub_status_compt_mgt === 'active') {\n\n            axios.get(`http://localhost:5000/competence/service/`)\n                .then(res => {\n                    if (user.tic !== null) {\n                        const teacherData = res.data.filter(td => {\n                            return td.user_class === 'teacher'\n                        })\n                        \n                        setData(teacherData);\n\n                    } else {\n                        setData(res.data);\n                    }\n                    setSpinner(false);\n                })\n                .catch(err => console.log(err))\n        }\n\n        \n    }, []);\n\n    return (\n        // <div className=\"container\">\n        //     <div className=\"row\">\n        //         <div className=\"col col-lg-10 col-sm-6\"\n        //             style={{ width: '100%', height: '100%', boxShadow: '0px 0px 5px 5px rgba(0,0,0,0.15)', background: '#ffffff', padding: '20px', borderRadius: '10px', overflow: 'scroll', overflowX: 'hidden' }}>\n        //             <div className=\"\">\n        //                 <div>\n        //                     {spinner ? <Spinner animation=\"grow\" /> : data.map((data) => {\n\n        //                         return (\n        //                             <div className=\"container\">\n        //                                 <div className=\"row\">\n        //                                     <div className=\"col-md-12\" style={{ width: '100%', height: '100%' }}>\n        //                                         <div className=\"card\" style={{ fontFamily: 'Roboto,sans-serif', boxShadow: '0px 0px 5px 5px rgba(0,0,0,0.15)', marginBottom: '10px' }}>\n        //                                             <div className=\"card-content\" style={{ padding: '10px' }}>\n\n        //                                                 {\n        //                                                     data.media ? data.media.split('/')[0] === \"data:image\" ? <img src={data.media} style={{ width: '100%' }} /> : <video src={data.media} controls style={{ width: '100%' }}></video> : ''\n        //                                                 }\n        //                                                 <h6 style={{ marginTop: '10px' }}>Title: {data.title}</h6>\n        //                                                 <p>{data.body}</p>\n        //                                             </div>\n        //                                         </div>\n        //                                     </div>\n        //                                 </div>\n        //                             </div>\n        //                         )\n        //                     })}\n        //                 </div>\n        //             </div>\n        //         </div>\n        //     </div>\n        // </div>\n        <React.Fragment>\n            {\n                spinner ? <div className=\"d-flex justify-content-center\"><i className=\"fa fa-spinner fa-spin\"></i></div> : data.map((data) => {\n                    return (\n                        <GenServiceCard data={data} />\n                    )\n                })\n            }\n        </React.Fragment>\n    );\n}\n\nexport default EASService;\n"]},"metadata":{},"sourceType":"module"}