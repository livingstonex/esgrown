{"ast":null,"code":"import _defineProperty from\"/Users/mac/Desktop/esgrown/node_modules/@babel/runtime/helpers/esm/defineProperty\";import _objectSpread from\"/Users/mac/Desktop/esgrown/node_modules/@babel/runtime/helpers/esm/objectSpread2\";import _slicedToArray from\"/Users/mac/Desktop/esgrown/node_modules/@babel/runtime/helpers/esm/slicedToArray\";import React,{useEffect,useState}from'react';import axios from'axios';import{Card,CardContent,CardActionArea,Typography,CardActions}from'@material-ui/core';import{Spinner}from'react-bootstrap';import Modal from'./update-modal';import DeleteModal from'./delete-modal';var UpdatePrivileges=function UpdatePrivileges(){var _useState=useState([]),_useState2=_slicedToArray(_useState,2),admins=_useState2[0],setAdmins=_useState2[1];var _useState3=useState(false),_useState4=_slicedToArray(_useState3,2),spinner=_useState4[0],setSpinner=_useState4[1];var _useState5=useState([]),_useState6=_slicedToArray(_useState5,2),adminforupdate=_useState6[0],setAdminForUpdate=_useState6[1];var _useState7=useState(false),_useState8=_slicedToArray(_useState7,2),show=_useState8[0],setShow=_useState8[1];var _useState9=useState(false),_useState10=_slicedToArray(_useState9,2),deleteUserModal=_useState10[0],setDeleteUserModal=_useState10[1];var _useState11=useState(false),_useState12=_slicedToArray(_useState11,2),deleteUser=_useState12[0],setDeleteUser=_useState12[1];var _useState13=useState(false),_useState14=_slicedToArray(_useState13,2),Updatespinner=_useState14[0],setUpdateSpinner=_useState14[1];var _useState15=useState(),_useState16=_slicedToArray(_useState15,2),user=_useState16[0],setUser=_useState16[1];var _useState17=useState({EAS:false,EFA:false,LM:false,RM:false,LMExercise:false,RMExercise:false,AllServices:false,AllExercises:false}),_useState18=_slicedToArray(_useState17,2),privilege=_useState18[0],setPrivilege=_useState18[1];var showUpdateModal=function showUpdateModal(e){var adminId=e.target.getAttribute('data-id');var adminObj=admins.filter(function(ad){return ad._id===adminId;});setAdminForUpdate(adminObj[0]);setShow(true);};var getDelDetails=function getDelDetails(e){var adminId=e.target.getAttribute('data-id');var deladminObj=admins.filter(function(ad){return ad._id===adminId;});setDeleteUser(deladminObj[0]);setDeleteUserModal(true);};//get privileges to update\nvar getPrivileges=function getPrivileges(event){setPrivilege(_objectSpread({},privilege,_defineProperty({},event.target.name,event.target.checked)));};// update Admin privileges\nvar updateUser=function updateUser(){// setUpdateSpinner(true)\nvar userId=adminforupdate._id;var assignedPrivileges=Object.keys(privilege).filter(function(pri){return privilege[pri]==true;});var data={privilege:assignedPrivileges};axios.post(\"http://localhost:5000/admin/update/\".concat(userId),data).then(function(res){if(res.data){axios.post(\"http://localhost:5000/admin/admins/\".concat(user.country)).then(function(res){if(res.data){setAdmins(res.data);}}).catch(function(err){return console.log(err);});}setUpdateSpinner(false);setShow(false);}).catch(function(err){return console.log(err);});//clear old values\nsetPrivilege({EAS:false,EFA:false,LM:false,RM:false,LMExercise:false,RMExercise:false,AllServices:false,AllExercises:false});};var deleteCA=function deleteCA(){axios.post(\"http://localhost:5000/admin/delete/\".concat(deleteUser._id)).then(function(res){if(res.data){//fetch admins after delete\naxios.post(\"http://localhost:5000/admin/admins/\".concat(user.country)).then(function(res){if(res.data){setAdmins(res.data);setDeleteUserModal(false);}}).catch(function(err){return console.log(err);});}}).catch(function(err){return console.log(err);});};useEffect(function(){var user=JSON.parse(sessionStorage.getItem(\"key\"));setUser(user);setSpinner(true);axios.post(\"http://localhost:5000/admin/admins/\".concat(user.country)).then(function(res){if(res.data){setAdmins(res.data);setSpinner(false);}}).catch(function(err){console.log(err);setSpinner(false);});},[]);return React.createElement(React.Fragment,null,spinner?React.createElement(\"div\",{className:\"d-flex justify-content-center mt-4\"},React.createElement(\"h5\",{style:{fontFamily:'quicksand',color:'grey'}},\"No Admin Found, Trying to find...\"))// <Spinner as=\"span\" animation=\"grow\" size=\"sm\" role=\"status\" aria-hidden=\"true\" />\n:React.createElement(\"div\",{className:\"container mt-5\"},React.createElement(\"div\",{className:\"d-flex justify-content-center\"},React.createElement(\"h5\",{style:{fontFamily:'quicksand',color:'grey'}},\"Update Admins Privileges\")),React.createElement(\"div\",{className:\"row\"},admins.map(function(ad){return React.createElement(\"div\",{className:\"col col-lg-4 col-sm-6\"},React.createElement(Card,{style:{height:'310px',background:'#F7F7F7',marginBottom:'10px'}},React.createElement(CardContent,null,React.createElement(Typography,{gutterBottom:true,variant:\"\",component:\"h5\",style:{textAlign:'center'}},React.createElement(\"span\",null,ad.name)),React.createElement(\"div\",{style:{paddingLeft:'20px',fontSize:'16px'}},React.createElement(\"div\",{className:\"row\"},React.createElement(\"div\",null,\"Country:\"),React.createElement(\"div\",{style:{paddingLeft:'20px'}},ad.country)),React.createElement(\"br\",null),React.createElement(\"div\",{className:\"row\"},React.createElement(\"div\",null,\"Email:\"),React.createElement(\"div\",{style:{paddingLeft:'20px'}},ad.email)),React.createElement(\"br\",null),React.createElement(\"div\",{className:\"row\"},React.createElement(\"div\",null,\"Username:\"),React.createElement(\"div\",{style:{paddingLeft:'20px'}},ad.username)),React.createElement(\"br\",null),React.createElement(\"div\",{className:\"row\"},React.createElement(\"div\",null,\"Privileges:\",React.createElement(\"ul\",null,ad.privilege.map(function(pri){return React.createElement(\"li\",null,pri);}))))),React.createElement(\"div\",{style:{textAlign:'center'}},React.createElement(\"button\",{className:\"btn btn-sm btn-default pull-left\",style:{fontStyle:'italic',boxShadow:'1px 1px 1px 1px rgb(0,0,0,.3)',marginRight:'20px'},\"data-id\":ad._id,onClick:showUpdateModal},\"Update\"),React.createElement(\"button\",{className:\"btn btn-sm btn-default pull-right\",style:{fontStyle:'italic',boxShadow:'1px 1px 1px 1px rgb(0,0,0,.3)'},\"data-id\":ad._id,onClick:getDelDetails},\"Delete\")))));}))),React.createElement(Modal,{show:show,hide:function hide(){return setShow(!show);},admin:adminforupdate,getprivilege:getPrivileges,privilege:privilege,update:updateUser,spinner:Updatespinner}),React.createElement(DeleteModal,{show:deleteUserModal,hide:function hide(){return setDeleteUserModal(!deleteUserModal);},user:deleteUser,del:deleteCA}));};export default UpdatePrivileges;","map":{"version":3,"sources":["/Users/mac/Desktop/esgrown/src/components/admin/dashboards/country-admin/components/update-privileges.js"],"names":["React","useEffect","useState","axios","Card","CardContent","CardActionArea","Typography","CardActions","Spinner","Modal","DeleteModal","UpdatePrivileges","admins","setAdmins","spinner","setSpinner","adminforupdate","setAdminForUpdate","show","setShow","deleteUserModal","setDeleteUserModal","deleteUser","setDeleteUser","Updatespinner","setUpdateSpinner","user","setUser","EAS","EFA","LM","RM","LMExercise","RMExercise","AllServices","AllExercises","privilege","setPrivilege","showUpdateModal","e","adminId","target","getAttribute","adminObj","filter","ad","_id","getDelDetails","deladminObj","getPrivileges","event","name","checked","updateUser","userId","assignedPrivileges","Object","keys","pri","data","post","then","res","country","catch","err","console","log","deleteCA","JSON","parse","sessionStorage","getItem","fontFamily","color","map","height","background","marginBottom","textAlign","paddingLeft","fontSize","email","username","fontStyle","boxShadow","marginRight"],"mappings":"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","sourcesContent":["import React, { useEffect, useState } from 'react';\nimport axios from 'axios';\nimport { Card, CardContent, CardActionArea, Typography, CardActions, } from '@material-ui/core';\nimport { Spinner } from 'react-bootstrap';\nimport Modal from './update-modal';\nimport DeleteModal from './delete-modal';\n\n\n\nconst UpdatePrivileges = () => {\n\n    const [admins, setAdmins] = useState([]);\n    const [spinner, setSpinner] = useState(false);\n    const [adminforupdate, setAdminForUpdate] = useState([]);\n    const [show, setShow] = useState(false);\n    const [deleteUserModal, setDeleteUserModal] = useState(false);\n    const [deleteUser, setDeleteUser] = useState(false);\n    const [Updatespinner, setUpdateSpinner] = useState(false);\n    const [user, setUser] = useState();\n    const [privilege, setPrivilege] = useState({\n        EAS: false,\n        EFA: false,\n        LM: false,\n        RM: false,\n        LMExercise: false,\n        RMExercise: false,\n        AllServices: false,\n        AllExercises: false\n    });\n\n\n\n    const showUpdateModal = (e) => {\n        const adminId = e.target.getAttribute('data-id');\n\n        const adminObj = admins.filter(ad => {\n            return ad._id === adminId\n        })\n\n        setAdminForUpdate(adminObj[0])\n        setShow(true)\n    }\n\n\n    const getDelDetails = e => {\n\n        const adminId = e.target.getAttribute('data-id');\n\n        const deladminObj = admins.filter(ad => {\n            return ad._id === adminId\n        })\n        setDeleteUser(deladminObj[0]);\n        setDeleteUserModal(true);\n\n\n    }\n\n    //get privileges to update\n    const getPrivileges = event => {\n        setPrivilege({ ...privilege, [event.target.name]: event.target.checked });\n    };\n\n\n    // update Admin privileges\n    const updateUser = () => {\n\n        // setUpdateSpinner(true)\n\n        const userId = adminforupdate._id;\n\n        const assignedPrivileges = Object.keys(privilege).filter(pri => {\n            return privilege[pri] == true;\n        })\n\n        const data = {\n            privilege: assignedPrivileges\n        }\n\n\n        axios.post(`http://localhost:5000/admin/update/${userId}`, data)\n            .then(res => {\n                if (res.data) {\n\n                    axios.post(`http://localhost:5000/admin/admins/${user.country}`)\n                        .then(res => {\n                            if (res.data) {\n                                setAdmins(res.data);\n                            }\n                        })\n                        .catch(err => console.log(err))\n                }\n                setUpdateSpinner(false);\n                setShow(false);\n            })\n            .catch(err => console.log(err));\n\n        //clear old values\n        setPrivilege({\n            EAS: false,\n            EFA: false,\n            LM: false,\n            RM: false,\n            LMExercise: false,\n            RMExercise: false,\n            AllServices: false,\n            AllExercises: false\n        })\n    }\n\n\n\n\n    const deleteCA = () => {\n\n        axios.post(`http://localhost:5000/admin/delete/${deleteUser._id}`)\n            .then(res => {\n                if (res.data) {\n\n                    //fetch admins after delete\n                    axios.post(`http://localhost:5000/admin/admins/${user.country}`)\n                        .then(res => {\n                            if (res.data) {\n                                setAdmins(res.data);\n                                setDeleteUserModal(false);\n                            }\n                        })\n                        .catch(err => console.log(err))\n                }\n            })\n            .catch(err => console.log(err))\n\n    }\n\n\n\n    useEffect(() => {\n        const user = JSON.parse(sessionStorage.getItem(\"key\"));\n        setUser(user)\n\n        setSpinner(true)\n        axios.post(`http://localhost:5000/admin/admins/${user.country}`)\n            .then(res => {\n                if (res.data) {\n                    setAdmins(res.data);\n                    setSpinner(false);\n\n                }\n            })\n            .catch(err => {\n                console.log(err);\n                setSpinner(false);\n            })\n    }, []);\n\n\n    return (\n        <>\n            {\n                spinner ? <div className=\"d-flex justify-content-center mt-4\"><h5 style={{fontFamily:'quicksand', color:'grey'}}>No Admin Found, Trying to find...</h5></div>\n                // <Spinner as=\"span\" animation=\"grow\" size=\"sm\" role=\"status\" aria-hidden=\"true\" />\n                    :\n                    <div className=\"container mt-5\">\n                        <div className=\"d-flex justify-content-center\"><h5 style={{fontFamily:'quicksand', color:'grey'}}>Update Admins Privileges</h5></div>\n                        <div className=\"row\">\n\n                            {admins.map(ad => {\n                                return (\n\n                                    <div className=\"col col-lg-4 col-sm-6\">\n                                        <Card style={{ height: '310px', background: '#F7F7F7', marginBottom: '10px' }}>\n                                            <CardContent >\n                                                <Typography gutterBottom variant=\"\" component=\"h5\" style={{ textAlign: 'center' }}>\n                                                    <span >{ad.name}</span>\n                                                </Typography>\n\n                                                <div style={{ paddingLeft: '20px', fontSize: '16px' }}>\n                                                    <div className=\"row\" >\n                                                        <div>Country:</div>\n\n                                                        <div style={{ paddingLeft: '20px' }}>{ad.country}</div>\n                                                    </div><br />\n\n                                                    <div className=\"row\" >\n                                                        <div>Email:</div>\n\n                                                        <div style={{ paddingLeft: '20px' }}>{ad.email}</div>\n                                                    </div><br />\n\n                                                    <div className=\"row\" >\n                                                        <div>Username:</div>\n\n                                                        <div style={{ paddingLeft: '20px' }}>{ad.username}</div>\n                                                    </div><br />\n\n                                                    <div className=\"row\" >\n                                                        <div>Privileges:\n                                                                <ul>\n                                                                {ad.privilege.map(pri => {\n                                                                    return (\n                                                                        <li>{pri}</li>\n\n                                                                    );\n                                                                })}\n                                                            </ul>\n                                                        </div>\n                                                    </div>\n                                                </div>\n                                                <div style={{ textAlign: 'center' }}>\n                                                    <button className=\"btn btn-sm btn-default pull-left\" style={{ fontStyle: 'italic', boxShadow: '1px 1px 1px 1px rgb(0,0,0,.3)', marginRight: '20px' }} data-id={ad._id} onClick={showUpdateModal}>Update</button>\n                                                    <button className=\"btn btn-sm btn-default pull-right\" style={{ fontStyle: 'italic', boxShadow: '1px 1px 1px 1px rgb(0,0,0,.3)' }} data-id={ad._id} onClick={getDelDetails}>Delete</button>\n                                                </div>\n                                            </CardContent>\n\n                                        </Card>\n                                    </div>\n\n                                );\n                            })}\n                        </div>\n                    </div>\n            }\n            <Modal show={show} hide={() => setShow(!show)} admin={adminforupdate} getprivilege={getPrivileges} privilege={privilege} update={updateUser} spinner={Updatespinner} />\n            <DeleteModal show={deleteUserModal} hide={() => setDeleteUserModal(!deleteUserModal)} user={deleteUser} del={deleteCA} />\n        </>\n    );\n}\nexport default UpdatePrivileges;"]},"metadata":{},"sourceType":"module"}