{"ast":null,"code":"import _defineProperty from\"/Users/mac/Desktop/esgrown/node_modules/@babel/runtime/helpers/esm/defineProperty\";import _classCallCheck from\"/Users/mac/Desktop/esgrown/node_modules/@babel/runtime/helpers/esm/classCallCheck\";import _createClass from\"/Users/mac/Desktop/esgrown/node_modules/@babel/runtime/helpers/esm/createClass\";import _possibleConstructorReturn from\"/Users/mac/Desktop/esgrown/node_modules/@babel/runtime/helpers/esm/possibleConstructorReturn\";import _getPrototypeOf from\"/Users/mac/Desktop/esgrown/node_modules/@babel/runtime/helpers/esm/getPrototypeOf\";import _inherits from\"/Users/mac/Desktop/esgrown/node_modules/@babel/runtime/helpers/esm/inherits\";import React,{Component}from'react';import{Button,Form,FormGroup,Label,Input,Modal,ModalHeader,ModalBody,ModalFooter}from'reactstrap';import axios from'axios';var LmUpdateForm=/*#__PURE__*/function(_Component){_inherits(LmUpdateForm,_Component);function LmUpdateForm(){var _getPrototypeOf2;var _this;_classCallCheck(this,LmUpdateForm);for(var _len=arguments.length,args=new Array(_len),_key=0;_key<_len;_key++){args[_key]=arguments[_key];}_this=_possibleConstructorReturn(this,(_getPrototypeOf2=_getPrototypeOf(LmUpdateForm)).call.apply(_getPrototypeOf2,[this].concat(args)));_this.state={highestlevelOfEducation:'',natureOfBusiness:'',sub_status:false,user_id:'',message:''};_this.handleUpdate=function(){var data={nature_of_work_business:_this.state.natureOfBusiness,highest_level_of_education:_this.state.highestlevelOfEducation};axios.post(\"http://localhost:5000/subscriptionlm/update/\".concat(_this.state.user_id),data).then(function(response){if(response.status===200){_this.setState({message:'Subscription details updated successful'});}}).catch(function(err){return _this.setState({message:'Update failed. Please try again'});});};_this.changeHandler=function(event){var name=event.target.name;var value=event.target.value;_this.setState(_defineProperty({},name,value));};return _this;}_createClass(LmUpdateForm,[{key:\"componentDidMount\",//make axios call to api and get data to be edited and store in state\nvalue:function componentDidMount(){var _this2=this;var userData=JSON.parse(sessionStorage.getItem('key'));this.setState({user_id:userData.id});axios.get(\"http://localhost:5000/subscriptionlm/\".concat(userData.id)).then(function(response){return _this2.setState({highestlevelOfEducation:response.data[0].highest_level_of_education,natureOfBusiness:response.data[0].nature_of_work_business});}).catch(function(err){return console.log(err);});}},{key:\"render\",value:function render(){var _this$props=this.props,isOpen=_this$props.isOpen,toggle=_this$props.toggle;var sub_statusColor=this.state.sub_status===false?'#ae2b26':'green';var buttonText=this.state.sub_status===false?'PAY':'PAID';return React.createElement(\"div\",null,React.createElement(Modal,{isOpen:isOpen,toggle:toggle,centered:true},React.createElement(ModalHeader,null,React.createElement(\"div\",{style:{float:'left'}},React.createElement(\"p\",{style:{font:'verdana',fontSize:18}},\"Leadership Management Subscription\")),React.createElement(\"div\",{style:{float:'right',marginLeft:300,marginTop:-45,paddingRight:0}},React.createElement(Button,{style:{float:'right',backgroundColor:sub_statusColor,color:'white'}},buttonText))),React.createElement(ModalBody,null,React.createElement(Form,null,React.createElement(FormGroup,null,React.createElement(Label,{for:\"highestlevelOfEducation\"},\"Highest level Of Education\"),React.createElement(Input,{type:\"text\",name:\"highestlevelOfEducation\",value:this.state.highestlevelOfEducation,onChange:this.changeHandler})),React.createElement(FormGroup,null,React.createElement(Label,{for:\"natureOfBusiness\"},\"Nature Of Work Or Business\"),React.createElement(Input,{type:\"text\",name:\"natureOfBusiness\",value:this.state.natureOfBusiness,onChange:this.changeHandler})))),React.createElement(ModalFooter,null,this.state.message==='Subscription details updated successful'?React.createElement(\"span\",{style:{color:'green'}},this.state.message):React.createElement(\"span\",{style:{color:'red'}},this.state.message),' ','',React.createElement(Button,{style:{background:'#1c8496',color:'white'},onClick:this.handleUpdate},\"Update\"),' ')));}}]);return LmUpdateForm;}(Component);export default LmUpdateForm;","map":{"version":3,"sources":["/Users/mac/Desktop/esgrown/src/components/ind_dashboard_components/subscription-pages/lm/lm_sub_page/lm_sub_page.js"],"names":["React","Component","Button","Form","FormGroup","Label","Input","Modal","ModalHeader","ModalBody","ModalFooter","axios","LmUpdateForm","state","highestlevelOfEducation","natureOfBusiness","sub_status","user_id","message","handleUpdate","data","nature_of_work_business","highest_level_of_education","post","then","response","status","setState","catch","err","changeHandler","event","name","target","value","userData","JSON","parse","sessionStorage","getItem","id","get","console","log","props","isOpen","toggle","sub_statusColor","buttonText","float","font","fontSize","marginLeft","marginTop","paddingRight","backgroundColor","color","background"],"mappings":"8pBAAA,MAAOA,CAAAA,KAAP,EAAgBC,SAAhB,KAAiC,OAAjC,CACA,OAASC,MAAT,CAAiBC,IAAjB,CAAuBC,SAAvB,CAAkCC,KAAlC,CAAyCC,KAAzC,CAAgDC,KAAhD,CAAuDC,WAAvD,CAAoEC,SAApE,CAA+EC,WAA/E,KAAkG,YAAlG,CACA,MAAOC,CAAAA,KAAP,KAAkB,OAAlB,C,GAEMC,CAAAA,Y,uZAEFC,K,CAAQ,CACJC,uBAAuB,CAAE,EADrB,CAEJC,gBAAgB,CAAE,EAFd,CAGJC,UAAU,CAAE,KAHR,CAIJC,OAAO,CAAE,EAJL,CAKJC,OAAO,CAAE,EALL,C,OASRC,Y,CAAe,UAAM,CAEjB,GAAMC,CAAAA,IAAI,CAAG,CACTC,uBAAuB,CAAE,MAAKR,KAAL,CAAWE,gBAD3B,CAETO,0BAA0B,CAAE,MAAKT,KAAL,CAAWC,uBAF9B,CAAb,CAKAH,KAAK,CAACY,IAAN,uDAA0D,MAAKV,KAAL,CAAWI,OAArE,EAAgFG,IAAhF,EACKI,IADL,CACU,SAAAC,QAAQ,CAAI,CACd,GAAIA,QAAQ,CAACC,MAAT,GAAoB,GAAxB,CAA6B,CACzB,MAAKC,QAAL,CAAc,CACVT,OAAO,CAAE,yCADC,CAAd,EAGH,CACJ,CAPL,EAQKU,KARL,CAQW,SAAAC,GAAG,QAAI,OAAKF,QAAL,CAAc,CAAET,OAAO,CAAE,iCAAX,CAAd,CAAJ,EARd,EASH,C,OAgBDY,a,CAAgB,SAAAC,KAAK,CAAI,CAErB,GAAMC,CAAAA,IAAI,CAAGD,KAAK,CAACE,MAAN,CAAaD,IAA1B,CAEA,GAAME,CAAAA,KAAK,CAAGH,KAAK,CAACE,MAAN,CAAaC,KAA3B,CAEA,MAAKP,QAAL,oBAAiBK,IAAjB,CAAwBE,KAAxB,GACH,C,mEArBD;kCACoB,iBAChB,GAAMC,CAAAA,QAAQ,CAAGC,IAAI,CAACC,KAAL,CAAWC,cAAc,CAACC,OAAf,CAAuB,KAAvB,CAAX,CAAjB,CAEA,KAAKZ,QAAL,CAAc,CAAEV,OAAO,CAAEkB,QAAQ,CAACK,EAApB,CAAd,EAEA7B,KAAK,CAAC8B,GAAN,gDAAkDN,QAAQ,CAACK,EAA3D,GACKhB,IADL,CACU,SAAAC,QAAQ,QAAI,CAAA,MAAI,CAACE,QAAL,CAAc,CAC5Bb,uBAAuB,CAAEW,QAAQ,CAACL,IAAT,CAAc,CAAd,EAAiBE,0BADd,CAE5BP,gBAAgB,CAAEU,QAAQ,CAACL,IAAT,CAAc,CAAd,EAAiBC,uBAFP,CAAd,CAAJ,EADlB,EAKKO,KALL,CAKW,SAAAC,GAAG,QAAIa,CAAAA,OAAO,CAACC,GAAR,CAAYd,GAAZ,CAAJ,EALd,EAMH,C,uCAYQ,iBAEsB,KAAKe,KAF3B,CAEGC,MAFH,aAEGA,MAFH,CAEWC,MAFX,aAEWA,MAFX,CAIL,GAAMC,CAAAA,eAAe,CAAG,KAAKlC,KAAL,CAAWG,UAAX,GAA0B,KAA1B,CAAkC,SAAlC,CAA8C,OAAtE,CAEA,GAAMgC,CAAAA,UAAU,CAAG,KAAKnC,KAAL,CAAWG,UAAX,GAA0B,KAA1B,CAAkC,KAAlC,CAA0C,MAA7D,CAEA,MAEI,gCACI,oBAAC,KAAD,EAAO,MAAM,CAAE6B,MAAf,CAAuB,MAAM,CAAEC,MAA/B,CAAuC,QAAQ,KAA/C,EACI,oBAAC,WAAD,MACI,2BAAK,KAAK,CAAE,CAAEG,KAAK,CAAE,MAAT,CAAZ,EAA+B,yBAAG,KAAK,CAAE,CAAEC,IAAI,CAAE,SAAR,CAAmBC,QAAQ,CAAE,EAA7B,CAAV,uCAA/B,CADJ,CAEI,2BAAK,KAAK,CAAE,CAAEF,KAAK,CAAE,OAAT,CAAkBG,UAAU,CAAE,GAA9B,CAAmCC,SAAS,CAAE,CAAC,EAA/C,CAAmDC,YAAY,CAAE,CAAjE,CAAZ,EAAkF,oBAAC,MAAD,EAAQ,KAAK,CAAE,CAAEL,KAAK,CAAE,OAAT,CAAkBM,eAAe,CAAER,eAAnC,CAAoDS,KAAK,CAAE,OAA3D,CAAf,EAAsFR,UAAtF,CAAlF,CAFJ,CADJ,CAKI,oBAAC,SAAD,MACI,oBAAC,IAAD,MACI,oBAAC,SAAD,MACI,oBAAC,KAAD,EAAO,GAAG,CAAC,yBAAX,+BADJ,CAEI,oBAAC,KAAD,EAAO,IAAI,CAAC,MAAZ,CACI,IAAI,CAAC,yBADT,CAEI,KAAK,CAAE,KAAKnC,KAAL,CAAWC,uBAFtB,CAGI,QAAQ,CAAE,KAAKgB,aAHnB,EAFJ,CADJ,CAUI,oBAAC,SAAD,MACI,oBAAC,KAAD,EAAO,GAAG,CAAC,kBAAX,+BADJ,CAEI,oBAAC,KAAD,EAAO,IAAI,CAAC,MAAZ,CACI,IAAI,CAAC,kBADT,CAEI,KAAK,CAAE,KAAKjB,KAAL,CAAWE,gBAFtB,CAGI,QAAQ,CAAE,KAAKe,aAHnB,EAFJ,CAVJ,CADJ,CALJ,CA0BI,oBAAC,WAAD,MACK,KAAKjB,KAAL,CAAWK,OAAX,GAAuB,yCAAvB,CAAmE,4BAAM,KAAK,CAAE,CAAEsC,KAAK,CAAE,OAAT,CAAb,EAAkC,KAAK3C,KAAL,CAAWK,OAA7C,CAAnE,CAAkI,4BAAM,KAAK,CAAE,CAAEsC,KAAK,CAAE,KAAT,CAAb,EAAgC,KAAK3C,KAAL,CAAWK,OAA3C,CADvI,CAEK,GAFL,CAEU,EAFV,CAGI,oBAAC,MAAD,EAAQ,KAAK,CAAE,CAAEuC,UAAU,CAAE,SAAd,CAAyBD,KAAK,CAAE,OAAhC,CAAf,CAA0D,OAAO,CAAE,KAAKrC,YAAxE,WAHJ,CAG0G,GAH1G,CA1BJ,CADJ,CAFJ,CAsCH,C,0BAnGsBlB,S,EAqG3B,cAAeW,CAAAA,YAAf","sourcesContent":["import React, { Component } from 'react';\nimport { Button, Form, FormGroup, Label, Input, Modal, ModalHeader, ModalBody, ModalFooter } from 'reactstrap';\nimport axios from 'axios';\n\nclass LmUpdateForm extends Component {\n\n    state = {\n        highestlevelOfEducation: '',\n        natureOfBusiness: '',\n        sub_status: false,\n        user_id: '',\n        message: ''\n    }\n\n\n    handleUpdate = () => {\n\n        const data = {\n            nature_of_work_business: this.state.natureOfBusiness,\n            highest_level_of_education: this.state.highestlevelOfEducation\n        }\n\n        axios.post(`http://localhost:5000/subscriptionlm/update/${this.state.user_id}`, data)\n            .then(response => {\n                if (response.status === 200) {\n                    this.setState({\n                        message: 'Subscription details updated successful'\n                    })\n                }\n            })\n            .catch(err => this.setState({ message: 'Update failed. Please try again' }))\n    }\n\n    //make axios call to api and get data to be edited and store in state\n    componentDidMount() {\n        const userData = JSON.parse(sessionStorage.getItem('key'));\n\n        this.setState({ user_id: userData.id });\n\n        axios.get(`http://localhost:5000/subscriptionlm/${userData.id}`)\n            .then(response => this.setState({\n                highestlevelOfEducation: response.data[0].highest_level_of_education,\n                natureOfBusiness: response.data[0].nature_of_work_business\n            }))\n            .catch(err => console.log(err));\n    }\n\n    changeHandler = event => {\n\n        const name = event.target.name;\n\n        const value = event.target.value;\n\n        this.setState({ [name]: value });\n    }\n\n\n    render() {\n\n        const { isOpen, toggle } = this.props;\n\n        const sub_statusColor = this.state.sub_status === false ? '#ae2b26' : 'green';\n\n        const buttonText = this.state.sub_status === false ? 'PAY' : 'PAID'\n\n        return (\n\n            <div>\n                <Modal isOpen={isOpen} toggle={toggle} centered>\n                    <ModalHeader>\n                        <div style={{ float: 'left' }}><p style={{ font: 'verdana', fontSize: 18 }}>Leadership Management Subscription</p></div>\n                        <div style={{ float: 'right', marginLeft: 300, marginTop: -45, paddingRight: 0 }}><Button style={{ float: 'right', backgroundColor: sub_statusColor, color: 'white' }}>{buttonText}</Button></div>\n                    </ModalHeader>\n                    <ModalBody>\n                        <Form>\n                            <FormGroup>\n                                <Label for=\"highestlevelOfEducation\">Highest level Of Education</Label>\n                                <Input type=\"text\"\n                                    name=\"highestlevelOfEducation\"\n                                    value={this.state.highestlevelOfEducation}\n                                    onChange={this.changeHandler}\n                                />\n                            </FormGroup>\n\n                            <FormGroup>\n                                <Label for=\"natureOfBusiness\">Nature Of Work Or Business</Label>\n                                <Input type=\"text\"\n                                    name=\"natureOfBusiness\"\n                                    value={this.state.natureOfBusiness}\n                                    onChange={this.changeHandler}\n                                />\n                            </FormGroup>\n                        </Form>\n                    </ModalBody>\n                    <ModalFooter>\n                        {this.state.message === 'Subscription details updated successful' ? <span style={{ color: 'green' }}>{this.state.message}</span> : <span style={{ color: 'red' }}>{this.state.message}</span>}\n                        {' '}{''}\n                        <Button style={{ background: '#1c8496', color: 'white' }} onClick={this.handleUpdate}>Update</Button>{' '}\n                    </ModalFooter>\n                </Modal>\n            </div>\n        )\n\n    }\n}\nexport default LmUpdateForm;\n"]},"metadata":{},"sourceType":"module"}