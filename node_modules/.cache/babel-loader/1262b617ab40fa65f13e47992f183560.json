{"ast":null,"code":"import _objectSpread from \"/Users/mac/Desktop/projekte/esgrown/node_modules/@babel/runtime/helpers/esm/objectSpread2\";\nimport _slicedToArray from \"/Users/mac/Desktop/projekte/esgrown/node_modules/@babel/runtime/helpers/esm/slicedToArray\";\nvar _jsxFileName = \"/Users/mac/Desktop/projekte/esgrown/src/components/admin/dashboards/tutor/components/new-content-form.js\";\nimport React, { useState, useEffect } from 'react';\nimport axios from 'axios';\nimport { Card, CardContent, CardHeader } from '@material-ui/core';\nimport { Spinner } from 'react-bootstrap';\nimport Form from 'react-bootstrap/Form';\n\nconst CreateForm = props => {\n  const _useState = useState(),\n        _useState2 = _slicedToArray(_useState, 2),\n        user = _useState2[0],\n        setUser = _useState2[1];\n\n  const _useState3 = useState(null),\n        _useState4 = _slicedToArray(_useState3, 2),\n        selectedFile = _useState4[0],\n        setSelectedFile = _useState4[1];\n\n  const _useState5 = useState(),\n        _useState6 = _slicedToArray(_useState5, 2),\n        spinner = _useState6[0],\n        setSpinner = _useState6[1];\n\n  const _useState7 = useState({\n    title: '',\n    content: ''\n  }),\n        _useState8 = _slicedToArray(_useState7, 2),\n        formState = _useState8[0],\n        setFormState = _useState8[1];\n\n  useEffect(() => {\n    const admin = JSON.parse(sessionStorage.getItem(\"key\"));\n    setUser(admin);\n  }, []);\n\n  const selectImage = e => {\n    const file = e.target.files[0];\n    const reader = new FileReader();\n\n    reader.onloadend = function () {\n      setSelectedFile(reader.result);\n    };\n\n    reader.readAsDataURL(file);\n  };\n\n  const handleChange = e => {\n    setFormState(_objectSpread({}, formState, {\n      [e.target.name]: e.target.value\n    }));\n  };\n\n  const handleSubmit = () => {\n    setSpinner(true);\n    const data = {\n      tutor_id: user.id,\n      subject: props.title,\n      title: formState.title,\n      content: formState.content,\n      media: selectedFile\n    };\n    const subject = props.title.toLowerCase();\n    const level = user.tutor_level.toLowerCase();\n    axios.post(`http://localhost:5000/${level}/${subject}/add`, data).then(res => {\n      if (res.data) {\n        alert('content created successfully');\n        setSpinner(false);\n      }\n    }).catch(err => console.log(err));\n  };\n\n  return React.createElement(React.Fragment, null, React.createElement(\"div\", {\n    className: \"d-flex justify-content-around\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 75\n    },\n    __self: this\n  }, React.createElement(Card, {\n    className: \"col col-lg-6 col-sm-6\",\n    style: {\n      background: '#E9E9E9'\n    },\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 76\n    },\n    __self: this\n  }, React.createElement(CardHeader, {\n    title: `${props.title} Content`,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 77\n    },\n    __self: this\n  }), React.createElement(CardContent, {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 78\n    },\n    __self: this\n  }, React.createElement(\"div\", {\n    className: \"row mt-3\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 80\n    },\n    __self: this\n  }, React.createElement(\"div\", {\n    className: \"col\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 81\n    },\n    __self: this\n  }, React.createElement(\"label\", {\n    style: {\n      fontWeight: 'bold'\n    },\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 82\n    },\n    __self: this\n  }, \"Title\"), React.createElement(\"input\", {\n    type: \"text\",\n    name: \"title\",\n    value: formState.title,\n    onChange: handleChange,\n    placeholder: \"content title\",\n    className: \"form-control text-small\",\n    required: true,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 83\n    },\n    __self: this\n  }))), React.createElement(\"div\", {\n    className: \"row mt-3\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 87\n    },\n    __self: this\n  }, React.createElement(\"div\", {\n    className: \"col\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 88\n    },\n    __self: this\n  }, React.createElement(\"label\", {\n    style: {\n      fontWeight: 'bold'\n    },\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 89\n    },\n    __self: this\n  }, \"Image/Video\"), React.createElement(\"input\", {\n    type: \"file\",\n    name: \"media\",\n    onChange: selectImage,\n    accept: \"image/*,video/*\",\n    className: \"form-control text-small\",\n    required: true,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 90\n    },\n    __self: this\n  }))), React.createElement(\"div\", {\n    className: \"row mt-3\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 94\n    },\n    __self: this\n  }, React.createElement(\"div\", {\n    className: \"col\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 95\n    },\n    __self: this\n  }, React.createElement(\"label\", {\n    style: {\n      fontWeight: 'bold'\n    },\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 96\n    },\n    __self: this\n  }, \"Content\"), React.createElement(\"textarea\", {\n    name: \"content\",\n    rows: \"10\",\n    value: formState.content,\n    onChange: handleChange,\n    className: \"form-control text-small\",\n    placeholder: \"content\",\n    required: true,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 97\n    },\n    __self: this\n  }))), React.createElement(\"div\", {\n    className: \"row mt-3\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 101\n    },\n    __self: this\n  }, React.createElement(\"div\", {\n    className: \"col\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 102\n    },\n    __self: this\n  }, React.createElement(\"button\", {\n    className: \"btn  mt-3 py-2 w-100 border-0\",\n    style: {\n      background: '#21A5E7',\n      color: 'white'\n    },\n    onClick: handleSubmit,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 103\n    },\n    __self: this\n  }, spinner ? React.createElement(Spinner, {\n    as: \"span\",\n    animation: \"grow\",\n    size: \"sm\",\n    role: \"status\",\n    \"aria-hidden\": \"true\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 108\n    },\n    __self: this\n  }) : \"Create!\")))))));\n};\n\nexport default CreateForm;","map":{"version":3,"sources":["/Users/mac/Desktop/projekte/esgrown/src/components/admin/dashboards/tutor/components/new-content-form.js"],"names":["React","useState","useEffect","axios","Card","CardContent","CardHeader","Spinner","Form","CreateForm","props","user","setUser","selectedFile","setSelectedFile","spinner","setSpinner","title","content","formState","setFormState","admin","JSON","parse","sessionStorage","getItem","selectImage","e","file","target","files","reader","FileReader","onloadend","result","readAsDataURL","handleChange","name","value","handleSubmit","data","tutor_id","id","subject","media","toLowerCase","level","tutor_level","post","then","res","alert","catch","err","console","log","background","fontWeight","color"],"mappings":"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","sourcesContent":["import React, { useState, useEffect } from 'react';\nimport axios from 'axios';\nimport { Card, CardContent, CardHeader } from '@material-ui/core';\nimport { Spinner } from 'react-bootstrap';\nimport Form from 'react-bootstrap/Form'\n\n\n\n\nconst CreateForm = (props) => {\n\n\n    const [user, setUser] = useState();\n    const [selectedFile, setSelectedFile] = useState(null);\n    const [spinner, setSpinner] = useState();\n    const [formState, setFormState] = useState({\n        title: '',\n        content: ''\n    })\n\n\n    useEffect(() => {\n        const admin = JSON.parse(sessionStorage.getItem(\"key\"));\n        setUser(admin)\n\n\n    }, []);\n\n\n    const selectImage = (e) => {\n        const file = e.target.files[0];\n        const reader = new FileReader();\n\n        reader.onloadend = function () {\n            setSelectedFile(reader.result)\n        }\n        reader.readAsDataURL(file);\n    }\n\n    const handleChange = (e) => {\n        setFormState({\n            ...formState,\n            [e.target.name]: e.target.value\n        })\n    }\n\n    const handleSubmit = () => {\n        setSpinner(true);\n        const data = {\n            tutor_id: user.id,\n            subject: props.title,\n            title: formState.title,\n            content: formState.content,\n            media: selectedFile\n        }\n\n        const subject = props.title.toLowerCase();\n        const level = user.tutor_level.toLowerCase();\n\n        axios.post(`http://localhost:5000/${level}/${subject}/add`, data)\n            .then(res => {\n                if (res.data) {\n                    alert('content created successfully');\n                    setSpinner(false);\n                }\n            })\n            .catch(err => console.log(err));\n\n\n    }\n\n\n    return (\n        <>\n            <div className=\"d-flex justify-content-around\">\n                <Card className=\"col col-lg-6 col-sm-6\" style={{ background: '#E9E9E9' }}>\n                    <CardHeader title={`${props.title} Content`} />\n                    <CardContent>\n\n                        <div className=\"row mt-3\">\n                            <div className=\"col\">\n                                <label style={{ fontWeight: 'bold' }}>Title</label>\n                                <input type=\"text\" name=\"title\" value={formState.title} onChange={handleChange} placeholder=\"content title\" className=\"form-control text-small\" required />\n                            </div>\n                        </div>\n\n                        <div className=\"row mt-3\">\n                            <div className=\"col\">\n                                <label style={{ fontWeight: 'bold' }}>Image/Video</label>\n                                <input type=\"file\" name=\"media\" onChange={selectImage} accept=\"image/*,video/*\" className=\"form-control text-small\" required />\n                            </div>\n                        </div>\n\n                        <div className=\"row mt-3\">\n                            <div className=\"col\">\n                                <label style={{ fontWeight: 'bold' }}>Content</label>\n                                <textarea name=\"content\" rows=\"10\" value={formState.content} onChange={handleChange} className=\"form-control text-small\" placeholder=\"content\" required></textarea>\n                            </div>\n                        </div>\n\n                        <div className=\"row mt-3\">\n                            <div className=\"col\">\n                                <button\n                                    className=\"btn  mt-3 py-2 w-100 border-0\"\n                                    style={{ background: '#21A5E7', color: 'white' }}\n                                    onClick={handleSubmit}\n                                >\n                                    {spinner ? <Spinner as=\"span\" animation=\"grow\" size=\"sm\" role=\"status\" aria-hidden=\"true\" /> : \"Create!\"}\n                                </button>\n                            </div>\n                        </div>\n                    </CardContent>\n                </Card>\n            </div>\n\n        </>\n    );\n}\nexport default CreateForm;"]},"metadata":{},"sourceType":"module"}