{"ast":null,"code":"import _defineProperty from\"/Users/mac/Desktop/esgrown/node_modules/@babel/runtime/helpers/esm/defineProperty\";import _classCallCheck from\"/Users/mac/Desktop/esgrown/node_modules/@babel/runtime/helpers/esm/classCallCheck\";import _createClass from\"/Users/mac/Desktop/esgrown/node_modules/@babel/runtime/helpers/esm/createClass\";import _possibleConstructorReturn from\"/Users/mac/Desktop/esgrown/node_modules/@babel/runtime/helpers/esm/possibleConstructorReturn\";import _getPrototypeOf from\"/Users/mac/Desktop/esgrown/node_modules/@babel/runtime/helpers/esm/getPrototypeOf\";import _inherits from\"/Users/mac/Desktop/esgrown/node_modules/@babel/runtime/helpers/esm/inherits\";import React,{Component}from'react';import{Button,Form,FormGroup,Label,Input,Modal,ModalHeader,ModalBody,ModalFooter}from'reactstrap';import JobsModal from'../jobsmodal';import axios from'axios';var RmUpdateForm=/*#__PURE__*/function(_Component){_inherits(RmUpdateForm,_Component);function RmUpdateForm(){var _getPrototypeOf2;var _this;_classCallCheck(this,RmUpdateForm);for(var _len=arguments.length,args=new Array(_len),_key=0;_key<_len;_key++){args[_key]=arguments[_key];}_this=_possibleConstructorReturn(this,(_getPrototypeOf2=_getPrototypeOf(RmUpdateForm)).call.apply(_getPrototypeOf2,[this].concat(args)));_this.state={highestlevelOfEducation:'',intendedStudy:'',sub_status:false,user_id:'',message:'',jobsModal:false};_this.handleUpdate=function(){var data={highest_level_of_education:_this.state.highestlevelOfEducation,field_of_training:_this.state.intendedStudy};//make axios request and update\naxios.post(\"http://localhost:5000/subscriptionrm/update/\".concat(_this.state.user_id),data).then(function(response){if(response.status==200){_this.setState({message:'Subscription details updated successful'});}}).catch(function(err){return _this.setState({message:'Update failed. Please try again'});});};_this.closeModal=function(){_this.setState({jobsModal:false});};_this.changeHandler=function(event){var name=event.target.name;var value=event.target.value;_this.setState(_defineProperty({},name,value));};return _this;}_createClass(RmUpdateForm,[{key:\"componentDidMount\",//make axios call to api and get data to be edited and store in state\n// : : \nvalue:function componentDidMount(){var userData=JSON.parse(sessionStorage.getItem('key'));this.setState({user_id:userData.id});if(userData.sub_status_rm=='active'){this.setState({sub_status:'active'});}console.log(userData);// axios.get(`http://localhost:5000/subscriptionrm/${userData.id}`)\n//     .then(response => this.setState({\n//         highestlevelOfEducation: response.data[0].highest_level_of_education,\n//         intendedStudy: response.data[0].field_of_training,\n//         sub_status: response.data[0].sub_status\n//     }))\n//     .catch(err => console.log(err))\n}},{key:\"render\",value:function render(){var _this2=this;var _this$props=this.props,isOpen=_this$props.isOpen,toggle=_this$props.toggle;var sub_statusColor=this.state.sub_status==='active'?'#97ba0d':'#e68723';var buttonText=this.state.sub_status==='active'?'PAID':'PAY';return React.createElement(\"div\",null,React.createElement(Modal,{isOpen:isOpen,toggle:toggle,centered:true},React.createElement(ModalHeader,null,React.createElement(\"div\",{style:{float:'left'}},React.createElement(\"p\",{style:{font:'verdana',fontSize:18}},\"Recruitment Management Subscription\")),React.createElement(\"div\",{style:{float:'right',marginLeft:300,marginTop:-45,paddingRight:0}},React.createElement(Button,{style:{float:'right',backgroundColor:sub_statusColor,color:'white',border:sub_statusColor}},buttonText))),React.createElement(ModalBody,null,React.createElement(Form,null,React.createElement(FormGroup,null,React.createElement(Label,{for:\"highestlevelOfEducation\"},\"Highest Level Of Education\"),React.createElement(Input,{type:\"text\",name:\"highestlevelOfEducation\",value:this.state.highestlevelOfEducation,onChange:this.changeHandler})),React.createElement(FormGroup,null,React.createElement(Label,{for:\"intendedStudy\"},\"Field Of Training\"),React.createElement(Input,{type:\"text\",name:\"intendedStudy\",value:this.state.intendedStudy,onChange:this.changeHandler})))),React.createElement(ModalFooter,null,this.state.message==='Subscription details updated successful'?React.createElement(\"span\",{style:{color:'green'}},this.state.message):React.createElement(\"span\",{style:{color:'red'}},this.state.message),' ','',React.createElement(Button,{className:\"btn btn-sm btn-info\",onClick:this.handleUpdate},\"Update\"),this.state.sub_status=='active'?React.createElement(\"button\",{className:\"btn btn-sm btn-info\",style:{background:'#21a5e7',border:'#21a5e7'},onClick:function onClick(){return _this2.setState({jobsModal:!_this2.state.jobsModal});}},\"Add Job \"):\"\")),React.createElement(JobsModal,{onHide:function onHide(){return _this2.setState({jobsModal:false});},show:this.state.jobsModal,closeModal:function closeModal(){return _this2.closeModal();}}));}}]);return RmUpdateForm;}(Component);export default RmUpdateForm;","map":{"version":3,"sources":["/Users/mac/Desktop/esgrown/src/components/ind_dashboard_components/subscription-pages/rm/rm_sub_page/rm_sub_page.js"],"names":["React","Component","Button","Form","FormGroup","Label","Input","Modal","ModalHeader","ModalBody","ModalFooter","JobsModal","axios","RmUpdateForm","state","highestlevelOfEducation","intendedStudy","sub_status","user_id","message","jobsModal","handleUpdate","data","highest_level_of_education","field_of_training","post","then","response","status","setState","catch","err","closeModal","changeHandler","event","name","target","value","userData","JSON","parse","sessionStorage","getItem","id","sub_status_rm","console","log","props","isOpen","toggle","sub_statusColor","buttonText","float","font","fontSize","marginLeft","marginTop","paddingRight","backgroundColor","color","border","background"],"mappings":"8pBAAA,MAAOA,CAAAA,KAAP,EAAgBC,SAAhB,KAAiC,OAAjC,CACA,OAASC,MAAT,CAAiBC,IAAjB,CAAuBC,SAAvB,CAAkCC,KAAlC,CAAyCC,KAAzC,CAAgDC,KAAhD,CAAuDC,WAAvD,CAAoEC,SAApE,CAA+EC,WAA/E,KAAkG,YAAlG,CACA,MAAOC,CAAAA,SAAP,KAAsB,cAAtB,CAGA,MAAOC,CAAAA,KAAP,KAAkB,OAAlB,C,GAEMC,CAAAA,Y,uZAEFC,K,CAAQ,CACJC,uBAAuB,CAAE,EADrB,CAEJC,aAAa,CAAE,EAFX,CAGJC,UAAU,CAAE,KAHR,CAIJC,OAAO,CAAE,EAJL,CAKJC,OAAO,CAAE,EALL,CAMJC,SAAS,CAAE,KANP,C,OAURC,Y,CAAe,UAAM,CAEjB,GAAMC,CAAAA,IAAI,CAAG,CACTC,0BAA0B,CAAE,MAAKT,KAAL,CAAWC,uBAD9B,CAETS,iBAAiB,CAAE,MAAKV,KAAL,CAAWE,aAFrB,CAAb,CAKA;AACAJ,KAAK,CAACa,IAAN,uDAA0D,MAAKX,KAAL,CAAWI,OAArE,EAAgFI,IAAhF,EACKI,IADL,CACU,SAAAC,QAAQ,CAAI,CACd,GAAIA,QAAQ,CAACC,MAAT,EAAmB,GAAvB,CAA4B,CACxB,MAAKC,QAAL,CAAc,CAAEV,OAAO,CAAE,yCAAX,CAAd,EACH,CACJ,CALL,EAMKW,KANL,CAMW,SAAAC,GAAG,QAAI,OAAKF,QAAL,CAAc,CAAEV,OAAO,CAAE,iCAAX,CAAd,CAAJ,EANd,EAQH,C,OAyBDa,U,CAAa,UAAM,CACf,MAAKH,QAAL,CAAc,CAACT,SAAS,CAAE,KAAZ,CAAd,EACH,C,OAIDa,a,CAAgB,SAAAC,KAAK,CAAI,CAErB,GAAMC,CAAAA,IAAI,CAAGD,KAAK,CAACE,MAAN,CAAaD,IAA1B,CAEA,GAAME,CAAAA,KAAK,CAAGH,KAAK,CAACE,MAAN,CAAaC,KAA3B,CAEA,MAAKR,QAAL,oBAAiBM,IAAjB,CAAwBE,KAAxB,GACH,C,mEApCD;AACA;kCACoB,CAChB,GAAMC,CAAAA,QAAQ,CAAGC,IAAI,CAACC,KAAL,CAAWC,cAAc,CAACC,OAAf,CAAuB,KAAvB,CAAX,CAAjB,CAEA,KAAKb,QAAL,CAAc,CAAEX,OAAO,CAAEoB,QAAQ,CAACK,EAApB,CAAd,EAEA,GAAIL,QAAQ,CAACM,aAAT,EAA0B,QAA9B,CAAwC,CACpC,KAAKf,QAAL,CAAc,CAACZ,UAAU,CAAE,QAAb,CAAd,EACH,CAED4B,OAAO,CAACC,GAAR,CAAYR,QAAZ,EAEA;AACA;AACA;AACA;AACA;AACA;AACA;AAEH,C,uCAkBQ,iCAEsB,KAAKS,KAF3B,CAEGC,MAFH,aAEGA,MAFH,CAEWC,MAFX,aAEWA,MAFX,CAIL,GAAMC,CAAAA,eAAe,CAAG,KAAKpC,KAAL,CAAWG,UAAX,GAA0B,QAA1B,CAAqC,SAArC,CAAiD,SAAzE,CAEA,GAAMkC,CAAAA,UAAU,CAAG,KAAKrC,KAAL,CAAWG,UAAX,GAA0B,QAA1B,CAAqC,MAArC,CAA8C,KAAjE,CAEA,MAEI,gCACI,oBAAC,KAAD,EAAO,MAAM,CAAE+B,MAAf,CAAuB,MAAM,CAAEC,MAA/B,CAAuC,QAAQ,KAA/C,EACI,oBAAC,WAAD,MACI,2BAAK,KAAK,CAAE,CAAEG,KAAK,CAAE,MAAT,CAAZ,EAA+B,yBAAG,KAAK,CAAE,CAAEC,IAAI,CAAE,SAAR,CAAmBC,QAAQ,CAAE,EAA7B,CAAV,wCAA/B,CADJ,CAEI,2BAAK,KAAK,CAAE,CAAEF,KAAK,CAAE,OAAT,CAAkBG,UAAU,CAAE,GAA9B,CAAmCC,SAAS,CAAE,CAAC,EAA/C,CAAmDC,YAAY,CAAE,CAAjE,CAAZ,EAAkF,oBAAC,MAAD,EAAQ,KAAK,CAAE,CAAEL,KAAK,CAAE,OAAT,CAAkBM,eAAe,CAAER,eAAnC,CAAoDS,KAAK,CAAE,OAA3D,CAAoEC,MAAM,CAAEV,eAA5E,CAAf,EAA+GC,UAA/G,CAAlF,CAFJ,CADJ,CAKI,oBAAC,SAAD,MACI,oBAAC,IAAD,MACI,oBAAC,SAAD,MACI,oBAAC,KAAD,EAAO,GAAG,CAAC,yBAAX,+BADJ,CAEI,oBAAC,KAAD,EAAO,IAAI,CAAC,MAAZ,CACI,IAAI,CAAC,yBADT,CAEI,KAAK,CAAE,KAAKrC,KAAL,CAAWC,uBAFtB,CAGI,QAAQ,CAAE,KAAKkB,aAHnB,EAFJ,CADJ,CAUI,oBAAC,SAAD,MACI,oBAAC,KAAD,EAAO,GAAG,CAAC,eAAX,sBADJ,CAEI,oBAAC,KAAD,EAAO,IAAI,CAAC,MAAZ,CACI,IAAI,CAAC,eADT,CAEI,KAAK,CAAE,KAAKnB,KAAL,CAAWE,aAFtB,CAGI,QAAQ,CAAE,KAAKiB,aAHnB,EAFJ,CAVJ,CADJ,CALJ,CA0BI,oBAAC,WAAD,MACK,KAAKnB,KAAL,CAAWK,OAAX,GAAuB,yCAAvB,CAAmE,4BAAM,KAAK,CAAE,CAAEwC,KAAK,CAAE,OAAT,CAAb,EAAkC,KAAK7C,KAAL,CAAWK,OAA7C,CAAnE,CAAkI,4BAAM,KAAK,CAAE,CAAEwC,KAAK,CAAE,KAAT,CAAb,EAAgC,KAAK7C,KAAL,CAAWK,OAA3C,CADvI,CAEK,GAFL,CAEU,EAFV,CAGI,oBAAC,MAAD,EAAQ,SAAS,CAAC,qBAAlB,CAAwC,OAAO,CAAE,KAAKE,YAAtD,WAHJ,CAKQ,KAAKP,KAAL,CAAWG,UAAX,EAAyB,QAAzB,CACA,8BAAQ,SAAS,CAAC,qBAAlB,CAAwC,KAAK,CAAE,CAAE4C,UAAU,CAAE,SAAd,CAAyBD,MAAM,CAAE,SAAjC,CAA/C,CAA6F,OAAO,CAAE,yBAAM,CAAA,MAAI,CAAC/B,QAAL,CAAc,CAAET,SAAS,CAAE,CAAC,MAAI,CAACN,KAAL,CAAWM,SAAzB,CAAd,CAAN,EAAtG,aADA,CAEM,EAPd,CA1BJ,CADJ,CAuCI,oBAAC,SAAD,EAAW,MAAM,CAAE,wBAAM,CAAA,MAAI,CAACS,QAAL,CAAc,CAAET,SAAS,CAAE,KAAb,CAAd,CAAN,EAAnB,CAA8D,IAAI,CAAE,KAAKN,KAAL,CAAWM,SAA/E,CAA0F,UAAU,CAAE,4BAAM,CAAA,MAAI,CAACY,UAAL,EAAN,EAAtG,EAvCJ,CAFJ,CA4CH,C,0BAzHsB/B,S,EA2H3B,cAAeY,CAAAA,YAAf","sourcesContent":["import React, { Component } from 'react';\nimport { Button, Form, FormGroup, Label, Input, Modal, ModalHeader, ModalBody, ModalFooter } from 'reactstrap';\nimport JobsModal from '../jobsmodal';\n\n\nimport axios from 'axios';\n\nclass RmUpdateForm extends Component {\n\n    state = {\n        highestlevelOfEducation: '',\n        intendedStudy: '',\n        sub_status: false,\n        user_id: '',\n        message: '',\n        jobsModal: false,\n    }\n\n\n    handleUpdate = () => {\n\n        const data = {\n            highest_level_of_education: this.state.highestlevelOfEducation,\n            field_of_training: this.state.intendedStudy,\n        };\n\n        //make axios request and update\n        axios.post(`http://localhost:5000/subscriptionrm/update/${this.state.user_id}`, data)\n            .then(response => {\n                if (response.status == 200) {\n                    this.setState({ message: 'Subscription details updated successful' })\n                }\n            })\n            .catch(err => this.setState({ message: 'Update failed. Please try again' }))\n\n    }\n\n    //make axios call to api and get data to be edited and store in state\n    // : : \n    componentDidMount() {\n        const userData = JSON.parse(sessionStorage.getItem('key'));\n\n        this.setState({ user_id: userData.id });\n\n        if (userData.sub_status_rm == 'active') {\n            this.setState({sub_status: 'active'})\n        }\n\n        console.log(userData);\n\n        // axios.get(`http://localhost:5000/subscriptionrm/${userData.id}`)\n        //     .then(response => this.setState({\n        //         highestlevelOfEducation: response.data[0].highest_level_of_education,\n        //         intendedStudy: response.data[0].field_of_training,\n        //         sub_status: response.data[0].sub_status\n        //     }))\n        //     .catch(err => console.log(err))\n\n    }\n\n    closeModal = () => {\n        this.setState({jobsModal: false})\n    }\n\n\n\n    changeHandler = event => {\n\n        const name = event.target.name;\n\n        const value = event.target.value;\n\n        this.setState({ [name]: value });\n    }\n\n\n    render() {\n\n        const { isOpen, toggle } = this.props;\n\n        const sub_statusColor = this.state.sub_status === 'active' ? '#97ba0d' : '#e68723';\n\n        const buttonText = this.state.sub_status === 'active' ? 'PAID' : 'PAY';\n\n        return (\n\n            <div>\n                <Modal isOpen={isOpen} toggle={toggle} centered>\n                    <ModalHeader>\n                        <div style={{ float: 'left' }}><p style={{ font: 'verdana', fontSize: 18 }}>Recruitment Management Subscription</p></div>\n                        <div style={{ float: 'right', marginLeft: 300, marginTop: -45, paddingRight: 0 }}><Button style={{ float: 'right', backgroundColor: sub_statusColor, color: 'white', border: sub_statusColor }}>{buttonText}</Button></div>\n                    </ModalHeader>\n                    <ModalBody>\n                        <Form>\n                            <FormGroup>\n                                <Label for=\"highestlevelOfEducation\">Highest Level Of Education</Label>\n                                <Input type=\"text\"\n                                    name=\"highestlevelOfEducation\"\n                                    value={this.state.highestlevelOfEducation}\n                                    onChange={this.changeHandler}\n                                />\n                            </FormGroup>\n\n                            <FormGroup>\n                                <Label for=\"intendedStudy\">Field Of Training</Label>\n                                <Input type=\"text\"\n                                    name=\"intendedStudy\"\n                                    value={this.state.intendedStudy}\n                                    onChange={this.changeHandler}\n                                />\n                            </FormGroup>\n                        </Form>\n                    </ModalBody>\n                    <ModalFooter>\n                        {this.state.message === 'Subscription details updated successful' ? <span style={{ color: 'green' }}>{this.state.message}</span> : <span style={{ color: 'red' }}>{this.state.message}</span>}\n                        {' '}{''}\n                        <Button className=\"btn btn-sm btn-info\" onClick={this.handleUpdate}>Update</Button>\n                        {\n                            this.state.sub_status == 'active' ?\n                            <button className=\"btn btn-sm btn-info\" style={{ background: '#21a5e7', border: '#21a5e7' }} onClick={() => this.setState({ jobsModal: !this.state.jobsModal })}>Add Job </button>\n                                : \"\"\n                        }\n                        \n                    </ModalFooter>\n                </Modal>\n                <JobsModal onHide={() => this.setState({ jobsModal: false })} show={this.state.jobsModal} closeModal={() => this.closeModal()} />\n            </div >\n        )\n    }\n}\nexport default RmUpdateForm;\n"]},"metadata":{},"sourceType":"module"}