{"ast":null,"code":"import _regeneratorRuntime from\"/Users/mac/Desktop/esgrown/node_modules/@babel/runtime/regenerator\";import _defineProperty from\"/Users/mac/Desktop/esgrown/node_modules/@babel/runtime/helpers/esm/defineProperty\";import _objectSpread from\"/Users/mac/Desktop/esgrown/node_modules/@babel/runtime/helpers/esm/objectSpread2\";import _slicedToArray from\"/Users/mac/Desktop/esgrown/node_modules/@babel/runtime/helpers/esm/slicedToArray\";import React,{useState,useEffect}from'react';import axios from'axios';import{Modal,Spinner}from'react-bootstrap';var EditStaff=function EditStaff(_ref){var show=_ref.show,onHide=_ref.onHide,id=_ref.id,user=_ref.user,closeModal=_ref.closeModal;var _useState=useState([]),_useState2=_slicedToArray(_useState,2),edit=_useState2[0],setEdit=_useState2[1];var _useState3=useState({}),_useState4=_slicedToArray(_useState3,2),state=_useState4[0],setState=_useState4[1];useEffect(function(){axios.get(\"http://localhost:5000/individuals/\").then(function(res){if(res.data.length>0){var ind=res.data.filter(function(st){return st._id===id;});setEdit(ind[0]);}}).catch(function(err){return console.log(err);});},[id]);console.log(edit);var onChange=function onChange(e){setEdit(_objectSpread({},edit,_defineProperty({},e.target.name,e.target.value)));};var submitEdit=function submitEdit(){var data,res;return _regeneratorRuntime.async(function submitEdit$(_context){while(1){switch(_context.prev=_context.next){case 0:data={fullname:edit.fullname,email:edit.email};_context.prev=1;_context.next=4;return _regeneratorRuntime.awrap(axios.post(\"http://localhost:5000/individuals/staff/update/\".concat(edit._id),data));case 4:res=_context.sent;console.log(res.dat);closeModal();_context.next=12;break;case 9:_context.prev=9;_context.t0=_context[\"catch\"](1);console.log(_context.t0);case 12:case\"end\":return _context.stop();}}},null,null,[[1,9]]);};return React.createElement(React.Fragment,null,React.createElement(Modal,{show:show,onHide:onHide,centered:true},React.createElement(React.Fragment,null,React.createElement(\"div\",{className:\"container\",style:{background:'#e9ecef'}},React.createElement(\"div\",{className:\"mt-3\"},React.createElement(\"div\",{className:\"row col justify-content-center\",style:{fontSize:'17px'}},user&&user.org_type===\"school\"?\"Teacher\":\"Staff\",\" edit\"),React.createElement(\"div\",{className:\"row mt-3\"},React.createElement(\"div\",{className:\"col\"},React.createElement(\"label\",{style:{fontWeight:'bold'}},\"Full Name\"),React.createElement(\"input\",{type:\"text\",value:edit?edit.fullname:\"\",name:\"fullname\",onChange:onChange,className:\"form-control\",required:true}))),React.createElement(\"div\",{className:\"row mt-3\"},React.createElement(\"div\",{className:\"col\"},React.createElement(\"label\",{style:{fontWeight:'bold'}},\"Email\"),React.createElement(\"input\",{type:\"text\",value:edit?edit.email:\"\",name:\"email\",onChange:onChange,className:\"form-control\",required:true}))),React.createElement(\"div\",{className:\"row mt-3\"},React.createElement(\"div\",{className:\"col\"},React.createElement(\"label\",{style:{fontWeight:'bold'}},\"Gender\"),React.createElement(\"input\",{type:\"text\",disabled:true,value:edit?edit.gender:\"\",className:\"form-control\",required:true}))),edit&&edit.tic?React.createElement(\"div\",{className:\"row mt-3\"},React.createElement(\"div\",{className:\"col\"},React.createElement(\"label\",{style:{fontWeight:'bold'}},\"Teacher Identification Code\"),React.createElement(\"input\",{type:\"text\",disabled:true,value:edit.tic,className:\"form-control\",required:true}))):\"\",React.createElement(\"div\",{className:\"row mt-3\"},React.createElement(\"div\",{className:\"col\"},React.createElement(\"label\",{style:{fontWeight:'bold'}},\"SignUp Date\"),React.createElement(\"input\",{type:\"text\",disabled:true,value:new Date(edit?edit.createdAt:\"\").toDateString(),className:\"form-control\",required:true})))),React.createElement(\"div\",{className:\"row\"},React.createElement(\"div\",{className:\"col\"},React.createElement(\"button\",{className:\"btn mb-2 mt-3 w-100 border-0\",style:{background:'#21A5E7',color:'white'},onClick:submitEdit},\"Update\")))))));};export default EditStaff;","map":{"version":3,"sources":["/Users/mac/Desktop/esgrown/src/components/corp_dashboard_components/staff/components/edit.js"],"names":["React","useState","useEffect","axios","Modal","Spinner","EditStaff","show","onHide","id","user","closeModal","edit","setEdit","state","setState","get","then","res","data","length","ind","filter","st","_id","catch","err","console","log","onChange","e","target","name","value","submitEdit","fullname","email","post","dat","background","fontSize","org_type","fontWeight","gender","tic","Date","createdAt","toDateString","color"],"mappings":"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","sourcesContent":["import React, { useState, useEffect } from 'react';\nimport axios from 'axios';\nimport { Modal, Spinner } from 'react-bootstrap';\n\n\n\n\nconst EditStaff = ({ show, onHide, id, user, closeModal }) => {\n\n    const [edit, setEdit] = useState([]);\n    const [state, setState] = useState({\n        \n    })\n\n    useEffect(() => {\n        axios.get(`http://localhost:5000/individuals/`)\n            .then(res => {\n                if (res.data.length > 0) {\n                    const ind = res.data.filter(st => {\n                        return st._id === id\n                    })\n                    setEdit(ind[0])\n                }\n            })\n            .catch(err => console.log(err));\n    }, [id])\n\n    console.log(edit)\n\n   const onChange = (e) => {\n       setEdit({\n           ...edit,\n           [e.target.name]: e.target.value\n       })\n    }\n\n    const submitEdit = async() => {\n\n        const data = {\n            fullname: edit.fullname,\n            email: edit.email\n        }\n        try {\n            const res = await axios.post(`http://localhost:5000/individuals/staff/update/${edit._id}`, data);\n            console.log(res.dat);\n            closeModal()\n\n        } catch (e) {\n           console.log(e) \n        }\n\n    }\n\n    return (\n        <>\n            <Modal show={show} onHide={onHide} centered>\n\n                <>\n                    <div className=\"container\" style={{ background: '#e9ecef' }} >\n                        <div className=\"mt-3\">\n                            <div className=\"row col justify-content-center\" style={{ fontSize: '17px' }}>{user && user.org_type === \"school\" ? \"Teacher\" : \"Staff\"} edit</div>\n\n                            <div className=\"row mt-3\">\n                                <div className=\"col\">\n                                    <label style={{ fontWeight: 'bold' }}>Full Name</label>\n                                    <input type=\"text\" value={edit ? edit.fullname : \"\"} name=\"fullname\" onChange={onChange} className=\"form-control\" required />\n                                </div>\n                            </div>\n\n                            <div className=\"row mt-3\">\n                                <div className=\"col\">\n                                    <label style={{ fontWeight: 'bold' }}>Email</label>\n                                    <input type=\"text\" value={edit ? edit.email : \"\"} name=\"email\" onChange={onChange} className=\"form-control\" required />\n                                </div>\n                            </div>\n\n                            <div className=\"row mt-3\">\n                                <div className=\"col\">\n                                    <label style={{ fontWeight: 'bold' }}>Gender</label>\n                                    <input type=\"text\" disabled value={edit ? edit.gender : \"\"} className=\"form-control\" required />\n                                </div>\n                            </div>\n                            {\n                                edit && edit.tic ?\n                                <div className=\"row mt-3\">\n                                    <div className=\"col\">\n                                        <label style={{ fontWeight: 'bold' }}>Teacher Identification Code</label>\n                                        <input type=\"text\" disabled value={edit.tic} className=\"form-control\" required />\n                                    </div>\n                                </div>\n                                : \"\"\n                            }\n\n\n                            <div className=\"row mt-3\">\n                                <div className=\"col\">\n                                    <label style={{ fontWeight: 'bold' }}>SignUp Date</label>\n                                    <input type=\"text\" disabled value={new Date(edit ? edit.createdAt : \"\").toDateString()} className=\"form-control\" required />\n                                </div>\n                            </div>\n\n                        </div>\n                        <div className=\"row\">\n                            <div className=\"col\">\n                                <button\n                                    className=\"btn mb-2 mt-3 w-100 border-0\"\n                                    style={{ background: '#21A5E7', color: 'white' }}\n                                    onClick={submitEdit}\n                                >\n                                    Update\n                                </button>\n                            </div>\n                        </div>\n                    </div>\n                </>\n            </Modal>\n        </>\n    );\n}\n\nexport default EditStaff;"]},"metadata":{},"sourceType":"module"}