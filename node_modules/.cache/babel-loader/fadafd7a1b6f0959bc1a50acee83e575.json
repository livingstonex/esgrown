{"ast":null,"code":"import _slicedToArray from\"/Users/mac/Desktop/esgrown/node_modules/@babel/runtime/helpers/esm/slicedToArray\";import React,{useEffect,useState}from'react';import axios from'axios';import{Card,CardContent,CardHeader,CardActionArea,CardMedia,Typography,CardActions}from'@material-ui/core';import{makeStyles}from'@material-ui/core/styles';import{Spinner}from'react-bootstrap';var ContentLog=function ContentLog(props){var subject=props.subject;var useStyles=makeStyles({root:{maxWidth:345}});var classes=useStyles();var _useState=useState(true),_useState2=_slicedToArray(_useState,2),spinner=_useState2[0],setSpinner=_useState2[1];var _useState3=useState([]),_useState4=_slicedToArray(_useState3,2),contentLog=_useState4[0],setContentLog=_useState4[1];useEffect(function(){var user=JSON.parse(sessionStorage.getItem('key'));var level=user.tutor_level.toLowerCase();axios.get(\"http://localhost:5000/\".concat(level,\"/\").concat(subject,\"/\").concat(user.id)).then(function(res){if(res.data){setSpinner(false);setContentLog(res.data);}}).catch(function(err){return console.log(err);});},[subject]);return React.createElement(React.Fragment,null,spinner?React.createElement(Spinner,{animation:\"grow\"}):React.createElement(\"div\",{className:\"container\"},React.createElement(\"div\",{className:\"row\"},contentLog.map(function(data){return React.createElement(React.Fragment,null,React.createElement(Card,{className:\"col col-lg-4 col-sm-6 mr-3\"},React.createElement(\"br\",null),React.createElement(CardActionArea,null,data.media?data.media.split('/')[0]===\"data:image\"?React.createElement(\"img\",{src:data.media,style:{width:'100%'}}):React.createElement(\"video\",{src:data.media,controls:true,style:{width:'100%'}}):'',React.createElement(CardContent,null,React.createElement(Typography,{gutterBottom:true,variant:\"h5\",component:\"h2\"},data.title),React.createElement(Typography,{variant:\"body2\",color:\"textSecondary\",component:\"p\"},data.content.substring(0,200))))));}))));};export default ContentLog;","map":{"version":3,"sources":["/Users/mac/Desktop/esgrown/src/components/admin/dashboards/tutor/components/content_log.js"],"names":["React","useEffect","useState","axios","Card","CardContent","CardHeader","CardActionArea","CardMedia","Typography","CardActions","makeStyles","Spinner","ContentLog","props","subject","useStyles","root","maxWidth","classes","spinner","setSpinner","contentLog","setContentLog","user","JSON","parse","sessionStorage","getItem","level","tutor_level","toLowerCase","get","id","then","res","data","catch","err","console","log","map","media","split","width","title","content","substring"],"mappings":"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","sourcesContent":["import React, { useEffect, useState } from 'react';\nimport axios from 'axios';\nimport { Card, CardContent, CardHeader, CardActionArea, CardMedia, Typography, CardActions } from '@material-ui/core';\nimport { makeStyles } from '@material-ui/core/styles';\nimport { Spinner } from 'react-bootstrap';\n\n\n\nconst ContentLog = (props) => {\n\n    const { subject } = props;\n\n\n\n    const useStyles = makeStyles({\n        root: {\n            maxWidth: 345,\n        },\n    });\n\n    const classes = useStyles();\n\n    const [spinner, setSpinner] = useState(true);\n    const [contentLog, setContentLog] = useState([])\n\n\n\n    useEffect(() => {\n\n        const user = JSON.parse(sessionStorage.getItem('key'));\n        const level = user.tutor_level.toLowerCase();\n\n\n        axios.get(`http://localhost:5000/${level}/${subject}/${user.id}`)\n            .then(res => {\n                if (res.data) {\n                    setSpinner(false)\n                    setContentLog(res.data);\n                }\n            })\n            .catch(err => console.log(err));\n    }, [subject]);\n\n    return (\n        <>\n            {\n                spinner ? <Spinner animation=\"grow\" /> :\n                    <div className=\"container\">\n                        <div className=\"row\">\n                            {\n                                contentLog.map(data => {\n                                    return (\n                                        <>\n\n                                            <Card className=\"col col-lg-4 col-sm-6 mr-3\">\n                                                <br/>\n                                                <CardActionArea>\n                                                    {\n                                                        data.media ? data.media.split('/')[0] === \"data:image\" ? <img src={data.media} style={{ width: '100%' }} /> : <video src={data.media} controls style={{ width: '100%' }}></video> : ''\n                                                    }\n                                                    <CardContent>\n                                                        <Typography gutterBottom variant=\"h5\" component=\"h2\">\n                                                            {data.title}\n                                                        </Typography>\n                                                        <Typography variant=\"body2\" color=\"textSecondary\" component=\"p\">\n                                                            {data.content.substring(0,200)}\n                                                        </Typography>\n                                                    </CardContent>\n                                                </CardActionArea>\n                                            </Card>\n\n                                        </>\n\n                                    );\n                                })\n                            }\n                        </div>\n                    </div>\n            }\n        </>\n    );\n}\nexport default ContentLog;"]},"metadata":{},"sourceType":"module"}