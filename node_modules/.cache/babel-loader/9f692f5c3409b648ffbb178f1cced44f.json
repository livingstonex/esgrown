{"ast":null,"code":"import _classCallCheck from\"/Users/mac/Desktop/esgrown/node_modules/@babel/runtime/helpers/esm/classCallCheck\";import _createClass from\"/Users/mac/Desktop/esgrown/node_modules/@babel/runtime/helpers/esm/createClass\";import _possibleConstructorReturn from\"/Users/mac/Desktop/esgrown/node_modules/@babel/runtime/helpers/esm/possibleConstructorReturn\";import _getPrototypeOf from\"/Users/mac/Desktop/esgrown/node_modules/@babel/runtime/helpers/esm/getPrototypeOf\";import _assertThisInitialized from\"/Users/mac/Desktop/esgrown/node_modules/@babel/runtime/helpers/esm/assertThisInitialized\";import _inherits from\"/Users/mac/Desktop/esgrown/node_modules/@babel/runtime/helpers/esm/inherits\";import React,{Component}from\"react\";import{Link}from\"react-router-dom\";import md5 from'md5';import axios from'axios';import DatePicker from\"react-datepicker\";import\"react-datepicker/dist/react-datepicker.css\";import{Button,Row,Col,Card,Alert}from\"react-bootstrap\";var IndividualSignUp=/*#__PURE__*/function(_Component){_inherits(IndividualSignUp,_Component);function IndividualSignUp(props){var _this;_classCallCheck(this,IndividualSignUp);_this=_possibleConstructorReturn(this,_getPrototypeOf(IndividualSignUp).call(this,props));_this.onchangeCorpName=function(e){_this.setState({org_name:e.target.value});};_this.onChangeFullname=_this.onChangeFullname.bind(_assertThisInitialized(_this));_this.onChangeEmail=_this.onChangeEmail.bind(_assertThisInitialized(_this));_this.onChangePassword=_this.onChangePassword.bind(_assertThisInitialized(_this));_this.onChangeGender=_this.onChangeGender.bind(_assertThisInitialized(_this));_this.onChangePhone=_this.onChangePhone.bind(_assertThisInitialized(_this));_this.onChangeDOB=_this.onChangeDOB.bind(_assertThisInitialized(_this));_this.onChangeCountry=_this.onChangeCountry.bind(_assertThisInitialized(_this));_this.onChangeState=_this.onChangeState.bind(_assertThisInitialized(_this));_this.onChangeCorpType=_this.onChangeCorpType.bind(_assertThisInitialized(_this));_this.onSubmit=_this.onSubmit.bind(_assertThisInitialized(_this));_this.state={fullname:'',email:'',password:'',gender:'',phone:'',dob:new Date(),country:'',state:'',status:'individual',org_type:'',org_name:'',show:'none'};return _this;}_createClass(IndividualSignUp,[{key:\"onChangeFullname\",value:function onChangeFullname(e){this.setState({fullname:e.target.value});}},{key:\"onChangeEmail\",value:function onChangeEmail(e){this.setState({email:e.target.value});}},{key:\"onChangePassword\",value:function onChangePassword(e){this.setState({password:e.target.value});}},{key:\"onChangeGender\",value:function onChangeGender(e){this.setState({gender:e.target.value});}},{key:\"onChangePhone\",value:function onChangePhone(e){this.setState({phone:e.target.value});}},{key:\"onChangeDOB\",value:function onChangeDOB(date){this.setState({dob:date});}},{key:\"onChangeCountry\",value:function onChangeCountry(e){this.setState({country:e.target.value});}},{key:\"onChangeState\",value:function onChangeState(e){this.setState({state:e.target.value});}},{key:\"onChangeCorpType\",value:function onChangeCorpType(e){this.setState({org_type:e.target.value,show:'inline-block'});}},{key:\"onSubmit\",value:function onSubmit(e){var _this2=this;e.preventDefault();var TIC=this.state.org_type==='school'?md5(this.state.email).substring(0,8).toUpperCase():null;var individual={fullname:this.state.fullname,email:this.state.email,password:this.state.password,gender:this.state.gender,phone:this.state.phone,dob:this.state.dob,country:this.state.country,state:this.state.state,status:this.state.status,org_type:this.state.org_type?this.state.org_type:null,org_name:this.state.org_name?this.state.org_name:null,tic:TIC,sub_status_eas:\"inactive\",sub_status_efa:\"inactive\",sub_status_lm:\"inactive\",sub_status_rm:\"inactive\",sub_status_compt_mgt:\"inactive\"};axios.post('http://localhost:5000/individuals/check_email',individual).then(function(res){if(res.data.length>0){//display a flash message that user already exists\nalert(\"User Already Exists\");_this2.setState({fullname:'',email:'',password:'',gender:'',phone:'',dob:new Date(),country:'',state:'',org_type:'',org_name:'',show:'none'});}else{axios.post('http://localhost:5000/individuals/add',individual).then(function(res){console.log(\"User Registration Successful: \"+res.data.fullname);var Global_User={isLogged:true,id:res.data._id,name:res.data.fullname,email:res.data.email,gender:res.data.gender,phone:res.data.phone,dob:res.data.dob,country:res.data.country,state:res.data.state,status:res.data.status,org_name:res.data.org_name,org_type:res.data.org_type,jobs:res.data.jobs};//save user to session storage\nsessionStorage.setItem(\"key\",JSON.stringify(Global_User));// window.location = \"/individual_dashboard\";\nwindow.location=\"/frontier\";}).catch(function(err){return console.log(\"Error is: \"+err);});_this2.setState({fullname:'',email:'',password:'',gender:'',phone:'',dob:new Date(),country:'',state:''});}});}},{key:\"render\",value:function render(){return React.createElement(\"div\",{className:\"container\"},React.createElement(\"br\",null),React.createElement(\"h3\",{style:{'textAlign':'center','fontFamily':'gothic','color':'grey'}},\"Create an Individual Account\"),React.createElement(Row,null,React.createElement(Col,{className:\"col-lg-3 col-md-3 col-sm-1 col-1\"}),React.createElement(Col,{className:\"col-lg-6 col-md-6 col-sm-10 col-10\"},React.createElement(Card,{style:{'borderRadius':'5px'}},React.createElement(Card.Header,{as:\"h5\"},React.createElement(\"br\",null),React.createElement(Link,{to:\"/\"},\" \",React.createElement(\"span\",{className:\"oi oi-arrow-left\"}),\" \")),React.createElement(Card.Body,{style:{'opacity':'0.7'}},React.createElement(\"form\",{onSubmit:this.onSubmit},React.createElement(\"label\",null,\"Name\"),React.createElement(\"div\",{className:\"input-group\"},React.createElement(\"input\",{className:\"form-control\",required:true,type:\"text\",onChange:this.onChangeFullname,value:this.state.fullname,placeholder:\"Enter Fullname...\"})),React.createElement(\"br\",null),React.createElement(\"div\",{className:\"form-group\"},React.createElement(\"label\",null,\"Email:\"),React.createElement(\"input\",{className:\"form-control\",required:true,type:\"email\",onChange:this.onChangeEmail,value:this.state.email,placeholder:\"Enter Email...\"})),React.createElement(\"div\",{className:\"form-group\"},React.createElement(\"label\",null,\"Password:\"),React.createElement(\"input\",{className:\"form-control\",required:true,type:\"password\",onChange:this.onChangePassword,value:this.state.password,placeholder:\"Enter Password...\"})),React.createElement(\"div\",{class:\"input-group mb-3\"},React.createElement(\"div\",{class:\"input-group-prepend\"},React.createElement(\"label\",{class:\"input-group-text\",for:\"inputGroupSelect01\"},\"Gender\")),React.createElement(\"select\",{class:\"custom-select\",id:\"inputGroupSelect01\",required:true,onChange:this.onChangeGender,value:this.state.gender},React.createElement(\"option\",{selected:\"false\"},\"Select Gender...\"),React.createElement(\"option\",{value:\"Male\"},\"Male\"),React.createElement(\"option\",{value:\"Female\"},\"Female\"))),React.createElement(\"div\",{className:\"form-group\"},React.createElement(\"label\",null,\"Date of Birth:\"),\" \",React.createElement(\"br\",null),React.createElement(DatePicker,{selected:this.state.dob,onChange:this.onChangeDOB,required:\"true\"})),React.createElement(\"div\",{class:\"input-group mb-3\"},React.createElement(\"div\",{class:\"input-group-prepend\"},React.createElement(\"label\",{class:\"input-group-text\",for:\"inputGroupSelect01\"},\"Organization\")),React.createElement(\"select\",{class:\"custom-select\",id:\"inputGroupSelect01\",required:true,onChange:this.onChangeCorpType},React.createElement(\"option\",{selected:\"false\"},\"Where do you work\"),React.createElement(\"option\",{value:\"school\"},\"School\"),React.createElement(\"option\",{value:\"company\"},\"Company\")),React.createElement(\"span\",{className:\"text-muted\",style:{fontSize:'12px'}},\"This will help us provide appropriate content to you\")),React.createElement(\"div\",{className:\"row mt-3\"},React.createElement(\"div\",{className:\"col\",style:{display:this.state.show}},React.createElement(\"input\",{className:\"form-control\",type:\"text\",onChange:this.onchangeCorpName,value:this.state.org_name,placeholder:\"Enter \".concat(this.state.org_type,\" name...\")}))),React.createElement(\"br\",null),React.createElement(Button,{className:\"btn btn-primary\",type:\"submit\"},\"Sign Up\"),React.createElement(\"br\",null)))),React.createElement(\"br\",null),React.createElement(\"br\",null)),React.createElement(Col,{className:\"col-lg-3 col-md-3 col-sm-1 col-1\"})));}}]);return IndividualSignUp;}(Component);export{IndividualSignUp as default};","map":{"version":3,"sources":["/Users/mac/Desktop/esgrown/src/components/signup_individual.js"],"names":["React","Component","Link","md5","axios","DatePicker","Button","Row","Col","Card","Alert","IndividualSignUp","props","onchangeCorpName","e","setState","org_name","target","value","onChangeFullname","bind","onChangeEmail","onChangePassword","onChangeGender","onChangePhone","onChangeDOB","onChangeCountry","onChangeState","onChangeCorpType","onSubmit","state","fullname","email","password","gender","phone","dob","Date","country","status","org_type","show","date","preventDefault","TIC","substring","toUpperCase","individual","tic","sub_status_eas","sub_status_efa","sub_status_lm","sub_status_rm","sub_status_compt_mgt","post","then","res","data","length","alert","console","log","Global_User","isLogged","id","_id","name","jobs","sessionStorage","setItem","JSON","stringify","window","location","catch","err","fontSize","display"],"mappings":"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","sourcesContent":["import React, { Component } from \"react\";\nimport { Link } from \"react-router-dom\";\nimport md5 from 'md5';\nimport axios from 'axios';\nimport DatePicker from \"react-datepicker\";\nimport \"react-datepicker/dist/react-datepicker.css\";\nimport { Button, Row, Col, Card, Alert } from \"react-bootstrap\";\n\n\nexport default class IndividualSignUp extends Component {\n    constructor(props) {\n        super(props);\n\n        this.onChangeFullname = this.onChangeFullname.bind(this);\n        this.onChangeEmail = this.onChangeEmail.bind(this);\n        this.onChangePassword = this.onChangePassword.bind(this);\n        this.onChangeGender = this.onChangeGender.bind(this);\n        this.onChangePhone = this.onChangePhone.bind(this);\n        this.onChangeDOB = this.onChangeDOB.bind(this);\n        this.onChangeCountry = this.onChangeCountry.bind(this);\n        this.onChangeState = this.onChangeState.bind(this);\n        this.onChangeCorpType = this.onChangeCorpType.bind(this);\n        this.onSubmit = this.onSubmit.bind(this);\n\n\n        this.state = {\n            fullname: '',\n            email: '',\n            password: '',\n            gender: '',\n            phone: '',\n            dob: new Date(),\n            country: '',\n            state: '',\n            status: 'individual',\n            org_type: '',\n            org_name: '',\n            show: 'none'\n        }\n    }\n\n    onChangeFullname(e) {\n        this.setState({\n            fullname: e.target.value\n        });\n    }\n\n    onChangeEmail(e) {\n        this.setState({\n            email: e.target.value\n        });\n    }\n\n    onChangePassword(e) {\n        this.setState({\n            password: e.target.value\n        });\n    }\n\n    onChangeGender(e) {\n        this.setState({\n            gender: e.target.value\n        });\n    }\n\n    onChangePhone(e) {\n        this.setState({\n            phone: e.target.value\n        });\n    }\n\n    onChangeDOB(date) {\n        this.setState({\n            dob: date\n        });\n    }\n\n    onChangeCountry(e) {\n        this.setState({\n            country: e.target.value\n        });\n    }\n\n    onChangeState(e) {\n        this.setState({\n            state: e.target.value\n        });\n    }\n    onChangeCorpType(e) {\n        this.setState({\n            org_type: e.target.value,\n            show: 'inline-block'\n        });\n\n    }\n\n    onchangeCorpName = (e) => {\n        this.setState({\n            org_name: e.target.value\n        })\n\n    }\n\n    onSubmit(e){\n        e.preventDefault();\n\n        const TIC = this.state.org_type === 'school' ? md5(this.state.email).substring(0, 8).toUpperCase() : null;\n        \n        const individual = {\n            fullname: this.state.fullname,\n            email: this.state.email,\n            password: this.state.password,\n            gender: this.state.gender,\n            phone: this.state.phone,\n            dob: this.state.dob,\n            country: this.state.country,\n            state: this.state.state,\n            status: this.state.status,\n            org_type: this.state.org_type ? this.state.org_type : null,\n            org_name: this.state.org_name ? this.state.org_name : null,\n            tic: TIC,\n            sub_status_eas: \"inactive\",\n            sub_status_efa:\"inactive\",\n            sub_status_lm:\"inactive\",\n            sub_status_rm:\"inactive\",\n            sub_status_compt_mgt: \"inactive\"\n        }\n\n        axios.post('http://localhost:5000/individuals/check_email', individual)\n            .then(res => {\n                if (res.data.length > 0) {\n                    //display a flash message that user already exists\n                    alert(\"User Already Exists\");\n                    this.setState({\n                        fullname: '',\n                        email: '',\n                        password: '',\n                        gender: '',\n                        phone: '',\n                        dob: new Date(),\n                        country: '',\n                        state: '',\n                        org_type: '',\n                        org_name: '',\n                        show: 'none'\n                    });\n                } else {\n\n                    axios.post('http://localhost:5000/individuals/add', individual)\n                        .then(res => {\n                            console.log(\"User Registration Successful: \" + res.data.fullname);\n\n                            const Global_User = {\n                                isLogged: true,\n                                id: res.data._id,\n                                name: res.data.fullname,\n                                email: res.data.email,\n                                gender: res.data.gender,\n                                phone: res.data.phone,\n                                dob: res.data.dob,\n                                country: res.data.country,\n                                state: res.data.state,\n                                status: res.data.status,\n                                org_name: res.data.org_name,\n                                org_type: res.data.org_type,\n                                jobs:res.data.jobs\n\n                            }\n\n\n                            //save user to session storage\n                            sessionStorage.setItem(\"key\", JSON.stringify(Global_User));\n\n                            // window.location = \"/individual_dashboard\";\n                            window.location = \"/frontier\";\n\n                        })\n                        .catch(err => console.log(\"Error is: \" + err));\n\n                    this.setState({\n                        fullname: '',\n                        email: '',\n                        password: '',\n                        gender: '',\n                        phone: '',\n                        dob: new Date(),\n                        country: '',\n                        state: '',\n                    });\n                }\n            });\n\n\n    }\n\n    render() {\n        return (\n            <div className=\"container\" >\n                <br />\n                <h3 style={{ 'textAlign': 'center', 'fontFamily': 'gothic', 'color': 'grey' }}>Create an Individual Account</h3>\n                <Row>\n                    <Col className=\"col-lg-3 col-md-3 col-sm-1 col-1\"></Col>\n                    <Col className=\"col-lg-6 col-md-6 col-sm-10 col-10\">\n                        <Card style={{ 'borderRadius': '5px' }}>\n                            <Card.Header as=\"h5\"><br /><Link to=\"/\"> <span className=\"oi oi-arrow-left\"></span> </Link></Card.Header>\n                            <Card.Body style={{ 'opacity': '0.7', }}>\n                                <form onSubmit={this.onSubmit}>\n                                    <label>Name</label>\n                                    <div className=\"input-group\">\n                                        <input className=\"form-control\" required type=\"text\" onChange={this.onChangeFullname}\n                                            value={this.state.fullname} placeholder=\"Enter Fullname...\"></input>\n                                        {/* <input type=\"text\" aria-label=\"First name\" required className=\"form-control\" placeholder=\"First Name...\"/>\n                                        <input type=\"text\" aria-label=\"Last name\" required className=\"form-control\" placeholder=\"Last Name...\"/> */}\n                                    </div>\n                                    <br />\n                                    <div className=\"form-group\">\n                                        <label>Email:</label>\n                                        <input className=\"form-control\" required type=\"email\" onChange={this.onChangeEmail} value={this.state.email} placeholder=\"Enter Email...\"></input>\n                                    </div>\n                                    <div className=\"form-group\">\n                                        <label>Password:</label>\n                                        <input className=\"form-control\" required type=\"password\" onChange={this.onChangePassword} value={this.state.password} placeholder=\"Enter Password...\"></input>\n                                    </div>\n                                    <div class=\"input-group mb-3\">\n                                        <div class=\"input-group-prepend\">\n                                            <label class=\"input-group-text\" for=\"inputGroupSelect01\">Gender</label>\n                                        </div>\n                                        <select class=\"custom-select\" id=\"inputGroupSelect01\" required onChange={this.onChangeGender} value={this.state.gender}  >\n                                            <option selected=\"false\">Select Gender...</option>\n                                            <option value=\"Male\">Male</option>\n                                            <option value=\"Female\">Female</option>\n                                        </select>\n                                    </div>\n\n                                    <div className=\"form-group\">\n                                        <label>Date of Birth:</label> <br />\n                                        <DatePicker selected={this.state.dob} onChange={this.onChangeDOB} required=\"true\" />\n                                    </div>\n\n                                    <div class=\"input-group mb-3\">\n                                        <div class=\"input-group-prepend\">\n                                            <label class=\"input-group-text\" for=\"inputGroupSelect01\">Organization</label>\n                                        </div>\n                                        <select class=\"custom-select\" id=\"inputGroupSelect01\" required onChange={this.onChangeCorpType}>\n                                            <option selected=\"false\">Where do you work</option>\n                                            <option value=\"school\">School</option>\n                                            <option value=\"company\">Company</option>\n                                        </select>\n                                        <span className=\"text-muted\" style={{ fontSize: '12px' }}>This will help us provide appropriate content to you</span>\n                                    </div>\n\n                                    <div className=\"row mt-3\">\n                                        <div className=\"col\" style={{ display: this.state.show }}>\n                                            <input className=\"form-control\" type=\"text\" onChange={this.onchangeCorpName} value={this.state.org_name} placeholder={`Enter ${this.state.org_type} name...`}></input>\n                                        </div>\n                                    </div>\n                                    <br />\n\n\n                                    <Button className=\"btn btn-primary\" type=\"submit\">Sign Up</Button>\n                                    <br />\n                                </form>\n                            </Card.Body>\n                        </Card>\n                        <br /><br />\n                    </Col>\n                    <Col className=\"col-lg-3 col-md-3 col-sm-1 col-1\"></Col>\n                </Row>\n            </div>\n        );\n    }\n}"]},"metadata":{},"sourceType":"module"}